!function(s){function n(n){var t=s.extend(!0,{},s.fn.combobox.defaults,s(n).combobox("options")),i=t.customAttr.slave;null!=i.id&&(/^#/.test(i.id)?i.id=i.id:i.id="#"+i.id,t.multiple||t.editable||s(n).combobox("addEventListener",[{name:"onSelect",handler:function(e){!function(e,t,n){{var i;e.remote?(-1<(i=e.url||s(e.id).combobox("options").url).indexOf("?")?i+="&swd="+t[n]:i+="?swd="+t[n],s(e.id).combobox("clear").combobox("reload",i)):s(e.id).combobox("clear").combobox("loadData",t.data)}}(i,e,t.valueField)}},{name:"onChange",handler:function(e,t){null!=e&&""!=e||(s(i.id).combobox("clear").combobox("loadData",[]),s(n).combobox("textbox").trigger("blur"))}}]))}s.fn.combobox.defaults.customAttr={slave:{id:null,remote:!0,url:null}},s.extend(s.fn.combobox.methods,{followCustomHandle:function(e){return e.each(function(){var e,t;t=s(e=this).combobox("options"),s.extend(!0,{},s.fn.combobox.defaults,t).customAttr.headervalue&&s(e).combobox("addEventListener",{name:"onLoadSuccess",handler:function(){s(e).combobox("textbox").trigger("blur")}}),n(this),s(this).combo("followCustomHandle")})},addEventListener:function(e,t){return e.each(function(){var e=s.isArray(t)?t:[t],n=this;s.each(e,function(e,t){!function(e,t,n,i){var o=s(e).combobox("options"),r=o[t];switch(t){case"onBeforeLoad":o[t]=i?n:function(e){r.apply(this,arguments),n.apply(this,arguments)};break;case"onLoadSuccess":case"onLoadError":o[t]=i?n:function(){r.apply(this,arguments),n.apply(this,arguments)};break;case"onSelect":o[t]=i?n:function(e){r.apply(this,arguments),n.apply(this,arguments)};break;case"onUnselect":o[t]=i?n:function(e){r.apply(this,arguments),n.apply(this,arguments)};break;default:s(e).combo("addEventListener",{name:t,override:i,handler:n})}}(n,t.name,t.handler||function(){},t.override)})})},getSelected:function(e){for(var t=e.combobox("options").valueField,n=e.combobox("getValue"),i=e.combobox("getData"),o=0;o<i.length;o++){var r=i[o];if(r[t]==n)return r}return null}})}(jQuery),function(s){s.fn.combo.defaults.customAttr={headervalue:null,autocomplete:{enabled:!1,minLength:3,url:void 0}},s.extend(s.fn.combo.methods,{followCustomHandle:function(e){return e.each(function(){var n,e,t,i,o,r;n=this,t=s.data(n,"combo").options,(i=s.extend(!0,{},s.fn.combo.defaults,t)).customAttr.headervalue&&(t.required&&(e=['unequal["'+i.customAttr.headervalue+'"]'],t.validType?("string"==typeof t.validType&&(e.push(t.validType),t.validType=e),s.isArray(t.validType)&&s.merge(t.validType,e)):s.extend(t,{validType:e})),s(n).combo("addEventListener",{name:"onChange",handler:function(e,t){null!=e&&""!=e||s(n).combo("setText",i.customAttr.headervalue)}}).combo("textbox").val(i.customAttr.headervalue).attr("prompt",i.customAttr.headervalue).focus(function(){s(this).val()==i.customAttr.headervalue&&s(this).val("")}).blur(function(){""==s.trim(s(this).val())&&s(this).val(i.customAttr.headervalue),s(n).combo("validate")})),o=this,(r=s.extend(!0,{},s.fn.combo.defaults,s.data(o,"combo").options).customAttr.autocomplete).enabled&&s(o).combo("textbox").keyup(function(e){0!=s(this).val().length&&s(this).val().length%r.minLength==0&&r.url&&s.ajax({type:"POST",url:r.url,data:{wd:s(this).val()},dataType:"json",success:function(e){for(var t=s(o).combo("panel").empty(),n=0;n<e.length;n++)s("<div>").addClass("combobox-item").attr("value",e[n].id).text(e[n].text).click(function(e){var t=s(this).attr("value"),n=s(this).text();s(o).combo("setValue",t).combo("setText",n).combo("hidePanel")}).hover(function(){s(this).addClass("combobox-item-hover")},function(){s(this).removeClass("combobox-item-hover")}).appendTo(t)},error:function(e,t,n){s.messager.alert("Error",n,"error")}})})})},clear:function(e){return e.each(function(){var e,t;s(e=this).combo("getValue")&&(t=s.data(e,"combo").options,s(e).combo("setText",""),t.multiple?s(e).combo("setValues",[]):s(e).combo("setValue",""))})},getValue:function(e){return e=e[0],0<(e=s(e).combo("getValues")).length&&""!=e[0]?e[0]:null},addEventListener:function(e,t){return e.each(function(){var e=s.isArray(t)?t:[t],n=this;s.each(e,function(e,t){!function(e,t,n,i){var o=s(e).combo("options"),r=o[t];switch(t){case"onShowPanel":case"onHidePanel":o[t]=i?n:function(){r.apply(this,arguments),n.apply(this,arguments)};break;case"onChange":o[t]=i?n:function(e,t){r.apply(this,arguments),n.apply(this,arguments)}}}(n,t.name,t.handler||function(){},t.override)})})}})}(jQuery),function(e){e.extend(e.fn.combogrid.methods,{getSelected:function(e){return e.combogrid("grid").datagrid("getSelected")}})}(jQuery),function(t){t.extend(t.fn.combotree.methods,{followCustomHandle:function(e){return e.each(function(){t(this).combotree("tree").tree("followCustomHandle"),t(this).combo("followCustomHandle")})}})}(jQuery),function(d){function u(e,t,n){e=h(e,n),n=d("#"+e);return n=0==n.length?d("<div>",{id:e}).menu().menu("appendItems",t):n}function h(e,t){return d(e).attr("id")+"_"+t}function p(e){var n={};return d.each(e,function(){var e,t=this;t.onclick&&(e=t.id||t.text,n[e]=t.onclick,delete t.onclick),t.submenu&&d.isArray(t.submenu)&&0<t.submenu.length&&d.extend(n,p(t.submenu))}),n}function t(i){var o,r,s,e,a,l,t,n=d.extend(!0,{},d.fn.datagrid.defaults,d(i).datagrid("options")),c=n.customAttr.headerContextMenu;c.isShow&&(n.columns[0][0].checkbox&&(n.columns[0][0].field="ck"),s=h(o=i,"headerContextMenu"),e=[{text:StrackLang.Show_Hide_Column,iconCls:"icon-columns",submenu:[{id:s+"_showAll",text:StrackLang.ShowAll,iconCls:"icon-columns",onclick:function(e,t,n){d.fn.datagrid.headerContextMenu.defaultEvents.doShowAll(n)}},{id:s+"_restore",text:StrackLang.Restore,iconCls:"icon-columns",onclick:function(e,t,n){d.fn.datagrid.headerContextMenu.defaultEvents.doRestore(n)}},"-"]}],a=[],d(o).datagrid("getColumnFields",!0),n=d(o).datagrid("getColumnFields"),r=!1,d.each(n,function(e,t){if(!t||"ck"==t)return!0;var n=d(o).datagrid("getColumnOption",t);n._hidden=n.hidden,a.push({id:s+"-"+t,text:n.title,disabled:r,iconCls:n.hidden?"icon-unchecked":"icon-checked",onclick:function(e,t,n){var i,i=(i=e.id).substr(i.lastIndexOf("-")+1,i.length);d(n).datagrid("getColumnOption",i).hidden?d.fn.datagrid.headerContextMenu.defaultEvents.doShowColumn(n,i,e):d.fn.datagrid.headerContextMenu.defaultEvents.doHideColumn(n,i,e)}})}),d.merge(e[0].submenu,a),e=e,c.isMerge&&d.merge(e,c.items),l=p(e=!c.isMerge&&d.isArray(c.items)&&0<c.items.length?c.items:e),t=u(i,e,"headerContextMenu"),d(i).datagrid("addEventListener",{name:"onHeaderContextMenu",handler:function(e,n){e.preventDefault(),t.menu("addEventListener",[{name:"onClick",override:!0,handler:function(e){var t=e.id||e.text;l[t]&&l[t].call(this,e,n,i)}},{name:"onShow",override:!0,handler:function(){c.onShow&&c.onShow.call(this,n,i)}},{name:"onHide",override:!0,handler:function(){c.onHide&&c.onHide.call(this)}}]).menu("show",{left:e.pageX,top:e.pageY})}}))}function n(o){var e,r,t,n=d.extend(!0,{},d.fn.datagrid.defaults,d(o).datagrid("options")).customAttr.rowContextMenu;n.isShow&&(e=[{id:(e=h(e=o,"rowContextMenu"))+"_delete",text:"删除",iconCls:"icon-remove",onclick:function(e,t,n,i){d.fn.datagrid.rowContextMenu.defaultEvents.doDelete(e,t,n,i)}},"-",{id:e+"_reload",text:"刷新",iconCls:"icon-reload",onclick:function(e,t,n,i){d.fn.datagrid.rowContextMenu.defaultEvents.doReload(e,t,n,i)}},{id:e+"_reload_this_page",text:"刷新当前页",onclick:function(e,t,n,i){d.fn.datagrid.rowContextMenu.defaultEvents.doReloadThisPage(e,t,n,i)}}],n.isMerge&&d.merge(e,n.items),r=p(e=!n.isMerge&&d.isArray(n.items)&&0<n.items.length?n.items:e),t=u(o,e,"rowContextMenu"),d(o).datagrid("addEventListener",{name:"onRowContextMenu",handler:function(e,n,i){e.preventDefault(),d(o).datagrid("selectRow",n),t.menu("addEventListener",{name:"onClick",override:!0,handler:function(e){var t=e.id||e.text;r[t]&&r[t].call(this,e,n,i,o)}}).menu("show",{left:e.pageX,top:e.pageY})}}))}function o(a){var l,c,i,o=d.extend(!0,{},d.fn.datagrid.defaults,d(a).datagrid("options"));o.customAttr.rowediting&&(l=function(e){return d(e).attr("id")+"_editor_buttons_panel"},c=function(t){var e,n,i=l(t);0<d("#"+i).length||(n=d(t).datagrid("getPanel"),(e=d.data(t,"datagrid").dc.body2).css("position","relative"),n=d("<div>",{id:i}).addClass("dialog-button").appendTo(e).css({position:"absolute",display:"block","border-bottom":"1px solid #ddd","border-left":"1px solid #ddd","border-right":"1px solid #ddd",left:parseInt(n.width()/2)-120,"z-index":2013,display:"none",padding:"4px 5px"}),d('<a href="javascript:void(0)">确定</a>').css("margin-left","0px").linkbutton({iconCls:"icon-ok"}).click(function(){var e=d(t).datagrid("getRowIndex",d(t).datagrid("getEditingRow"));o.customAttr.onConfirmEdit.call(t,e)&&d(t).datagrid("endEdit",e)}).appendTo(n),d('<a href="javascript:void(0)">取消</a>').css("margin-left","6px").linkbutton({iconCls:"icon-cancel"}).click(function(){var e=d(t).datagrid("getRowIndex",d(t).datagrid("getEditingRow"));d(t).datagrid("cancelEdit",e)}).appendTo(n))},i=function(e){e="#"+l(e);d(e).hide()},d(a).datagrid("addEventListener",[{name:"onLoadSuccess",handler:function(e){c(this)}},{name:"onBeforeEdit",handler:function(e,t){var n,i,o,r,s;c(a),n=a,i=e,o=d.data(n,"datagrid").options.finder.getTr(n,i,"body",2),r=o.position(),i="#"+l(n),s=d.data(n,"datagrid").dc.body2,d(i).css((e=o.height(),n=o.width(),i=r.top+s.scrollTop(),o=r.left,o=n>s.width()?s.width()/2-120:n/2-120,r.top+(2*e+11)>s.height()?i-=e+11:i+=e,{top:i,left:o})).show()}},{name:"onAfterEdit",handler:function(e,t,n){i(a)}},{name:"onCancelEdit",handler:function(e,t){i(a)}}]))}function r(a){var l,t,c=d.extend(!0,{},d.fn.datagrid.defaults,d(a).datagrid("options"));c.customAttr.tooltip.enable&&(l=function(e,t){var n={position:c.customAttr.tooltip.position,trackMouse:!0,onHide:function(){d(e).tooltip("destroy")},onShow:function(){d.isPlainObject(t)&&t.css&&d(this).tooltip("tip").css(t.css)}};d.extend(n,d.isPlainObject(t)?t:{content:t}),d(e).tooltip(n).tooltip("show")},t=function(){var t;"row"==c.customAttr.tooltip.target?c.finder.getTr(a,"","allbody").each(function(){var e,t,n,i,o,r,s=d(this);s.hasClass("datagrid-row")&&(e=s,t=c.customAttr.tooltip.formatter,o=parseInt(e.attr("datagrid-row-index")),s=d(a).datagrid("getRows")[o],r=t?t(s,o):(n=s,i=[],s=d.grep(d.merge(d(a).datagrid("getColumnFields",!0),d(a).datagrid("getColumnFields")),function(e,t){return 0<d.trim(e).length}),d.each(s,function(){var e=d(a).datagrid("getColumnOption",this).title;i.push(e+": "+n[this])}),i.join("<br>")),e.mouseover(function(){l(this,r)}))}):c.customAttr.tooltip.fields&&d.isArray(c.customAttr.tooltip.fields)&&(d(a).datagrid("getPanel"),t=d.data(a,"datagrid").dc.body2,d.each(c.customAttr.tooltip.fields,function(){var e,n;e=d("td[field="+this+"]",t),n=c.customAttr.tooltip.formatter,e.mouseover(function(){var e=d(this).parent().attr("datagrid-row-index"),t=d(a).datagrid("getRows")[e],e=d(this).attr("field"),t=t[e],t=n?n(t,e):t;l(this,t)})}))},d(a).datagrid("addEventListener",{name:"onLoadSuccess",handler:function(e){t()}}))}function s(e,t){var i=d(e).datagrid("options");i.frozenColumns[0]||(i.frozenColumns=[[]]);t=d(e).datagrid("getColumnOption",t);i.frozenColumns[0].push(t),function(e){for(var t=0;t<i.columns.length;t++)for(var n=0;n<i.columns[t].length;n++)if(i.columns[t][n].field==e.field)return i.columns[t].splice(n,1)}(t),d(e).datagrid(i);t=d(e).datagrid("getHeaderContextMenu").menu("findItem",t.title);d(e).datagrid("getHeaderContextMenu").menu("disableItem",t.target)}function c(n,i,e,o){var r=d(n).datagrid("options"),t=d.data(n,"datagrid").dc,s=(1==e?t.header1:t.header2).find(">table>tbody>tr.datagrid-header-row>td[field="+i+"]");o<e?(1==o?t.header1:t.header2).find(">table>tbody>tr.datagrid-header-row").append(s):(1==o?t.header1:t.header2).find(">table>tbody>tr.datagrid-header-row").children("td[field]").each(function(){if(a(i,d(this).attr("field")))return d(this).before(s),!1});t=(1==e?t.body1:t.body2).find(">table>tbody>tr>td[field="+i+"]");function a(e,t){return l(e)<l(t)}function l(e){return d.inArray(e,d(n).datagrid("getColumnFields"))}o<e?d.each(t,function(e,t){r.finder.getTr(n,e,"body",o).append(t)}):d.each(t,function(e,t){r.finder.getTr(n,e,"body",o).children("td[field]").each(function(){if(a(i,d(this).attr("field")))return d(this).before(t),!1})}),d(n).datagrid("fixColumnSize")}function f(e,t,n){var i=d.inArray(t,d(e).datagrid("getColumnFields")),o=d(e).datagrid("getColumnOption",t);d.extend(o,{index:i});i=d(e).datagrid("getHeaderContextMenu"),o=i.menu("findItem",o.title);o&&(n?i.menu("disableItem",o.target):i.menu("enableItem",o.target))}function a(e,t,n){var i=d(e).datagrid("options"),o=$(".unfrozen_gtitle"),r=$(".frozen_gtitle");i.frozenColumns.length<2&&(o.hide(),r.show().html(o.html())),(n?function(e,t){var n=d(e).datagrid("options"),i=d(e).datagrid("getColumnFields",!0),o=n.columns[0],r=[],s=[],a=o[0];0==i.length&&a.checkbox&&c(e,a.field,2,1),f(e,t,!0),c(e,t,2,1);for(var l=0;l<o.length;l++)(o[l].field==t||o[l].checkbox?s:r).push(o[l]);r.length<1?n.columns=[]:n.columns[0]=r,n.frozenColumns[0]?s.forEach(function(e){n.frozenColumns[0].push(e)}):n.frozenColumns.push(s)}:s)(e,t)}d.fn.datagrid.headerContextMenu={},d.fn.datagrid.headerContextMenu.defaultEvents={doHideColumn:function(e,t,n){d(e).datagrid("hideColumn",t),d(e).datagrid("getHeaderContextMenu").menu("setIcon",{target:n.target,iconCls:"icon-unchecked"})},doShowColumn:function(e,t,n){d(e).datagrid("showColumn",t),d(e).datagrid("getHeaderContextMenu").menu("setIcon",{target:n.target,iconCls:"icon-checked"})},doShowAll:function(e){var t=d(e).datagrid("getColumnFields"),n=d(e).datagrid("getHeaderContextMenu");for(i in t){d(e).datagrid("showColumn",t[i]);var o=d(e).datagrid("getColumnOption",t[i]),o=n.menu("findItem",o.title);o&&n.menu("setIcon",{target:o.target,iconCls:"icon-checked"})}},doRestore:function(e){var t=d(e).datagrid("getColumnFields"),n=d(e).datagrid("getHeaderContextMenu");for(i in t){var o=d(e).datagrid("getColumnOption",t[i]),r=n.menu("findItem",o.title);o._hidden?(d(e).datagrid("hideColumn",t[i]),r&&n.menu("setIcon",{target:r.target,iconCls:"icon-unchecked"})):(d(e).datagrid("showColumn",t[i]),r&&n.menu("setIcon",{target:r.target,iconCls:"icon-checked"}))}}},d.fn.datagrid.rowContextMenu={},d.fn.datagrid.rowContextMenu.defaultEvents={doAdd:function(e,t,n,i){},doEdit:function(e,t,n,i){},doDelete:function(e,t,n,i){d.messager.confirm("疑问","您确定要删除已选中的行？",function(e){e&&d(i).datagrid("deleteRows",d(i).datagrid("getSelections"))})},doReload:function(e,t,n,i){d(i).datagrid("load")},doReloadThisPage:function(e,t,n,i){d(i).datagrid("reload")},doExportThisPage:function(e,t,n,i){},doExprotAll:function(e,t,n,i){}},d.extend(d.fn.datagrid.defaults.editors,{my97:{init:function(e,t){e=d('<input type="text" class="Wdate">').appendTo(e);return t=d.extend({},t=t||{},{readOnly:!0}),e.focus(function(){WdatePicker()})},getValue:function(e){return d(e).val()},setValue:function(e,t){d(e).val(t)},resize:function(e,t){e=d(e);1==d.boxModel?e.width(t-(e.outerWidth()-e.width())):e.width(t)}},numberspinner:{init:function(e,t){e=d('<input type="text">').appendTo(e);return t=d.extend({},t=t||{},{min:0,editable:!1}),e.numberspinner(t)},getValue:function(e){return d(e).numberspinner("getValue")},setValue:function(e,t){d(e).numberspinner("setValue",t)},resize:function(e,t){d(e).numberspinner("resize",t)}},timespinner:{init:function(e,t){return d('<input type="text">').appendTo(e).timespinner(t=t||{})},getValue:function(e){return d(e).timespinner("getValue")},setValue:function(e,t){d(e).timespinner("setValue",t)},resize:function(e,t){d(e).timespinner("resize",t)}},combogrid:{init:function(e,t){e=d('<input type="text">').appendTo(e);return t=d.extend({},t=t||{},{panelWidth:400,editable:!1}),e.combogrid(t)},getValue:function(e){return d(e).combogrid("getValue")},setValue:function(e,t){d(e).combogrid("setValue",t)},resize:function(e,t){d(e).combogrid("resize",t)}}}),d.fn.datagrid.defaults.customAttr={headerContextMenu:{isShow:!1,isMerge:!0,items:[],onShow:function(e,t){},onHide:function(){}},rowContextMenu:{isShow:!1,isMerge:!0,items:[]},pagination:{showPageList:!1,showRefresh:!0,beforePageText:void 0,afterPageText:void 0,displayMsg:void 0},slaveList:void 0,activeSlave:"dblclickrow",rowediting:!1,tooltip:{enable:!1,target:"row",position:"bottom",fields:void 0,formatter:void 0},onConfirmEdit:function(e){return!0}},d.extend(d.fn.datagrid.methods,{followCustomHandle:function(e){return e.each(function(){t(this),n(this),function(e){var t=d.extend(!0,{},d.fn.datagrid.defaults,d(e).datagrid("options"));if(d.isArray(t.customAttr.slaveList)&&0!=t.customAttr.slaveList.length){var n,i={slaveList:t.customAttr.slaveList,activeSlave:t.customAttr.activeSlave},o=d(e),r=[];for(n in i.slaveList){var s,a={id:i.slaveList[n].id,params:{}},l={};i.slaveList[n].relatedfield?(s=i.slaveList[n].relatedfield,l[i.slaveList[n].relatedfield]="undefined"):l[s=o.datagrid("options").idField]="undefined",d.extend(a.params,l,i.slaveList[n].queryParams),r.push(a)}i.activeSlave==d.fn.datagrid.defaults.customAttr.activeSlave&&o.datagrid("addEventListener",{name:"onDblClickRow",handler:function(e,t){for(var n in r)r[n].params[s]=t[s],d("#"+r[n].id).datagrid("load",r[n].params)}})}}(this),o(this),r(this)})},getHeaderContextMenu:function(e){return d("#"+h(e[0],"headerContextMenu"))},getRowContextMenu:function(e){return d("#"+h(e[0],"rowContextMenu"))},getEditingRow:function(e){e=e.datagrid("getEditingRows");return e.length?e[0]:null},getEditingRows:function(e){var t=d.data(e[0],"datagrid"),n=t.options,i=t.data,o=[];return n.finder.getTr(e[0],"","allbody").each(function(){var e;d(this).hasClass("datagrid-row-editing")&&(e=parseInt(d(this).attr("datagrid-row-index")),o.push(i.rows[e]))}),o},setPagination:function(e,t){return e.each(function(){d(this).datagrid("getPager").pagination(t)})},deleteRows:function(e,t){return e.each(function(){var e=void 0,e=d.isArray(t)?t:[t],i=this;d.each(e,function(e,t){var n;d.isPlainObject(t)?(n=d(i).datagrid("getRowIndex",t),d(i).datagrid("deleteRow",n)):d(i).datagrid("deleteRow",t)})})},Freeze_Column:function(e,t){return e.each(function(){a(this,t,!0)})},unfreezColumn:function(e,t){return e.each(function(){!function(e,t){var n=d(e).datagrid("options"),i=n.frozenColumns[0],o=(n.columns[0],[]),r=[];2==i.length&&($(".frozen_gtitle").hide(),$(".unfrozen_gtitle").show());for(var s=0;s<i.length;s++)i[s].field==t?r.push(i[s]):i[s].checkbox&&2==i.length&&o.push(i[s]);f(e,t,!1),c(e,t,1,2),o.length<1?n.frozenColumns=[]:n.frozenColumns[0]=o,n.columns[0]?r.forEach(function(e){n.columns[0].unshift(e)}):n.columns.push(r)}(this,t)})},addEventListener:function(e,t){return e.each(function(){var e=d.isArray(t)?t:[t],n=this;d.each(e,function(e,t){!function(e,t,i,n){var o=d(e).datagrid("options"),r=o[t];switch(t){case"onLoadSuccess":o[t]=n?i:function(e){r.apply(this,arguments),i.apply(this,arguments)};break;case"onLoadError":o[t]=n?i:function(){r.apply(this,arguments),i.apply(this,arguments)};break;case"onBeforeLoad":o[t]=n?i:function(e){r.apply(this,arguments),i.apply(this,arguments)};break;case"onClickRow":o[t]=n?i:function(e,t){r.apply(this,arguments),i.apply(this,arguments)};break;case"onDblClickRow":o[t]=n?i:function(e,t){r.apply(this,arguments),i.apply(this,arguments)};break;case"onClickCell":o[t]=n?i:function(e,t,n){r.apply(this,arguments),i.apply(this,arguments)};break;case"onDblClickCell":o[t]=n?i:function(e,t,n){r.apply(this,arguments),i.apply(this,arguments)};break;case"onSortColumn":o[t]=n?i:function(e,t){r.apply(this,arguments),i.apply(this,arguments)};break;case"onResizeColumn":o[t]=n?i:function(e,t){r.apply(this,arguments),i.apply(this,arguments)};break;case"onSelect":o[t]=n?i:function(e,t){r.apply(this,arguments),i.apply(this,arguments)};break;case"onUnselect":o[t]=n?i:function(e,t){r.apply(this,arguments),i.apply(this,arguments)};break;case"onSelectAll":o[t]=n?i:function(e){r.apply(this,arguments),i.apply(this,arguments)};break;case"onUnselectAll":o[t]=n?i:function(e){r.apply(this,arguments),handlerapply(this,arguments)};break;case"onCheck":o[t]=n?i:function(e,t){r.apply(this,arguments),i.apply(this,arguments)};break;case"onUncheck":o[t]=n?i:function(e,t){r.apply(this,arguments),i.apply(this,arguments)};break;case"onCheckAll":o[t]=n?i:function(e){r.apply(this,arguments),i.apply(this,arguments)};break;case"onUncheckAll":o[t]=n?i:function(e){r.apply(this,arguments),i.apply(this,arguments)};break;case"onBeforeEdit":o[t]=n?i:function(e,t){r.apply(this,arguments),i.apply(this,arguments)};break;case"onAfterEdit":o[t]=n?i:function(e,t,n){r.apply(this,arguments),i.apply(this,arguments)};break;case"onCancelEdit":o[t]=n?i:function(e,t){r.apply(this,arguments),i.apply(this,arguments)};break;case"onHeaderContextMenu":o[t]=n?i:function(e,t){r.apply(this,arguments),i.apply(this,arguments)};break;case"onRowContextMenu":o[t]=n?i:function(e,t,n){r.apply(this,arguments),i.apply(this,arguments)};break;case"onExpandRow":o[t]=n?i:function(e,t){r&&r.apply(this,arguments),i.apply(this,arguments)};break;case"onCollapseRow":o[t]=n?i:function(e,t){r&&r.apply(this,arguments),i.apply(this,arguments)}}}(n,t.name,t.handler||function(){},t.override)})})},fixDetailRowWidth:function(e,t){return e.each(function(){var e=d.data(this,"datagrid").dc.header2.children();t.handler&&t.handler.call(this,t.index,e.width())})},getAllExpandRowIndex:function(e){return t=e[0],e=d(t).datagrid("options"),n=[],e.finder.getTr(t,"","allbody",1).each(function(){0<d("span.datagrid-row-collapse",this).length&&n.push(d(this).attr("datagrid-row-index"))}),n;var t,n},getExpandRowIndex:function(e){e=e.datagrid("getAllExpandRowIndex");return 0<e.length?e[0]:-1}})}(jQuery),function(d){function u(e){var t=d(e),n=d.data(e,"portal").options;n.fit&&(l=t.parent(),n.width=l.width(),n.height=l.height()),isNaN(n.width)?t.width("auto"):t._outerWidth(n.width),isNaN(n.height)?t.height("auto"):t._outerHeight(n.height);for(var i=t.find(">table").outerHeight()>t.height(),o=t.width(),r=d.data(e,"portal").columnWidths,s=0,a=0;a<r.length;a++){var l=t.find("div.portal-column:eq("+a+")"),c=Math.floor(o*r[a]);a==r.length-1&&(c=o-s-(1==i?18:0)),l._outerWidth(c),s+=l.outerWidth(),l.find("div.portal-p").panel("resize",{width:l.width()})}n.onResize.call(e,n.width,n.height)}function s(a,t){var l;function c(e,t){l._outerWidth(e),t&&l._outerHeight(t)}t.panel("panel").draggable({handle:">div.panel-header>div.panel-title",proxy:function(e){var t=d('<div class="portal-proxy">proxy</div>').insertAfter(e);return t.width(d(e).width()),t.height(d(e).height()),t.html(d(e).html()),t.find("div.portal-p").removeClass("portal-p"),t},onBeforeDrag:function(e){e.data.startTop=d(this).position().top+d(a).scrollTop()},onStartDrag:function(e){d(this).hide(),l=d('<div class="portal-spacer"></div>').insertAfter(this),c(d(this).outerWidth(),d(this).outerHeight())},onDrag:function(e){var n,i,o,r,s,t=(n=e,i=this,o=null,d(a).find("div.portal-p").each(function(){var e,t=d(this).panel("panel");t[0]!=i&&(e=t.offset(),n.pageX>e.left&&n.pageX<e.left+t.outerWidth()&&n.pageY>e.top&&n.pageY<e.top+t.outerHeight()&&(o=n.pageY>e.top+t.outerHeight()/2?{target:t,pos:"down"}:{target:t,pos:"up"}))}),o);t?("up"==t.pos?l.insertBefore(t.target):l.insertAfter(t.target),c(d(t.target).outerWidth())):(e=(r=e,s=null,d(a).find("div.portal-column").each(function(){var e=d(this),t=e.offset();r.pageX>t.left&&r.pageX<t.left+e.outerWidth()&&(s=e)}),s))&&0==e.find("div.portal-spacer").length&&(l.appendTo(e),u(a),c(e.width()))},onStopDrag:function(e){d(this).css("position","static"),d(this).show(),l.hide(),d(this).insertAfter(l),l.remove(),u(a),t.panel("move"),d.data(a,"portal").options.onStateChange.call(a,t)}})}d.fn.portal=function(t,e){return"string"==typeof t?d.fn.portal.methods[t](this,e):(t=t||{},this.each(function(){var e=d.data(this,"portal");e?d.extend(e.options,t):e=d.data(this,"portal",{options:d.extend({},d.fn.portal.defaults,d.fn.portal.parseOptions(this),t),columnWidths:function(n){d(n).addClass("portal");var i=d('<table border="0" cellspacing="0" cellpadding="0"><tr></tr></table>').appendTo(n).find("tr"),o=[],r=0;d(n).children("div:first").addClass("portal-column-left"),d(n).children("div:last").addClass("portal-column-right"),d(n).find(">div").each(function(){var e=d(this);r+=e.outerWidth(),o.push(e.outerWidth());var t=d('<td class="portal-column-td"></td>').appendTo(i);e.addClass("portal-column").appendTo(t),e.find(">div").each(function(){var e=d(this).addClass("portal-p").panel({doSize:!1,cls:"portal-panel"});s(n,e)})});for(var e=0;e<o.length;e++)o[e]/=r;return d(n).bind("_resize",function(){return 1==d.data(n,"portal").options.fit&&u(n),!1}),o}(this)}),e.options.border?d(this).removeClass("portal-noborder"):d(this).addClass("portal-noborder"),d("#easyui-portal-style").length||d("head").append('<style id="easyui-portal-style">.portal{padding:0;margin:0;overflow:auto;}.portal-noborder{border:0;}.portal .portal-panel{margin-bottom:10px;}.portal-column-td{vertical-align:top;}.portal-column{padding:10px 0 10px 10px;overflow:hidden;}.portal-column-left{padding-left:10px;}.portal-column-right{padding-right:10px;}.portal-proxy{opacity:0.6;filter:alpha(opacity=60);}.portal-spacer{border:3px dashed #eee;margin-bottom:10px;}</style>'),u(this)}))},d.fn.portal.methods={options:function(e){return d.data(e[0],"portal").options},resize:function(e,t){return e.each(function(){var e;t&&(e=d.data(this,"portal").options,t.width&&(e.width=t.width),t.height&&(e.height=t.height)),u(this)})},getPanels:function(e,t){var n=e;0<=t&&(n=e.find("div.portal-column:eq("+t+")"));var i=[];return n.find("div.portal-p").each(function(){i.push(d(this))}),i},add:function(e,n){return e.each(function(){var e=d(this).find("div.portal-column:eq("+n.columnIndex+")"),t=n.panel.addClass("portal-p");t.panel("panel").addClass("portal-panel").appendTo(e),s(this,t),t.panel("resize",{width:e.width()})})},remove:function(e,i){return e.each(function(){for(var e=d(this).portal("getPanels"),t=0;t<e.length;t++){var n=e[t];n[0]==d(i)[0]&&n.panel("destroy")}})},disableDragging:function(e,t){return t.panel("panel").draggable("disable"),e},enableDragging:function(e,t){return t.panel("panel").draggable("enable"),e}},d.fn.portal.parseOptions=function(e){var t=d(e);return{width:parseInt(e.style.width)||void 0,height:parseInt(e.style.height)||void 0,border:t.attr("border")?"true"==t.attr("border"):void 0,fit:t.attr("fit")?"true"==t.attr("fit"):void 0}},d.fn.portal.defaults={width:"auto",height:"auto",border:!0,fit:!1,onResize:function(e,t){},onStateChange:function(e){}}}(jQuery),jQuery.extend({dateFormat:function(e,t){if(null==e)return null;var n;n=null==t?"yyyy-MM-dd":t;var i=e.getFullYear().toString(),o=(e.getMonth()+1).toString(),r=e.getDate().toString(),s=e.getHours().toString(),a=e.getMinutes().toString(),l=e.getSeconds().toString(),c=n.replace(/[^y]/g,""),d=n.replace(/[^M]/g,""),u=n.replace(/[^d]/g,""),h=n.replace(/[^h]/g,""),t=n.replace(/[^m]/g,""),e=n.replace(/[^s]/g,"");return 2==c.length&&(i=i.substring(2,4)),1<d.length&&1==o.length&&(o="0"+o),1<u.length&&1==r.length&&(r="0"+r),1<h.length&&1==s.length&&(s="0"+s),1<t.length&&1==a.length&&(a="0"+a),1<e.length&&1==l.length&&(l="0"+l),0<c.length&&(n=n.replace(c,i)),0<d.length&&(n=n.replace(d,o)),0<u.length&&(n=n.replace(u,r)),0<h.length&&(n=n.replace(h,s)),0<t.length&&(n=n.replace(t,a)),n=0<e.length?n.replace(e,l):n},parseDate:function(e,t){var n=new Date;if(null==e)return n;var i=(c=null==t?"yyyy-MM-dd":t).replace(/[^y]/g,""),o=c.replace(/[^M]/g,""),r=c.replace(/[^d]/g,""),s=c.replace(/[^h]/g,""),a=c.replace(/[^m]/g,""),l=c.replace(/[^s]/g,""),t=c.indexOf(i),i=i.length,t=parseInt(e.substring(t,t+i));isNaN(t)?t=n.getYear():2==i&&(t+=t<50?2e3:1900);i=c.indexOf(o),i=parseInt(e.substring(i,i+o.length));isNaN(i)?i=n.getMonth():--i;o=c.indexOf(r),r=parseInt(e.substring(o,o+r.length));isNaN(r)&&(r=n.getDate());n=c.indexOf(s),n=parseInt(e.substring(n,n+s.length));isNaN(n)&&(n=0);s=c.indexOf(a),a=parseInt(e.substring(s,s+a.length));isNaN(a)&&(a=0);var c=c.indexOf(l),l=parseInt(e.substring(c,c+l.length));return isNaN(l)&&(l=0),new Date(t,i,r,n,a,l)}}),function(i){i.extend({mask:function(e){var t=i.extend({},{target:"body",loadMsg:i.fn.datagrid.defaults.loadMsg},e=e||{});this.unmask(t),"body"!=t.target&&"static"==i(t.target).css("position")&&i(t.target).addClass("mask-relative");i('<div class="datagrid-mask" style="display:block;"></div>').appendTo(t.target);var n=i('<div class="datagrid-mask-msg" style="display:block; left: 50%;"></div>').html(t.loadMsg).appendTo(t.target);setTimeout(function(){n.css("marginLeft",-n.outerWidth()/2)},5);e=".mask-relative {position: relative !important;}",0<i("#"+(t="mask_css")).length||i("<style>"+e+"</style>").attr("id",t).attr("type","text/css").appendTo("head")},unmask:function(e){var t=e.target||"body";i(">div.datagrid-mask-msg",t).remove(),i(">div.datagrid-mask",t).remove(),i(e.target).removeClass("mask-relative")}})}(jQuery),function(s){s.extend(s.fn.menu.methods,{followCustomHandle:function(e){},appendItems:function(e,t){return e.each(function(){!function i(o,e,r){e&&s.isArray(e)&&s.each(e,function(){var e,t=this,n={};r&&s.extend(n,{parent:r}),s.isPlainObject(this)?(s(o).menu("appendItem",s.extend(this,n)),this.submenu&&(e=s(o).menu("findItem",this.text),i(o,this.submenu,e.target))):"-"==this&&(t=s(o).menu("appendItem",s.extend({text:this},n)).menu("findItem",this).target,s(t).removeClass("menu-item").addClass("menu-sep").removeAttr("style").empty())})}(this,t)})},addEventListener:function(e,t){return e.each(function(){var e=s.isArray(t)?t:[t],n=this;s.each(e,function(e,t){!function(e,t,n,i){var o=s(e).menu("options"),r=o[t];switch(t){case"onShow":case"onHide":o[t]=i?n:function(){r.apply(this,arguments),n.apply(this,arguments)};break;case"onClick":o[t]=i?n:function(e){r.apply(this,arguments),n.apply(this,arguments)}}}(n,t.name,t.handler||function(){},t.override)})})}})}(jQuery),function(s){s.fn.panel.defaults.customAttr={toolbar:{buttonPosition:"left",data:void 0}},s.extend(s.fn.panel.methods,{followCustomHandle:function(e){return e.each(function(){var e,t;e=this,(t=s.extend(!0,{},s.fn.panel.defaults,s(e).panel("options")).customAttr.toolbar)&&(e=s(e).panel("body"),"string"==typeof t?(s(t).addClass("dialog-toolbar panel-body").insertBefore(e),s(t).show()):s("<div></div>").insertBefore(e).toolbar(t))})},addEventListener:function(e,t){return e.each(function(){var e=s.isArray(t)?t:[t],n=this;s.each(e,function(e,t){!function(e,t,n,i){var o=s(e).panel("options"),r=o[t];switch(t){case"onResize":o[t]=i?n:function(e,t){r.apply(this,arguments),n.apply(this,arguments)};break;case"onMove":o[t]=i?n:function(e,t){r.apply(this,arguments),n.apply(this,arguments)};break;default:o[t]=i?n:function(){r.apply(this,arguments),n.apply(this,arguments)}}}(n,t.name,t.handler||function(){},t.override)})})}})}(jQuery),function(l){function e(e,t){var n=e,i=t;n<1&&(n=1),i<1&&(i=1);var o=parseInt(l(this).parent().css("width"))+14,r=parseInt(l(this).parent().css("height"))+14,s=n+o,a=i+r,e=l(window).width(),t=l(window).height();e<s&&(n=e-o),t<a&&(i=t-r),l(this).parent().css({left:n,top:i})}l.fn.dialog.defaults.onMove=e,l.fn.window.defaults.onMove=e,l.fn.panel.defaults.onMove=e,l.fn.panel.defaults=jQuery.extend({},l.fn.panel.defaults,{onBeforeDestroy:function(){var e=l("iframe",this);0<e.length&&(e[0].contentWindow.document.write(""),e[0].contentWindow.close(),e.remove(),0<navigator.userAgent.indexOf("MSIE")&&CollectGarbage())}})}(jQuery),function(c){function s(e){return c(e).attr("id")+"_contextmenu"}function t(o){var r,t,e,n,i=c.extend(!0,{},c.fn.tabs.defaults,c.data(o,"tabs").options).customAttr.contextMenu;i.isShow&&(n=function(e){e=s(e);return[{id:e+"_reload",text:c.fn.tabs.defaults.contextMenu.itemname.reload,onclick:c.fn.tabs.defaults.contextMenu.defaultEventsHandler.reload},{id:e+"_fixed",text:c.fn.tabs.defaults.contextMenu.itemname.fixtab,onclick:function(e,t,n,i){e.text==c.fn.tabs.defaults.contextMenu.itemname.fixtab?c.fn.tabs.defaults.contextMenu.defaultEventsHandler.fixtab(e,t,n,i):c.fn.tabs.defaults.contextMenu.defaultEventsHandler.unfixtab(e,t,n,i)}},"-",{id:e+"_close",text:c.fn.tabs.defaults.contextMenu.itemname.close,onclick:c.fn.tabs.defaults.contextMenu.defaultEventsHandler.closetab},{id:e+"_close_others",text:c.fn.tabs.defaults.contextMenu.itemname.closeothers,onclick:c.fn.tabs.defaults.contextMenu.defaultEventsHandler.closeOthersTab},{id:e+"_close_rightside",text:c.fn.tabs.defaults.contextMenu.itemname.closerightside,onclick:c.fn.tabs.defaults.contextMenu.defaultEventsHandler.closeRightSideTabs},{id:e+"_close_all",text:c.fn.tabs.defaults.contextMenu.itemname.closeall,onclick:c.fn.tabs.defaults.contextMenu.defaultEventsHandler.closeAll}]}(o),i.isMerge&&c.isArray(i.items)&&0<i.items.length&&(n=c.merge(n,i.items)),r=function n(e){var i={};return c.each(e,function(){var e,t=this;t.onclick&&(e=t.id||t.text,i[e]=t.onclick,delete t.onclick),t.submenu&&c.isArray(t.submenu)&&0<t.submenu.length&&c.extend(i,n(t.submenu))}),i}(n=!i.isMerge&&c.isArray(i.items)&&0<i.items.length?i.items:n),e=n,n=s(i=o),0==(i=c("#"+n)).length&&(i=c("<div>",{id:n}).menu()).menu("appendItems",e),t=i,c(o).tabs("addEventListener",{name:"onContextMenu",handler:function(e,n,i){e.preventDefault(),function(e,t,n){var i=s(e),o=c("#"+i+"_fixed");-1!=c.inArray(n,c.fn.tabs.defaults.customAttr.fixedtabs)||c(e).tabs("getTab",n).panel("options").closable?(t.menu("setText",{target:o,text:c.fn.tabs.defaults.contextMenu.itemname.fixtab}),-1<c.inArray(n,c.fn.tabs.defaults.customAttr.fixedtabs)?t.menu("disableItem",o):t.menu("enableItem",o)):t.menu("setText",{target:o,text:c.fn.tabs.defaults.contextMenu.itemname.unfixtab});o=c("#"+i+"_close"),c(e).tabs("getTab",n).panel("options").closable?t.menu("enableItem",o):t.menu("disableItem",o)}(o,t,i),t.menu("addEventListener",{name:"onClick",override:!0,handler:function(e){var t=e.id||e.text;r[t]&&r[t].call(this,e,n,i,o)}}).menu("show",{left:e.pageX,top:e.pageY})}}))}function d(e,t){var n=[];return t++,c(e).children("div.tabs-header").find("ul li:nth-child("+t+")").each(function(){n.push(this)}),0<n.length?n[0]:null}function a(e,t,n,i){if("number"==typeof n&&"number"==typeof t){var o=c.data(e,"tabs").tabs;if(!(n<0||n>o.length)&&!(t<0||t>o.length))if(i){for(var r=o[n],s=n;t<s;s--)o.splice(s,1,o[s-1]);o[t]=r,(a=d(e,t))&&(i=d(e,n),c(a).before(i))}else{for(var a,r=o[t],l=t;l<=n;l++)o.splice(l,1,o[l+1]);o[n]=r,(a=d(e,n))&&(e=d(e,t),c(a).after(e))}}}c.fn.tabs.defaults.contextMenu={},c.fn.tabs.defaults.contextMenu.itemname={},c.fn.tabs.defaults.contextMenu.itemname.reload="重新加载",c.fn.tabs.defaults.contextMenu.itemname.fixtab="固定标签页",c.fn.tabs.defaults.contextMenu.itemname.unfixtab="取消固定标签",c.fn.tabs.defaults.contextMenu.itemname.close="关闭标签页",c.fn.tabs.defaults.contextMenu.itemname.closeothers="关闭其他标签页",c.fn.tabs.defaults.contextMenu.itemname.closerightside="关闭右侧标签页",c.fn.tabs.defaults.contextMenu.itemname.closeall="关闭所有标签页",c.fn.tabs.defaults.contextMenu.defaultEventsHandler={reload:function(e,t,n,i){n=c(i).tabs("getTab",n);n.panel("options").useiframe?c("iframe",n.panel("body")).each(function(){this.contentWindow.location.reload()}):n.panel("refresh")},fixtab:function(e,t,n,i){var o=c(i).tabs("getTab",n);c(i).tabs("update",{tab:o,options:{closable:!1}}),a(i,c.fn.tabs.defaults.customAttr.fixedtabs.length,n,!0)},unfixtab:function(e,t,n,i){var o=function(e){for(var t=c(e).tabs("tabs"),n=[],i=0;i<t.length;i++){var o=t[i];null!=o.panel("options").closable&&o.panel("options").closable||n.push(o)}return n}(i).length-1,r=c(i).tabs("getTab",n);c(i).tabs("update",{tab:r,options:{closable:!0}}),a(i,n,o)},closetab:function(e,t,n,i){c(i).tabs("getTab",n).panel("options").closable&&c(i).tabs("close",n)},closeOthersTab:function(e,t,n,i){var o=c(i).tabs("tabs"),o=c.grep(o,function(e,t){return e.panel("options").closable&&t!=n});c.each(o,function(){c(i).tabs("close",this.panel("options").title)})},closeRightSideTabs:function(e,t,n,i){var o=c(i).tabs("tabs"),o=c.grep(o,function(e,t){return n<t&&e.panel("options").closable});c.each(o,function(){c(i).tabs("close",this.panel("options").title)})},closeAll:function(e,t,n,i){var o=c(i).tabs("tabs"),o=c.grep(o,function(e,t){return e.panel("options").closable});c.each(o,function(){c(i).tabs("close",this.panel("options").title)})}},c.fn.tabs.defaults.customAttr={fixedtabs:[0],contextMenu:{isShow:!1,isMerge:!0,items:[]}};var i=c.extend({},c.fn.tabs.methods);c.extend(c.fn.tabs.methods,{followCustomHandle:function(e){return e.each(function(){t(this)})},add:function(t,n){return t.each(function(){var e=null;(n.href||/^url:/.test(n.content))&&(e=n.href||n.content.substr(4,n.content.length),delete n.content,delete n.href),e?n.useiframe?(i.add(t,n),function(e,t,n,i,o){var r=c("<iframe>").attr("height","100%").attr("width","100%").attr("marginheight","0").attr("marginwidth","0").attr("frameborder","0");setTimeout(function(){r.attr("src",n)},1);var s,a=c(e).tabs("getTab",t);a.panel("body").css({overflow:"hidden"}).empty().append(r),i&&(o=o||c.fn.datagrid.defaults.loadMsg,(i=a.panel("body")).css("position","relative"),c('<div class="datagrid-mask" style="display:block;"></div>').appendTo(i),s=c('<div class="datagrid-mask-msg" style="display:block; left: 50%;"></div>').html(o).appendTo(i),setTimeout(function(){s.css("marginLeft",-s.outerWidth()/2)},5)),r.bind("load",function(){r[0].contentWindow&&(a.panel("body").children("div.datagrid-mask-msg").remove(),a.panel("body").children("div.datagrid-mask").remove())})}(this,n.title,e,n.showMask,n.loadMsg)):i.add(t,c.extend(n,{href:e})):i.add(t,n),n.css&&c(this).tabs("getTab",n.title).css(n.css)})},addEventListener:function(e,t){return e.each(function(){var e=c.isArray(t)?t:[t],n=this;c.each(e,function(e,t){!function(e,t,i,n){var o=c(e).tabs("options"),r=o[t];switch(t){case"onLoad":o[t]=n?i:function(e){r.apply(this,arguments),i.apply(this,arguments)};break;case"onContextMenu":o[t]=n?i:function(e,t,n){r.apply(this,arguments),i.apply(this,arguments)};break;default:o[t]=n?i:function(e,t){r.apply(this,arguments),i.apply(this,arguments)}}}(n,t.name,t.handler||function(){},t.override)})})}})}(jQuery),function($){function init(t){var n=$(t).toolbar("options"),e=$(t).addClass("datagrid-toolbar").css({"border-top-width":1});e.append('<table cellspacing="0" cellpadding="0"><tr></tr></table>'),"right"==n.buttonPosition&&e.find("table").css("float","right"),n.data?addItems(t,n.data):n.loader.call(t,function(e){n.data=e,addItems(t,n.data)},function(){n.onLoadError.apply(t,arguments)})}function add(target,item){var tr=$(target).find("tr"),td,button;"string"==typeof item&&"-"==$.trim(item)||"-"==$.trim(item.text)?$('<td><div class="dialog-tool-separator"></div></td>').appendTo(tr):(td=$("<td></td>").appendTo(tr),button=$('<a href="javascript:void(0)"></a>').appendTo(td),button[0].onclick=eval(item.handler||function(){}),button.linkbutton($.extend({},item,{plain:!0})))}function addItems(e,t){if($.isArray(t))for(var n=0;n<t.length;n++)add(e,t[n])}$.fn.toolbar=function(t,e){return"string"==typeof t?$.fn.toolbar.methods[t](this,e):(t=t||{},this.each(function(){var e=$.data(this,"toolbar");e?$.extend(e.options,t):($.data(this,"toolbar",{options:$.extend({},$.fn.toolbar.defaults,$.parser.parseOptions(this),t)}),init(this))}))},$.fn.toolbar.methods={options:function(e){return $.data(e[0],"toolbar").options},add:function(e,t){return e.each(function(){addItems(this,t)})}},$.fn.toolbar.defaults={data:null,url:void 0,buttonPosition:"left",loader:function(t,e){$(this).toolbar("options");$.ajax({type:"POST",url:"toolbar_data.json",dataType:"json",success:function(e){t(e)},error:function(){e.apply(this,arguments)}})},onLoadError:function(){}}}(jQuery),function(d){function s(e){return d(e).attr("id")+"_contextmenu"}function n(i){var o,t,e,n,r=d.extend(!0,{},d.fn.tree.defaults,d(i).tree("options")).customAttr.contextMenu;r.isShow&&(n=[{id:(e=s(e=i))+"_moveup",text:"位置上移",iconCls:"icon-moveup",onclick:d.fn.tree.contextmenu.defaultEvents.moveup},{id:e+"_movedown",text:"位置下移",iconCls:"icon-movedown",onclick:d.fn.tree.contextmenu.defaultEvents.movedown}],r.isMerge&&d.isArray(r.items)&&0<r.items.length&&(n=d.merge(n,r.items)),o=function n(e){var i={};return d.each(e,function(){var e,t=this;t.onclick&&(e=t.id||t.text,i[e]=t.onclick,delete t.onclick),t.submenu&&d.isArray(t.submenu)&&0<t.submenu.length&&d.extend(i,n(t.submenu))}),i}(n=!r.isMerge&&d.isArray(r.items)&&0<r.items.length?r.items:n),e=n,n=s(r=i),0==(r=d("#"+n)).length&&(r=d("<div>",{id:n}).menu()).menu("appendItems",e),t=r,d(i).tree("addEventListener",{name:"onContextMenu",handler:function(e,n){e.preventDefault(),d(i).tree("select",n.target),t.menu("addEventListener",{name:"onClick",override:!0,handler:function(e){var t=e.id||e.text;o[t]&&o[t].call(this,e,n,i)}}).menu("show",{left:e.pageX,top:e.pageY})}}))}function l(e,t,n){if(n)return d(e).tree("getChildren",t);var i=[];return d(t).next().find(">li>div.tree-node").each(function(){i.push(d(e).tree("getNode",this))}),i}function u(e,t){e.attributes||(e.attributes={});for(var n=0;n<t.length;n++)e.attributes[t[n]]=e[t[n]]}function h(e){return!!(e.idField||e.textField||e.iconField||e.childrenField||e.attributesField||e.attributes||!1)}function i(e,t){if(!h(e))return t;function n(e){if(!e.id&&e[i]&&(e.id=e[i]),!e.text&&e[o]&&(e.text=e[o]),!e.iconCls&&e[r]&&(e.iconCls=e[r]),!e.children&&e[s]&&(e.children=e[s]),!e.attributes&&e[a]&&(e.attributes=e[a]),l&&d.isArray(l)&&u(e,l),e.children)for(var t=0;t<e.children.length;t++)n(e.children[t])}for(var i=e.idField||"id",o=e.textField||"text",r=e.iconField||"iconCls",s=e.childrenField||"children",a=e.attributesField||"attributes",l=e.attributes||[],c=0;c<t.length;c++)n(t[c]);return t}d.fn.tree.contextmenu={},d.fn.tree.contextmenu.defaultEvents={moveup:function(e,t,n){var i,o=d.extend(!0,{},d.fn.tree.defaults,d(n).tree("options")),r=function(e,t){for(var n=t.id||t.text,i=l(e,d(e).tree("getParent",t.target).target,!1),o=-1,r=0,s=i.length;r<s;r++)if(n==(i[r].id||i[r].text)){o=r-1;break}return-1<o?i[o]:null}(n,t);r&&(i=d(n).tree("pop",t.target),d(n).tree("insert",{before:r.target,data:i}),o.customAttr.onAfterMove.call(this,r,t))},movedown:function(e,t,n){var i,o=d.extend(!0,{},d.fn.tree.defaults,d(n).tree("options")),r=function(e,t){for(var n=t.id||t.text,i=l(e,d(e).tree("getParent",t.target).target,!1),o=-1,r=0,s=i.length;r<s;r++)if(n==(i[r].id||i[r].text)){o=r+1;break}return-1<o&&o<i.length?i[o]:null}(n,t);r&&(i=d(n).tree("pop",t.target),d(n).tree("insert",{after:r.target,data:i}),o.customAttr.onAfterMove.call(this,r,t))}},d.fn.tree.defaults.customAttr={idField:null,textField:null,parentField:null,iconField:null,childrenField:null,attributesField:null,attributes:null,dataModel:null,expandOnNodeClick:!1,expandOnDblClick:!1,onlyNodeExpand:!1,contextMenu:{isShow:!1,isMerge:!0,items:[]},onAfterMove:function(e,t){}},d.fn.tree.defaults.loadFilter=function(e,t){var n=d(this).tree("options").customAttr;return n?("simpleData"==n.dataModel?function(e,t){if(!h(e))return t;for(var n=e.idField||"id",i=e.textField||"text",o=e.iconField||"iconCls",r=e.parentField||"pid",s=e.attributes||[],a=[],l=[],c=0,d=t.length;c<d;c++)l[t[c][n]]=t[c];for(c=0,d=t.length;c<d;c++)l[t[c][r]]&&t[c][n]!=t[c][r]?(l[t[c][r]].children||(l[t[c][r]].children=[]),t[c].text=t[c][i],t[c][o]&&(t[c].iconCls=t[c][o]),u(t[c],s),l[t[c][r]].children.push(t[c])):(t[c].text=t[c][i],t[c][o]&&(t[c].iconCls=t[c][o]),u(t[c],s),a.push(t[c]));return a}:i)(n,e):e},d.fn.combotree.defaults.loadFilter=d.fn.tree.defaults.loadFilter;var o=d.extend({},d.fn.tree.methods);d.extend(d.fn.tree.methods,{followCustomHandle:function(e){return e.each(function(){var t,e,i;n(this),t=this,((e=d.extend(!0,{},d.fn.tree.defaults,d(t).tree("options"))).customAttr.expandOnNodeClick||e.customAttr.expandOnDblClick)&&(e.customAttr.expandOnNodeClick?d(t).tree("addEventListener",{name:"onClick",handler:function(e){d(t).tree("toggle",e.target)}}):e.customAttr.expandOnDblClick&&d(t).tree("addEventListener",{name:"onDblClick",handler:function(e){d(t).tree("toggle",e.target)}})),i=this,d.extend(!0,{},d.fn.tree.defaults,d(i).tree("options")).customAttr.onlyNodeExpand&&d(i).tree("addEventListener",{name:"onBeforeExpand",handler:function(e){e=d(i).tree("getParent",e.target);if(e)for(var t=l(i,e.target,!1),n=0;n<t.length;n++)"open"==t[n].state&&d(i).tree("collapseAll",t[n].target);else d(i).tree("collapseAll")}})})},getLevel:function(e,t){return function e(t,n){n=d(t).tree("getParent",n.target);return n?1+e(t,n):1}(e[0],t)},expandTo:function(e,t){return e.each(function(){"number"==d.type(t)?function e(t,n,i){for(var o=i?[i]:d(t).tree("getRoots"),r=0;r<o.length;r++){for(var s=l(t,o[r].target,!1),a=0;a<s.length;a++)d(t).tree("expandTo",s[a].target);if(0<--n)for(a=0;a<s.length;a++)e(t,n,s[a])}}(this,t):o.expandTo(e,t)})},addEventListener:function(e,t){return e.each(function(){var e=d.isArray(t)?t:[t],n=this;d.each(e,function(e,t){!function(e,t,i,n){var o=d(e).tree("options"),r=o[t];switch(t){case"onBeforeLoad":o[t]=n?i:function(e,t){r.apply(this,arguments),i.apply(this,arguments)};break;case"onLoadSuccess":o[t]=n?i:function(e,t){r.apply(this,arguments),i.apply(this,arguments)};break;case"onLoadError":o[t]=n?i:function(e){r.apply(this,e),i.apply(this,e)};break;case"onBeforeCheck":o[t]=n?i:function(e,t){r.apply(this,arguments),i.apply(this,arguments)};break;case"onCheck":o[t]=n?i:function(e,t){r.apply(this,arguments),i.apply(this,arguments)};break;case"onContextMenu":o[t]=n?i:function(e,t){r.apply(this,arguments),i.apply(this,arguments)};break;case"onDragEnter":o[t]=n?i:function(e,t){r.apply(this,arguments),i.apply(this,arguments)};break;case"onDragOver":o[t]=n?i:function(e,t){r.apply(this,arguments),i.apply(this,arguments)};break;case"onDragLeave":o[t]=n?i:function(e,t){r.apply(this,arguments),i.apply(this,arguments)};break;case"onBeforeDrop":o[t]=n?i:function(e,t,n){r.apply(this,arguments),i.apply(this,arguments)};break;case"onDrop":o[t]=n?i:function(e,t,n){r.apply(this,arguments),i.apply(this,arguments)};break;default:o[t]=n?i:function(e){r.apply(this,arguments),i.apply(this,arguments)}}}(n,t.name,t.handler||function(){},t.override)})})}})}(jQuery),function(d){function u(e,t){return d(e).attr("id")+"_"+t}function h(e,t,n){e=u(e,n),n=d("#"+e);return 0==n.length&&(n=d("<div>",{id:e}).menu()).menu("appendItems",t),n}function p(e){var n={};return d.each(e,function(){var e,t=this;t.onclick&&(e=t.id||t.text,n[e]=t.onclick,delete t.onclick),t.submenu&&d.isArray(t.submenu)&&0<t.submenu.length&&d.extend(n,p(t.submenu))}),n}function t(i){var e,o,r,s=d.extend(!0,{},d.fn.treegrid.defaults,d(i).treegrid("options")),t=s.customAttr.contextMenu;t.isShow&&(e=[{id:(e=u(e=i,"rowContextMenu"))+"_delete",text:"删除",iconCls:"icon-remove",onclick:d.fn.treegrid.headerContextMenu.defaultEvents.doRemove},"-",{id:e+"_reload",text:"刷新",iconCls:"icon-reload",onclick:d.fn.treegrid.headerContextMenu.defaultEvents.doReload}],t.isMerge&&d.isArray(t.items)&&0<t.items.length&&d.merge(e,t.items),o=p(e=!t.isMerge&&d.isArray(t.items)&&0<t.items.length?t.items:e),r=h(i,e,"rowContextMenu"),d(i).treegrid("addEventListener",{name:"onContextMenu",handler:function(e,n){e.preventDefault(),d(i).treegrid("select",n[s.idField]);var t=r.menu("options");t.onClickCallback=t.onClickCallback||t.onClick,r.menu("addEventListener",{name:"onClick",override:!0,handler:function(e){var t=e.id||e.text;o[t]&&o[t].call(this,e,n,i)}}).menu("show",{left:e.pageX,top:e.pageY})}}))}function r(i){var o,r,e,s,t,a,l,c,n=d.extend(!0,{},d.fn.treegrid.defaults,d(i).treegrid("options")).customAttr.headerContextMenu;n.isShow&&(r=u(o=i,"headerContextMenu"),e=[{text:StrackLang.Show_Hide_Column,iconCls:"icon-columns",submenu:[{id:r+"_showAll",text:StrackLang.ShowAll,iconCls:"icon-columns",onclick:function(e,t,n){d.fn.datagrid.headerContextMenu.defaultEvents.doShowAll(n)}},{id:r+"_restore",text:StrackLang.Restore,iconCls:"icon-columns",onclick:function(e,t,n){d.fn.datagrid.headerContextMenu.defaultEvents.doRestore(n)}},"-"]}],s=[],t=d(o).treegrid("getColumnFields"),a=d(o).treegrid("options").treeField,d.each(t,function(e,t){if(!t)return!0;var n=t==a,i=d(o).treegrid("getColumnOption",t);i._hidden=i.hidden,s.push({id:r+"-"+t,text:i.title,iconCls:i.hidden?"icon-unchecked":"icon-checked",disabled:n,onclick:function(e,t,n){var i,i=(i=e.id).substr(i.lastIndexOf("-")+1,i.length);d(n).treegrid("getColumnOption",i).hidden?d.fn.datagrid.headerContextMenu.defaultEvents.doShowColumn(n,i,e):d.fn.datagrid.headerContextMenu.defaultEvents.doHideColumn(n,i,e)}})}),d.merge(e[0].submenu,s),e=e,n.isMerge&&d.merge(e,n.items),l=p(e=!n.isMerge&&d.isArray(n.items)&&0<n.items.length?n.items:e),c=h(i,e,"headerContextMenu"),d(i).treegrid("addEventListener",{name:"onHeaderContextMenu",handler:function(e,n){e.preventDefault(),c.menu("addEventListener",{name:"onClick",override:!0,handler:function(e){var t=e.id||e.text;l[t]&&l[t].call(this,e,n,i)}}).menu("show",{left:e.pageX,top:e.pageY})}}))}function s(s){var a,n,l=d.extend(!0,{},d.fn.treegrid.defaults,d(s).treegrid("options"));l.customAttr.rowediting&&(a=function(e){return d(e).attr("id")+"_editor_buttons_panel"},n=function(e){e="#"+a(e);d(e).hide()},d(s).treegrid("addEventListener",[{name:"onLoadSuccess",handler:function(e,t){var n,i,o,r;r=a(n=this),0<d("#"+r).length||(o=d(n).treegrid("getPanel"),(i=d(">div.datagrid-view>div.datagrid-view2>div.datagrid-body",o)).css("position","relative"),o=d("<div>",{id:r}).addClass("dialog-button").appendTo(i).css({position:"absolute",display:"block","border-bottom":"1px solid #ddd","border-left":"1px solid #ddd","border-right":"1px solid #ddd",left:parseInt(o.width()/2)-120,"z-index":2013,display:"none",padding:"4px 5px"}),d('<a href="javascript:void(0)">确定</a>').css("margin-left","0px").linkbutton({iconCls:"icon-ok"}).click(function(){var e=l.idField,t=d(n).treegrid("getEditingRow");l.customAttr.onConfirmEdit.call(n,t)&&d(n).treegrid("endEdit",t[e])}).appendTo(o),d('<a href="javascript:void(0)">取消</a>').css("margin-left","6px").linkbutton({iconCls:"icon-cancel"}).click(function(){var e=l.idField,t=d(n).treegrid("getEditingRow");d(n).treegrid("cancelEdit",t[e])}).appendTo(o))}},{name:"onBeforeEdit",handler:function(e){var t,n,i,o,r;t=s,n=l.idField,i=l.finder.getTr(t,e[n],"body",2),o=i.position(),n="#"+a(t),t=d(t).treegrid("getPanel"),r=d(">div.datagrid-view>div.datagrid-view2>div.datagrid-body",t),d(n).css((e=i.height(),t=i.width(),n=o.top+r.scrollTop(),i=o.left,i=t>r.width()?r.width()/2-120:t/2-120,o.top+(2*e+11)>r.height()?n-=e+11:n+=e,{top:n,left:i})).show()}},{name:"onAfterEdit",handler:function(e,t){n(s)}},{name:"onCancelEdit",handler:function(e){n(s)}}]))}function a(a){var l,n,c=d.extend(!0,{},d.fn.treegrid.defaults,d(a).treegrid("options"));c.customAttr.tooltip.enable&&(l=function(e,t){var n={position:c.customAttr.tooltip.position,trackMouse:!0,onHide:function(){d(e).tooltip("destroy")},onShow:function(){d.isPlainObject(t)&&t.css&&d(this).tooltip("tip").css(t.css)}};d.extend(n,d.isPlainObject(t)?t:{content:t}),d(e).tooltip(n).tooltip("show")},n=function(){var e,t;"row"==c.customAttr.tooltip.target?c.finder.getTr(a,"","allbody").each(function(){var e,t,n,i,o,r,s;d(this).hasClass("datagrid-row")&&(e=this,t=c.customAttr.tooltip.formatter,o=d(e).attr("node-id"),r=d(a).treegrid("find",o),s=t?t(o,r):(n=r,i=[],r=d.grep(d.merge(d(a).treegrid("getColumnFields",!0),d(a).treegrid("getColumnFields")),function(e,t){return 0<d.trim(e).length}),d.each(r,function(){var e=d(a).treegrid("getColumnOption",this).title;i.push(e+": "+n[this])}),i.join("<br>")),d(e).mouseover(function(){l(this,s)}))}):c.customAttr.tooltip.fields&&d.isArray(c.customAttr.tooltip.fields)&&(e=d(a).treegrid("getPanel"),t=d(">div.datagrid-view>div.datagrid-view2>div.datagrid-body",e),d.each(c.customAttr.tooltip.fields,function(){var e,o;e=d("td[field="+this+"]",t),o=c.customAttr.tooltip.formatter,e.mouseover(function(){var e=d(this).parent().attr("node-id"),t=d(a).treegrid("find",e),n=d(this).attr("field"),i=t[n],i=o?o(i,n,e,t):i;l(this,i)})}))},d(a).treegrid("addEventListener",{name:"onLoadSuccess",handler:function(e,t){n()}}))}d.fn.treegrid.headerContextMenu={},d.fn.treegrid.headerContextMenu.defaultEvents={doRemove:function(e,t,n){d.messager.confirm("疑问","您确定要删除已选中的行？",function(e){e&&(e=d(n).treegrid("options").idField,e=t[e],d(n).treegrid("remove",e))})},doReload:function(e,t,n){d(n).treegrid("reload")}},d.fn.treegrid.defaults.customAttr={iconField:null,parentField:null,expandOnNodeClick:!1,expandOnDblClick:!1,headerContextMenu:{isShow:!1,isMerge:!0,items:[]},contextMenu:{isShow:!1,isMerge:!0,items:[]},rowediting:!1,tooltip:{enable:!1,target:"row",position:"bottom",fields:void 0,formatter:void 0},onConfirmEdit:function(e){return!0}},d.fn.treegrid.defaults.loadFilter=function(e,t){var n=d(this).treegrid("options"),i=n.customAttr;if(i&&i.parentField)for(var o=n.idField,r=i.parentField,s=i.iconField||"icon",a=0,l=e.rows.length;a<l;a++)e.rows[a][r]&&"0"!=e.rows[a][r]&&e.rows[a][o]!=e.rows[a][r]?e.rows[a]._parentId=e.rows[a][r]:delete e.rows[a][r],e.rows[a].iconCls=e.rows[a][s];return e},d.extend(d.fn.treegrid.methods,{followCustomHandle:function(e){return e.each(function(){var n,i,o,e;r(this),t(this),n=this,((e=d.extend(!0,{},d.fn.treegrid.defaults,d(n).treegrid("options"))).customAttr.expandOnNodeClick||e.customAttr.expandOnDblClick)&&(i=e.treeField,o=e.idField,e.customAttr.expandOnNodeClick?d(n).treegrid("addEventListener",{name:"onClickCell",handler:function(e,t){i==e&&d(n).treegrid("toggle",t[o])}}):e.customAttr.expandOnDblClick&&d(n).treegrid("addEventListener",{name:"onDblClickCell",handler:function(e,t){i==e&&d(n).treegrid("toggle",t[o])}})),s(this),a(this)})},getEditingRow:function(e){e=e.treegrid("getEditingRows");return e.length?e[0]:null},getEditingRows:function(t){var e=t.treegrid("options"),n=[];return e.finder.getTr(t[0],"","allbody").each(function(){var e;d(this).hasClass("datagrid-row-editing")&&(e=d(this).attr("node-id"),n.push(t.treegrid("find",e)))}),n},addEventListener:function(e,t){return e.each(function(){var e=d.isArray(t)?t:[t],n=this;d.each(e,function(e,t){!function(e,t,n,i){var o=d(e).treegrid("options"),r=o[t];switch(t){case"onClickRow":o[t]=i?n:function(e){r.apply(this,arguments),n.apply(this,arguments)};break;case"onDblClickRow":o[t]=i?n:function(e){r.apply(this,arguments),n.apply(this,arguments)};break;case"onClickCell":o[t]=i?n:function(e,t){r.apply(this,arguments),n.apply(this,arguments)};break;case"onDblClickCell":o[t]=i?n:function(e,t){r.apply(this,arguments),n.apply(this,arguments)};break;case"onBeforeLoad":o[t]=i?n:function(e,t){r.apply(this,arguments),n.apply(this,arguments)};break;case"onLoadSuccess":o[t]=i?n:function(e,t){r.apply(this,arguments),n.apply(this,arguments)};break;case"onLoadError":o[t]=i?n:function(e){r.apply(this,e),n.apply(this,e)};break;case"onBeforeExpand":o[t]=i?n:function(e){r.apply(this,arguments),n.apply(this,arguments)};break;case"onExpand":o[t]=i?n:function(e){r.apply(this,arguments),n.apply(this,arguments)};break;case"onBeforeCollapse":o[t]=i?n:function(e){r.apply(this,arguments),n.apply(this,arguments)};break;case"onCollapse":o[t]=i?n:function(e){r.apply(this,arguments),n.apply(this,arguments)};break;case"onContextMenu":o[t]=i?n:function(e,t){r.apply(this,arguments),n.apply(this,arguments)};break;case"onBeforeEdit":o[t]=i?n:function(e){r.apply(this,arguments),n.apply(this,arguments)};break;case"onAfterEdit":o[t]=i?n:function(e,t){r.apply(this,arguments),n.apply(this,arguments)};break;case"onCancelEdit":o[t]=i?n:function(e){r.apply(this,arguments),n.apply(this,arguments)};break;default:d(e).datagrid("addEventListener",{name:t,override:i,handler:n})}}(n,t.name,t.handler||function(){},t.override)})})}})}(jQuery),function(n){n.extend(n.fn.validatebox.defaults.rules,{unequal:{validator:function(e,t){return e!=t},message:n.fn.validatebox.defaults.missingMessage},minLength:{validator:function(e,t){return e.length>=t[0]}},equals:{validator:function(e,t){return/^#/.test(t)?e==n(t).val():e==t}}}),n.fn.validatebox&&(n.fn.validatebox.defaults.rules.minLength.message="请至少输入{0}个字符。",n.fn.validatebox.defaults.rules.equals.message="字段不匹配")}(jQuery),function($){function getTop(t,e){var n;try{(n=t.top.document).getElementsByTagName}catch(e){return t}return"document"==e.locate||0<n.getElementsByTagName("frameset").length?t:t.top}function setWindowSize(e,t){var n=getTop(e,t),e=$(n).height(),n=$(n).width();"top"==t.locate||"document"==t.locate?("auto"==t.height&&(t.height=.6*e),"auto"==t.width&&(t.width=.6*n)):(n=/^#/.test(t.locate)?t.locate:"#"+t.locate,"auto"==t.height&&(t.height=.6*$(n).height()),"auto"==t.width&&(t.width=.6*$(n).width()))}$.extend({showWindow:function(options){var target;options=options||{};var winOpts=$.extend({},{iconCls:"icon-form",useiframe:!1,locate:"top",data:void 0,width:"auto",height:"auto",cache:!1,minimizable:!0,maximizable:!0,collapsible:!0,resizable:!0,loadMsg:$.fn.datagrid.defaults.loadMsg,showMask:!1,onClose:function(){target.dialog("destroy")}},options),iframe=null,url;/^url:/.test(winOpts.content)&&(url=winOpts.content.substr(4,winOpts.content.length),winOpts.useiframe?(iframe=$("<iframe>").attr("height","100%").attr("width","100%").attr("marginheight",0).attr("marginwidth",0).attr("frameborder",0),setTimeout(function(){iframe.attr("src",url)},10)):winOpts.href=url,delete winOpts.content);var selfRefrence={getData:function(e){return winOpts.data?winOpts.data[e]:null},close:function(){target.panel("close")}},_top=getTop(window,winOpts),warpHandler=function(handler){return"function"==typeof handler?function(){handler(selfRefrence)}:"string"==typeof handler&&winOpts.useiframe?function(){iframe[0].contentWindow[handler](selfRefrence)}:"string"==typeof handler?function(){eval(_top[handler])(selfRefrence)}:void 0};setWindowSize(window,winOpts),winOpts.toolbar&&$.isArray(winOpts.toolbar)&&$.each(winOpts.toolbar,function(e,t){t.handler=warpHandler(t.handler)}),winOpts.buttons&&$.isArray(winOpts.buttons)&&$.each(winOpts.buttons,function(e,t){t.handler=warpHandler(t.handler)});var onLoadCallback=winOpts.onLoad,locate,target;return winOpts.onLoad=function(){onLoadCallback&&onLoadCallback.call(this,selfRefrence,_top)},target="top"==winOpts.locate||"document"==winOpts.locate?winOpts.useiframe&&iframe?(winOpts.showMask&&(winOpts.onBeforeOpen=function(){$(this).panel("panel"),$(this).panel("header");var e=$(this).panel("body");e.css("position","relative");$('<div class="datagrid-mask" style="display:block;"></div>').appendTo(e);var t=$('<div class="datagrid-mask-msg" style="display:block; left: 50%;"></div>').html(winOpts.loadMsg).appendTo(e);setTimeout(function(){t.css("marginLeft",-t.outerWidth()/2)},5)}),iframe.bind("load",function(){iframe[0].contentWindow&&(onLoadCallback&&onLoadCallback.call(this,selfRefrence,iframe[0].contentWindow),target.panel("body").children("div.datagrid-mask-msg").remove(),target.panel("body").children("div.datagrid-mask").remove())}),_top.$("<div>").css({overflow:"hidden"}).append(iframe).dialog(winOpts)):_top.$("<div>").dialog(winOpts):(locate=/^#/.test(winOpts.locate)?winOpts.locate:"#"+winOpts.locate,$("<div>").appendTo(locate).dialog($.extend({},winOpts,{inline:!0}))),target},showModalDialog:function(e){e=$.extend({},e=e||{},{modal:!0,minimizable:!1,maximizable:!1,resizable:!1,collapsible:!1});return $.showWindow(e)}})}(jQuery),function(u){u.extend(u.fn.datagrid.defaults,{dragSelection:!1,onBeforeDrag:function(e){},onStartDrag:function(e){},onStopDrag:function(e){},onDragEnter:function(e,t){},onDragOver:function(e,t){},onDragLeave:function(e,t){},onBeforeDrop:function(e,t,n){},onDrop:function(e,t,n){}}),u.extend(u.fn.datagrid.methods,{_appendRow:function(e,n){return e.each(function(){var t=u(this),e=u.isArray(n)?n:[n];u.map(e,function(e){t.datagrid("appendRow",e).datagrid("enableDnd",t.datagrid("getRows").length-1),e._selected&&t.datagrid("selectRow",t.datagrid("getRows").length-1)})})},_insertRow:function(e,t){return e.each(function(){var n=u(this),i=t.index,e=t.row,e=u.isArray(e)?e:[e];u.map(e,function(e,t){n.datagrid("insertRow",{index:i+t,row:e}).datagrid("enableDnd",i+t),e._selected&&n.datagrid("selectRow",i+t)})})},_deleteRow:function(e,n){return e.each(function(){var t=u(this),e=u.isArray(n)?n:[n];u.map(e,function(e){e=t.datagrid("getRowIndex",e);t.datagrid("deleteRow",e)})})}});var h=[];u.extend(u.fn.datagrid.methods,{enableDnd:function(e,r){return e.each(function(){var e,a=this,t=u.data(this,"datagrid"),o=u(this),l=t.options,n={disabled:!1,revert:!0,cursor:"pointer",proxy:function(e){var i=u('<div style="z-index:9999999999999;background-color: #ffffff"></div>').appendTo("body"),e=d(e),e=u.isArray(e)?e:[e];return u.map(e,function(e,t){var n=o.datagrid("getRowIndex",e),e=l.finder.getTr(a,n,"body",1);l.finder.getTr(a,n,"body",2).clone().removeAttr("id").removeClass("droppable").appendTo(i),e.clone().removeAttr("id").removeClass("droppable").find("td").insertBefore(i.find("tr:eq("+t+") td:first")),u('<td><span class="tree-dnd-icon tree-dnd-no" style="position:static;width: 20px;">&nbsp;</span></td>').insertBefore(i.find("tr:eq("+t+") td:first"))}),i.find("td").css("vertical-align","middle"),i.hide(),i},deltaX:15,deltaY:15,onBeforeDrag:function(e){if("INPUT"==e.target.tagName||"TEXTAREA"==e.target.tagName)return!1;var t=d(this);return 0!=l.onBeforeDrag.call(a,t)&&(!u(e.target).parent().hasClass("datagrid-cell-check")&&(1==e.which&&void u.map(u.isArray(t)?t:[t],function(e){e=u(a).datagrid("getRowIndex",e);l.finder.getTr(a,e).droppable({accept:"no-accept"})})))},onStartDrag:function(){u(this).draggable("proxy").css({left:-1e4,top:-1e4});var e=d(this);l.onStartDrag.call(a,e),t.draggingRow=e},onDrag:function(e){var t=e.pageX,n=e.pageY,i=e.data.startX,o=e.data.startY;3<Math.sqrt((t-i)*(t-i)+(n-o)*(n-o))&&(u(this).draggable("proxy").show(),o=l.finder.getTr(a,parseInt(u(this).attr("datagrid-row-index")),"body"),u.extend(e.data,{startX:o.offset().left,startY:o.offset().top,offsetWidth:0,offsetHeight:0})),this.pageY=e.pageY},onStopDrag:function(){u.map(h,function(e){e=u(e);!e.hasClass("datagrid-row")&&0!=e.find("tr.datagrid-row:first").length||e.droppable("enable")}),h=[],u.map(u.isArray(t.draggingRow)?t.draggingRow:[t.draggingRow],function(e){e=o.datagrid("getRowIndex",e);o.datagrid("enableDnd",e)}),l.onStopDrag.call(a,t.draggingRow)}},i={accept:"tr.datagrid-row",onDragEnter:function(e,t){u(this).droppable("options").disabled||0==l.onDragEnter.call(a,c(this),d(t))&&(s(t,!1),(t=l.finder.getTr(a,u(this).attr("datagrid-row-index"))).find("td").css("border",""),t.droppable("disable"),u(this).droppable("disable"),h.push(this))},onDragOver:function(e,t){var n,i,o,r;u(this).droppable("options").disabled||0<=u.inArray(this,h)||(n=t.pageY,o=(i=u(this).offset().top)+u(this).outerHeight(),s(t,!0),(r=l.finder.getTr(a,u(this).attr("datagrid-row-index"))).children("td").css("border",""),i+(o-i)/2<n?r.children("td").css("border-bottom","1px solid red"):r.children("td").css("border-top","1px solid red"),0==l.onDragOver.call(a,c(this),d(t))&&(s(t,!1),r.find("td").css("border",""),r.droppable("disable"),u(this).droppable("disable"),h.push(this)))},onDragLeave:function(e,t){u(this).droppable("options").disabled||(s(t,!1),l.finder.getTr(a,u(this).attr("datagrid-row-index")).children("td").css("border",""),l.onDragLeave.call(a,c(this),d(t)))},onDrop:function(e,o){var r,t,s;u(this).droppable("options").disabled||(t=l.finder.getTr(a,u(this).attr("datagrid-row-index")).children("td"),r=parseInt(t.css("border-top-width"))?"top":"bottom",t.css("border",""),t=c(this),s=d(o),0!=l.onBeforeDrop.call(a,t,s,r)&&(function(){parseInt(u(o).attr("datagrid-row-index"));var e=parseInt(u(this).attr("datagrid-row-index")),t=u(o).closest("div.datagrid-view").children("table")[0],n=u(this).closest("div.datagrid-view").children("table")[0];{var i;u(this).hasClass("datagrid-view")?(u(n).datagrid("_appendRow",s),u(t).datagrid("_deleteRow",s),0==u(t).datagrid("getRows").length&&u(t).datagrid("enableDnd")):n!=t?0<=(i="top"==r?e:e+1)&&(u(t).datagrid("_deleteRow",s),u(n).datagrid("_insertRow",{index:i,row:s})):(n=u(n),0<=(i="top"==r?e:e+1)&&(n.datagrid("_deleteRow",s),e=parseInt(u(this).attr("datagrid-row-index")),0<=(i="top"==r?e:e+1)&&n.datagrid("_insertRow",{index:i,row:s})))}}.call(this),l.onDrop.call(a,t,s,r)))}};function s(e,t){u(e).draggable("proxy").find("span.tree-dnd-icon").removeClass("tree-dnd-yes tree-dnd-no").addClass(t?"tree-dnd-yes":"tree-dnd-no")}function c(e){if(!u(e).hasClass("datagrid-row"))return null;var t=u(e).closest("div.datagrid-view").children("table")[0];return u(t).datagrid("options").finder.getRow(t,u(e))}function d(e){if(!u(e).hasClass("datagrid-row"))return null;var t=u(e).closest("div.datagrid-view").children("table")[0],n=u(t).datagrid("options");if(n.dragSelection){var i=u(t).datagrid("getSelections");return(u.map(i,function(e){e._selected=!0}),i.length)?i:((o=n.finder.getRow(t,u(e)))._selected=!1,o)}var o=n.finder.getRow(t,u(e));return u(e).hasClass("datagrid-row-selected")&&(o._selected=!0),o}(e=null!=r?l.finder.getTr(this,r):l.finder.getTr(this,0,"allbody")).draggable(n),e.droppable(i),function(e){e=u(e).datagrid("getPanel").find("div.datagrid-view");e.droppable(i),e.find("tr.datagrid-row:first").length?e.droppable("disable"):e.droppable("enable")}(a)})}})}(jQuery),function(m,g,v,b){m.site=m.fn.site=function(e){var a,i=(new Date).getTime(),o=[],t=e,n="string"==typeof t,l=[].slice.call(arguments,1),c=m.isPlainObject(e)?m.extend(!0,{},m.site.settings,e):m.extend({},m.site.settings),r=c.namespace,d=c.error,s="module-"+r,u=m(v),h=this,p=u.data(s),f={initialize:function(){f.instantiate()},instantiate:function(){f.verbose("Storing instance of site",f),p=f,u.data(s,f)},normalize:function(){f.fix.console(),f.fix.requestAnimationFrame()},fix:{console:function(){f.debug("Normalizing window.console"),console!==b&&console.log!==b||(f.verbose("Console not available, normalizing events"),f.disable.console()),void 0!==console.group&&void 0!==console.groupEnd&&void 0!==console.groupCollapsed||(f.verbose("Console group not available, normalizing events"),g.console.group=function(){},g.console.groupEnd=function(){},g.console.groupCollapsed=function(){}),void 0===console.markTimeline&&(f.verbose("Mark timeline not available, normalizing events"),g.console.markTimeline=function(){})},consoleClear:function(){f.debug("Disabling programmatic console clearing"),g.console.clear=function(){}},requestAnimationFrame:function(){f.debug("Normalizing requestAnimationFrame"),g.requestAnimationFrame===b&&(f.debug("RequestAnimationFrame not available, normalizing event"),g.requestAnimationFrame=g.requestAnimationFrame||g.mozRequestAnimationFrame||g.webkitRequestAnimationFrame||g.msRequestAnimationFrame||function(e){setTimeout(e,0)})}},moduleExists:function(e){return m.fn[e]!==b&&m.fn[e].settings!==b},enabled:{modules:function(e){var n=[];return e=e||c.modules,m.each(e,function(e,t){f.moduleExists(t)&&n.push(t)}),n}},disabled:{modules:function(e){var n=[];return e=e||c.modules,m.each(e,function(e,t){f.moduleExists(t)||n.push(t)}),n}},change:{setting:function(o,r,e,s){e="string"==typeof e?"all"===e?c.modules:[e]:e||c.modules,s=s===b||s,m.each(e,function(e,t){var n,i=!f.moduleExists(t)||(m.fn[t].settings.namespace||!1);f.moduleExists(t)&&(f.verbose("Changing default setting",o,r,t),m.fn[t].settings[o]=r,s&&i&&0<(n=m(":data(module-"+i+")")).length&&(f.verbose("Modifying existing settings",n),n[t]("setting",o,r)))})},settings:function(i,e,o){e="string"==typeof e?[e]:e||c.modules,o=o===b||o,m.each(e,function(e,t){var n;f.moduleExists(t)&&(f.verbose("Changing default setting",i,t),m.extend(!0,m.fn[t].settings,i),o&&r&&0<(n=m(":data(module-"+r+")")).length&&(f.verbose("Modifying existing settings",n),n[t]("setting",i)))})}},enable:{console:function(){f.console(!0)},debug:function(e,t){e=e||c.modules,f.debug("Enabling debug for modules",e),f.change.setting("debug",!0,e,t)},verbose:function(e,t){e=e||c.modules,f.debug("Enabling verbose debug for modules",e),f.change.setting("verbose",!0,e,t)}},disable:{console:function(){f.console(!1)},debug:function(e,t){e=e||c.modules,f.debug("Disabling debug for modules",e),f.change.setting("debug",!1,e,t)},verbose:function(e,t){e=e||c.modules,f.debug("Disabling verbose debug for modules",e),f.change.setting("verbose",!1,e,t)}},console:function(e){e?p.cache.console!==b?(f.debug("Restoring console function"),g.console=p.cache.console):f.error(d.console):(f.debug("Disabling console function"),p.cache.console=g.console,g.console={clear:function(){},error:function(){},group:function(){},groupCollapsed:function(){},groupEnd:function(){},info:function(){},log:function(){},markTimeline:function(){},warn:function(){}})},destroy:function(){f.verbose("Destroying previous site for",u),u.removeData(s)},cache:{},setting:function(e,t){if(m.isPlainObject(e))m.extend(!0,c,e);else{if(t===b)return c[e];c[e]=t}},internal:function(e,t){if(m.isPlainObject(e))m.extend(!0,f,e);else{if(t===b)return f[e];f[e]=t}},debug:function(){c.debug&&(c.performance?f.performance.log(arguments):(f.debug=Function.prototype.bind.call(console.info,console,c.name+":"),f.debug.apply(console,arguments)))},verbose:function(){c.verbose&&c.debug&&(c.performance?f.performance.log(arguments):(f.verbose=Function.prototype.bind.call(console.info,console,c.name+":"),f.verbose.apply(console,arguments)))},error:function(){f.error=Function.prototype.bind.call(console.error,console,c.name+":"),f.error.apply(console,arguments)},performance:{log:function(e){var t,n;c.performance&&(n=(t=(new Date).getTime())-(i||t),i=t,o.push({Element:h,Name:e[0],Arguments:[].slice.call(e,1)||"","Execution Time":n})),clearTimeout(f.performance.timer),f.performance.timer=setTimeout(f.performance.display,500)},display:function(){var e=c.name+":",n=0;i=!1,clearTimeout(f.performance.timer),m.each(o,function(e,t){n+=t["Execution Time"]}),e+=" "+n+"ms",(console.group!==b||console.table!==b)&&0<o.length&&(console.groupCollapsed(e),console.table?console.table(o):m.each(o,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),o=[]}},invoke:function(i,e,t){var o,r,n,s=p;return e=e||l,t=h||t,"string"==typeof i&&s!==b&&(i=i.split(/[\. ]/),o=i.length-1,m.each(i,function(e,t){var n=e!=o?t+i[e+1].charAt(0).toUpperCase()+i[e+1].slice(1):i;if(m.isPlainObject(s[n])&&e!=o)s=s[n];else{if(s[n]!==b)return r=s[n],!1;{if(!m.isPlainObject(s[t])||e==o)return s[t]!==b?r=s[t]:f.error(d.method,i),!1;s=s[t]}}})),m.isFunction(r)?n=r.apply(t,e):r!==b&&(n=r),m.isArray(a)?a.push(n):a!==b?a=[a,n]:n!==b&&(a=n),r}};return n?(p===b&&f.initialize(),f.invoke(t)):(p!==b&&f.destroy(),f.initialize()),a!==b?a:this},m.site.settings={name:"Site",namespace:"site",error:{console:"Console cannot be restored, most likely it was overwritten outside of module",method:"The method you called is not defined."},debug:!1,verbose:!1,performance:!0,modules:["accordion","api","checkbox","dimmer","dropdown","embed","form","modal","nag","popup","rating","shape","sidebar","state","sticky","tab","transition","visit","visibility"],siteNamespace:"site",namespaceStub:{cache:{},config:{},sections:{},section:{},utilities:{}}},m.extend(m.expr[":"],{data:m.expr.createPseudo?m.expr.createPseudo(function(t){return function(e){return!!m.data(e,t)}}):function(e,t,n){return!!m.data(e,n[3])}})}(jQuery,window,document),function(j,P,O){"use strict";j.fn.form=function(y){var x,w=j(this),C=w.selector||"",k=(new Date).getTime(),S=[],T=y,E=arguments[1],_="string"==typeof T,A=[].slice.call(arguments,1);return w.each(function(){var t,l,n,e,c,r,d,u,h,s,i,o,a,p,f=j(this),m=this,g=[],v=!1,b={initialize:function(){b.get.settings(),_?(p===O&&b.instantiate(),b.invoke(T)):(b.verbose("Initializing form validation",f,c),b.bindEvents(),b.set.defaults(),b.instantiate())},instantiate:function(){b.verbose("Storing instance of module",b),p=b,f.data(o,b)},destroy:function(){b.verbose("Destroying previous module",p),b.removeEvents(),f.removeData(o)},refresh:function(){b.verbose("Refreshing selector cache"),t=f.find(u.field),l=f.find(u.group),n=f.find(u.message),f.find(u.prompt),e=f.find(u.submit),f.find(u.clear),f.find(u.reset)},submit:function(){b.verbose("Submitting form",f),f.submit()},attachEvents:function(e,t){t=t||"submit",j(e).on("click"+a,function(e){b[t](),e.preventDefault()})},bindEvents:function(){b.verbose("Attaching form events"),f.on("submit"+a,b.validate.form).on("blur"+a,u.field,b.event.field.blur).on("click"+a,u.submit,b.submit).on("click"+a,u.reset,b.reset).on("click"+a,u.clear,b.clear),c.keyboardShortcuts&&f.on("keydown"+a,u.field,b.event.field.keydown),t.each(function(){var e=j(this),t=e.prop("type"),e=b.get.changeEvent(t,e);j(this).on(e+a,b.event.field.change)})},clear:function(){t.each(function(){var e=j(this),t=e.parent(),n=e.closest(l),i=n.find(u.prompt),o=e.data(d.defaultValue)||"",r=t.is(u.uiCheckbox),s=t.is(u.uiDropdown);n.hasClass(h.error)&&(b.verbose("Resetting error on field",n),n.removeClass(h.error),i.remove()),s?(b.verbose("Resetting dropdown value",t,o),t.dropdown("clear")):r?e.prop("checked",!1):(b.verbose("Resetting field value",e,o),e.val(""))})},reset:function(){t.each(function(){var e=j(this),t=e.parent(),n=e.closest(l),i=n.find(u.prompt),o=e.data(d.defaultValue),r=t.is(u.uiCheckbox),s=t.is(u.uiDropdown),a=n.hasClass(h.error);o!==O&&(a&&(b.verbose("Resetting error on field",n),n.removeClass(h.error),i.remove()),s?(b.verbose("Resetting dropdown value",t,o),t.dropdown("restore defaults")):r?(b.verbose("Resetting checkbox value",t,o),e.prop("checked",o)):(b.verbose("Resetting field value",e,o),e.val(o)))})},is:{bracketedRule:function(e){return e.type&&e.type.match(c.regExp.bracket)},valid:function(){var n=!0;return b.verbose("Checking if form is valid"),j.each(r,function(e,t){b.validate.field(t,e)||(n=!1)}),n}},removeEvents:function(){f.off(a),t.off(a),e.off(a),t.off(a)},event:{field:{keydown:function(e){var t=j(this),n=e.which,i=13;n==27&&(b.verbose("Escape key pressed blurring field"),t.blur()),!e.ctrlKey&&n==i&&t.is(u.input)&&0<t.not(u.checkbox).length&&(v||(t.one("keyup"+a,b.event.field.keyup),b.submit(),b.debug("Enter pressed on input submitting form")),v=!0)},keyup:function(){v=!1},blur:function(e){var t=j(this),n=t.closest(l),i=b.get.validation(t);n.hasClass(h.error)?(b.debug("Revalidating field",t,i),b.validate.form.call(b,e,!0)):"blur"!=c.on&&"change"!=c.on||i&&b.validate.field(i)},change:function(e){var t=j(this),n=t.closest(l);("change"==c.on||n.hasClass(h.error)&&c.revalidate)&&(clearTimeout(b.timer),b.timer=setTimeout(function(){b.debug("Revalidating field",t,b.get.validation(t)),b.validate.form.call(b,e,!0)},c.delay))}}},get:{ancillaryValue:function(e){return!(!e.type||!b.is.bracketedRule(e))&&e.type.match(c.regExp.bracket)[1]+""},ruleName:function(e){return b.is.bracketedRule(e)?e.type.replace(e.type.match(c.regExp.bracket)[0],""):e.type},changeEvent:function(e,t){return"checkbox"==e||"radio"==e||"hidden"==e||t.is("select")?"change":b.get.inputEvent()},inputEvent:function(){return P.createElement("input").oninput!==O?"input":P.createElement("input").onpropertychange!==O?"propertychange":"keyup"},prompt:function(e,t){var n,i=b.get.ruleName(e),o=b.get.ancillaryValue(e),r=e.prompt||c.prompt[i]||c.text.unspecifiedRule,s=-1!==r.search("{value}"),a=-1!==r.search("{name}");return(a||s)&&(n=b.get.field(t.identifier)),s&&(r=r.replace("{value}",n.val())),a&&(n=1==(a=n.closest(u.group).find("label").eq(0)).size()?a.text():n.prop("placeholder")||c.text.unspecifiedField,r=r.replace("{name}",n)),r=(r=r.replace("{identifier}",t.identifier)).replace("{ruleValue}",o),e.prompt||b.verbose("Using default validation prompt for type",r,i),r},settings:function(){var e;j.isPlainObject(y)?0<(e=Object.keys(y)).length&&(y[e[0]].identifier!==O&&y[e[0]].rules!==O)?(c=j.extend(!0,{},j.fn.form.settings,E),r=j.extend({},j.fn.form.settings.defaults,y),b.error(c.error.oldSyntax,m),b.verbose("Extending settings from legacy parameters",r,c)):(y.fields&&(e=Object.keys(y.fields),"string"!=typeof y.fields[e[0]]&&!j.isArray(y.fields[e[0]])||j.each(y.fields,function(n,e){"string"==typeof e&&(e=[e]),y.fields[n]={rules:[]},j.each(e,function(e,t){y.fields[n].rules.push({type:t})})})),c=j.extend(!0,{},j.fn.form.settings,y),r=j.extend({},j.fn.form.settings.defaults,c.fields),b.verbose("Extending settings",r,c)):(c=j.fn.form.settings,r=j.fn.form.settings.defaults,b.verbose("Using default form validation",r,c)),i=c.namespace,d=c.metadata,u=c.selector,h=c.className,s=c.error,o="module-"+i,a="."+i,p=f.data(o),b.refresh()},field:function(e){return b.verbose("Finding field with identifier",e),0<t.filter("#"+e).length?t.filter("#"+e):0<t.filter('[name="'+e+'"]').length?t.filter('[name="'+e+'"]'):0<t.filter('[name="'+e+'[]"]').length?t.filter('[name="'+e+'[]"]'):0<t.filter("[data-"+d.validate+'="'+e+'"]').length?t.filter("[data-"+d.validate+'="'+e+'"]'):j("<input/>")},fields:function(e){var n=j();return j.each(e,function(e,t){n=n.add(b.get.field(t))}),n},validation:function(n){var i,o;return!!r&&(j.each(r,function(e,t){o=t.identifier||e,b.get.field(o)[0]==n[0]&&(t.identifier=o,i=t)}),i||!1)},value:function(e){var t=[];return t.push(e),b.get.values.call(m,t)[e]},values:function(e){var e=j.isArray(e)?b.get.fields(e):t,a={};return e.each(function(e,t){var n=j(t),i=(n.prop("type"),n.prop("name")),o=n.val(),r=n.is(u.checkbox),s=n.is(u.radio),t=-1!==i.indexOf("[]"),n=!!r&&n.is(":checked");i&&(t?(i=i.replace("[]",""),a[i]||(a[i]=[]),r?n?a[i].push(o||!0):a[i].push(!1):a[i].push(o)):s?n&&(a[i]=o):a[i]=r?!!n&&(o||!0):o)}),a}},has:{field:function(e){return b.verbose("Checking for existence of a field with identifier",e),"string"!=typeof e&&b.error(s.identifier,e),0<t.filter("#"+e).length||(0<t.filter('[name="'+e+'"]').length||0<t.filter("[data-"+d.validate+'="'+e+'"]').length)}},add:{prompt:function(e,t){var n=b.get.field(e).closest(l),i=n.children(u.prompt),o=0!==i.length;t="string"==typeof t?[t]:t,b.verbose("Adding field error state",e),n.addClass(h.error),c.inline&&(o||(i=c.templates.prompt(t)).appendTo(n),i.html(t[0]),o?b.verbose("Inline errors are disabled, no inline error added",e):c.transition&&j.fn.transition!==O&&f.transition("is supported")?(b.verbose("Displaying error with css transition",c.transition),i.transition(c.transition+" in",c.duration)):(b.verbose("Displaying error with fallback javascript animation"),i.fadeIn(c.duration)))},errors:function(e){b.debug("Adding form error messages",e),b.set.error(),n.html(c.templates.error(e))}},remove:{prompt:function(e){var t=b.get.field(e).closest(l),n=t.children(u.prompt);t.removeClass(h.error),c.inline&&n.is(":visible")&&(b.verbose("Removing prompt for field",e),c.transition&&j.fn.transition!==O&&f.transition("is supported")?n.transition(c.transition+" out",c.duration,function(){n.remove()}):n.fadeOut(c.duration,function(){n.remove()}))}},set:{success:function(){f.removeClass(h.error).addClass(h.success)},defaults:function(){t.each(function(){var e=j(this),t=0<e.filter(u.checkbox).length?e.is(":checked"):e.val();e.data(d.defaultValue,t)})},error:function(){f.removeClass(h.success).addClass(h.error)},value:function(e,t){var n={};return n[e]=t,b.set.values.call(m,n)},values:function(e){j.isEmptyObject(e)||j.each(e,function(e,t){var n,i=b.get.field(e),o=i.parent(),r=j.isArray(t),s=o.is(u.uiCheckbox),a=o.is(u.uiDropdown),e=i.is(u.radio)&&s;0<i.length&&(r&&s?(b.verbose("Selecting multiple",t,i),o.checkbox("uncheck"),j.each(t,function(e,t){n=i.filter('[value="'+t+'"]'),o=n.parent(),0<n.length&&o.checkbox("check")})):e?(b.verbose("Selecting radio value",t,i),i.filter('[value="'+t+'"]').parent(u.uiCheckbox).checkbox("check")):s?(b.verbose("Setting checkbox value",t,o),!0===t?o.checkbox("check"):o.checkbox("uncheck")):a?(b.verbose("Setting dropdown value",t,o),o.dropdown("set selected",t)):(b.verbose("Setting field value",t,i),i.val(t)))})}},validate:{form:function(e,t){var n=b.get.values();if(v)return!1;if(g=[],b.is.valid()){if(b.debug("Form has no validation errors, submitting"),b.set.success(),!0!==t)return c.onSuccess.call(m,e,n)}else if(b.debug("Form has errors"),b.set.error(),c.inline||b.add.errors(g),f.data("moduleApi")!==O&&e.stopImmediatePropagation(),!0!==t)return c.onFailure.call(m,g,n)},field:function(n,e){var i=n.identifier||e,e=b.get.field(i),o=!0,r=[];return n.identifier||(b.debug("Using field name as identifier",i),n.identifier=i),e.prop("disabled")?(b.debug("Field is disabled. Skipping",i),o=!0):n.optional&&""===j.trim(e.val())?(b.debug("Field is optional and empty. Skipping",i),o=!0):n.rules!==O&&j.each(n.rules,function(e,t){b.has.field(i)&&!b.validate.rule(n,t)&&(b.debug("Field is invalid",i,t.type),r.push(b.get.prompt(t,n)),o=!1)}),o?(b.remove.prompt(i,r),c.onValid.call(e),!0):(g=g.concat(r),b.add.prompt(i,r),c.onInvalid.call(e,r),!1)},rule:function(e,t){var n=b.get.field(e.identifier),i=(t.type,n.val()),o=b.get.ancillaryValue(t),e=b.get.ruleName(t),t=c.rules[e];if(j.isFunction(t))return i=i===O||""===i||null===i?"":j.trim(i+""),t.call(n,i,o);b.error(s.noRule,e)}},setting:function(e,t){if(j.isPlainObject(e))j.extend(!0,c,e);else{if(t===O)return c[e];c[e]=t}},internal:function(e,t){if(j.isPlainObject(e))j.extend(!0,b,e);else{if(t===O)return b[e];b[e]=t}},debug:function(){c.debug&&(c.performance?b.performance.log(arguments):(b.debug=Function.prototype.bind.call(console.info,console,c.name+":"),b.debug.apply(console,arguments)))},verbose:function(){c.verbose&&c.debug&&(c.performance?b.performance.log(arguments):(b.verbose=Function.prototype.bind.call(console.info,console,c.name+":"),b.verbose.apply(console,arguments)))},error:function(){b.error=Function.prototype.bind.call(console.error,console,c.name+":"),b.error.apply(console,arguments)},performance:{log:function(e){var t,n;c.performance&&(n=(t=(new Date).getTime())-(k||t),k=t,S.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:m,"Execution Time":n})),clearTimeout(b.performance.timer),b.performance.timer=setTimeout(b.performance.display,500)},display:function(){var e=c.name+":",n=0;k=!1,clearTimeout(b.performance.timer),j.each(S,function(e,t){n+=t["Execution Time"]}),e+=" "+n+"ms",C&&(e+=" '"+C+"'"),1<w.length&&(e+=" ("+w.length+")"),(console.group!==O||console.table!==O)&&0<S.length&&(console.groupCollapsed(e),console.table?console.table(S):j.each(S,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),S=[]}},invoke:function(i,e,t){var o,r,n,s=p;return e=e||A,t=m||t,"string"==typeof i&&s!==O&&(i=i.split(/[\. ]/),o=i.length-1,j.each(i,function(e,t){var n=e!=o?t+i[e+1].charAt(0).toUpperCase()+i[e+1].slice(1):i;if(j.isPlainObject(s[n])&&e!=o)s=s[n];else{if(s[n]!==O)return r=s[n],!1;{if(!j.isPlainObject(s[t])||e==o)return s[t]!==O&&(r=s[t]),!1;s=s[t]}}})),j.isFunction(r)?n=r.apply(t,e):r!==O&&(n=r),j.isArray(x)?x.push(n):x!==O?x=[x,n]:n!==O&&(x=n),r}};b.initialize()}),x!==O?x:this},j.fn.form.settings={name:"Form",namespace:"form",debug:!1,verbose:!1,performance:!0,fields:!1,keyboardShortcuts:!0,on:"submit",inline:!1,delay:200,revalidate:!0,transition:"scale",duration:200,onValid:function(){},onInvalid:function(){},onSuccess:function(){return!0},onFailure:function(){return!1},metadata:{defaultValue:"default",validate:"validate"},regExp:{bracket:/\[(.*)\]/i,decimal:/^\d*(\.)\d+/,email:"[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?",escape:/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,flags:/^\/(.*)\/(.*)?/,integer:/^\-?\d+$/,number:/^\-?\d*(\.\d+)?$/,url:/(https?:\/\/(?:www\.|(?!www))[^\s\.]+\.[^\s]{2,}|www\.[^\s]+\.[^\s]{2,})/i},text:{unspecifiedRule:"Please enter a valid value",unspecifiedField:"This field"},prompt:{empty:"{name} must have a value",checked:"{name} must be checked",email:"{name} must be a valid e-mail",url:"{name} must be a valid url",regExp:"{name} is not formatted correctly",integer:"{name} must be an integer",decimal:"{name} must be a decimal number",number:"{name} must be set to a number",is:'{name} must be "{ruleValue}"',isExactly:'{name} must be exactly "{ruleValue}"',not:'{name} cannot be set to "{ruleValue}"',notExactly:'{name} cannot be set to exactly "{ruleValue}"',contain:'{name} cannot contain "{ruleValue}"',containExactly:'{name} cannot contain exactly "{ruleValue}"',doesntContain:'{name} must contain  "{ruleValue}"',doesntContainExactly:'{name} must contain exactly "{ruleValue}"',minLength:"{name} must be at least {ruleValue} characters",length:"{name} must be at least {ruleValue} characters",exactLength:"{name} must be exactly {ruleValue} characters",maxLength:"{name} cannot be longer than {ruleValue} characters",match:"{name} must match {ruleValue} field",different:"{name} must have a different value than {ruleValue} field",creditCard:"{name} must be a valid credit card number",minCount:"{name} must have at least {ruleValue} choices",exactCount:"{name} must have exactly {ruleValue} choices",maxCount:"{name} must have {ruleValue} or less choices"},selector:{checkbox:'input[type="checkbox"], input[type="radio"]',clear:".clear",field:"input, textarea, select",group:".field",input:"input",message:".error.message",prompt:".prompt.label",radio:'input[type="radio"]',reset:'.reset:not([type="reset"])',submit:'.submit:not([type="submit"])',uiCheckbox:".ui.checkbox",uiDropdown:".ui.dropdown"},className:{error:"error",label:"ui prompt label",pressed:"down",success:"success"},error:{identifier:"You must specify a string identifier for each field",method:"The method you called is not defined.",noRule:"There is no rule matching the one you specified",oldSyntax:"Starting in 2.0 forms now only take a single settings object. Validation settings converted to new syntax automatically."},templates:{error:function(e){var n='<ul class="list">';return j.each(e,function(e,t){n+="<li>"+t+"</li>"}),j(n+="</ul>")},prompt:function(e){return j("<div/>").addClass("ui basic red pointing prompt label").html(e[0])}},rules:{empty:function(e){return!(e===O||""===e||j.isArray(e)&&0===e.length)},checked:function(){return 0<j(this).filter(":checked").length},email:function(e){return new RegExp(j.fn.form.settings.regExp.email,"i").test(e)},url:function(e){return j.fn.form.settings.regExp.url.test(e)},regExp:function(e,t){var n,i=t.match(j.fn.form.settings.regExp.flags);return i&&(t=2<=i.length?i[1]:t,n=3<=i.length?i[2]:""),e.match(new RegExp(t,n))},integer:function(e,t){var n,i,o=j.fn.form.settings.regExp.integer;return t&&-1===["",".."].indexOf(t)&&(-1==t.indexOf("..")?o.test(t)&&(n=i=+t):(t=t.split("..",2),o.test(t[0])&&(n=+t[0]),o.test(t[1])&&(i=+t[1]))),o.test(e)&&(n===O||n<=e)&&(i===O||e<=i)},decimal:function(e){return j.fn.form.settings.regExp.decimal.test(e)},number:function(e){return j.fn.form.settings.regExp.number.test(e)},is:function(e,t){return t="string"==typeof t?t.toLowerCase():t,(e="string"==typeof e?e.toLowerCase():e)==t},isExactly:function(e,t){return e==t},not:function(e,t){return(e="string"==typeof e?e.toLowerCase():e)!=(t="string"==typeof t?t.toLowerCase():t)},notExactly:function(e,t){return e!=t},contains:function(e,t){return t=t.replace(j.fn.form.settings.regExp.escape,"\\$&"),-1!==e.search(new RegExp(t,"i"))},containsExactly:function(e,t){return t=t.replace(j.fn.form.settings.regExp.escape,"\\$&"),-1!==e.search(new RegExp(t))},doesntContain:function(e,t){return t=t.replace(j.fn.form.settings.regExp.escape,"\\$&"),-1===e.search(new RegExp(t,"i"))},doesntContainExactly:function(e,t){return t=t.replace(j.fn.form.settings.regExp.escape,"\\$&"),-1===e.search(new RegExp(t))},minLength:function(e,t){return e!==O&&e.length>=t},length:function(e,t){return e!==O&&e.length>=t},exactLength:function(e,t){return e!==O&&e.length==t},maxLength:function(e,t){return e!==O&&e.length<=t},match:function(e,t){var n;j(this);return 0<j('[data-validate="'+t+'"]').length?n=j('[data-validate="'+t+'"]').val():0<j("#"+t).length?n=j("#"+t).val():0<j('[name="'+t+'"]').length?n=j('[name="'+t+'"]').val():0<j('[name="'+t+'[]"]').length&&(n=j('[name="'+t+'[]"]')),n!==O&&e.toString()==n.toString()},different:function(e,t){var n;j(this);return 0<j('[data-validate="'+t+'"]').length?n=j('[data-validate="'+t+'"]').val():0<j("#"+t).length?n=j("#"+t).val():0<j('[name="'+t+'"]').length?n=j('[name="'+t+'"]').val():0<j('[name="'+t+'[]"]').length&&(n=j('[name="'+t+'[]"]')),n!==O&&e.toString()!==n.toString()},creditCard:function(n,e){var i,o,r={visa:{pattern:/^4/,length:[16]},amex:{pattern:/^3[47]/,length:[15]},mastercard:{pattern:/^5[1-5]/,length:[16]},discover:{pattern:/^(6011|622(12[6-9]|1[3-9][0-9]|[2-8][0-9]{2}|9[0-1][0-9]|92[0-5]|64[4-9])|65)/,length:[16]},unionPay:{pattern:/^(62|88)/,length:[16,17,18,19]},jcb:{pattern:/^35(2[89]|[3-8][0-9])/,length:[16]},maestro:{pattern:/^(5018|5020|5038|6304|6759|676[1-3])/,length:[12,13,14,15,16,17,18,19]},dinersClub:{pattern:/^(30[0-5]|^36)/,length:[14]},laser:{pattern:/^(6304|670[69]|6771)/,length:[16,17,18,19]},visaElectron:{pattern:/^(4026|417500|4508|4844|491(3|7))/,length:[16]}},s=!1,e="string"==typeof e&&e.split(",");if("string"==typeof n&&0!==n.length){if(e&&(j.each(e,function(e,t){(o=r[t])&&(i={length:-1!==j.inArray(n.length,o.length),pattern:-1!==n.search(o.pattern)}).length&&i.pattern&&(s=!0)}),!s))return!1;if((e={number:-1!==j.inArray(n.length,r.unionPay.length),pattern:-1!==n.search(r.unionPay.pattern)}).number&&e.pattern)return!0;for(var t=n.length,a=0,l=[[0,1,2,3,4,5,6,7,8,9],[0,2,4,6,8,1,3,5,7,9]],c=0;t--;)c+=l[a][parseInt(n.charAt(t),10)],a^=1;return c%10==0&&0<c}},minCount:function(e,t){return 0==t||(1==t?""!==e:e.split(",").length>=t)},exactCount:function(e,t){return 0==t?""===e:1==t?""!==e&&-1===e.search(","):e.split(",").length==t},maxCount:function(e,t){return 0!=t&&(1==t?-1===e.search(","):e.split(",").length<=t)}}}}(jQuery,(window,document)),function(k,S,T){"use strict";k.fn.accordion=function(r){var g,v=k(this),b=(new Date).getTime(),y=[],x=r,w="string"==typeof x,C=[].slice.call(arguments,1);S.requestAnimationFrame||S.mozRequestAnimationFrame||S.webkitRequestAnimationFrame||S.msRequestAnimationFrame;return v.each(function(){var e,s=k.isPlainObject(r)?k.extend(!0,{},k.fn.accordion.settings,r):k.extend({},k.fn.accordion.settings),a=s.className,t=s.namespace,l=s.selector,c=s.error,n="."+t,i="module-"+t,o=v.selector||"",d=k(this),u=d.find(l.title),h=d.find(l.content),p=this,f=d.data(i),m={initialize:function(){m.debug("Initializing",d),m.bind.events(),s.observeChanges&&m.observeChanges(),m.instantiate()},instantiate:function(){f=m,d.data(i,m)},destroy:function(){m.debug("Destroying previous instance",d),d.off(n).removeData(i)},refresh:function(){u=d.find(l.title),h=d.find(l.content)},observeChanges:function(){"MutationObserver"in S&&((e=new MutationObserver(function(e){m.debug("DOM tree modified, updating selector cache"),m.refresh()})).observe(p,{childList:!0,subtree:!0}),m.debug("Setting up mutation observer",e))},bind:{events:function(){m.debug("Binding delegated events"),d.on(s.on+n,l.trigger,m.event.click)}},event:{click:function(){m.toggle.call(this)}},toggle:function(e){var t=e!==T?"number"==typeof e?u.eq(e):k(e).closest(l.title):k(this).closest(l.title),n=t.next(h),i=n.hasClass(a.animating),e=n.hasClass(a.active),n=e&&!i,i=!e&&i;m.debug("Toggling visibility of content",t),n||i?s.collapsible?m.close.call(t):m.debug("Cannot close accordion content collapsing is disabled"):m.open.call(t)},open:function(e){var t=e!==T?"number"==typeof e?u.eq(e):k(e).closest(l.title):k(this).closest(l.title),n=t.next(h),e=n.hasClass(a.animating);n.hasClass(a.active)||e?m.debug("Accordion already open, skipping",n):(m.debug("Opening accordion content",t),s.onOpening.call(n),s.exclusive&&m.closeOthers.call(t),t.addClass(a.active),n.stop(!0,!0).addClass(a.animating),s.animateChildren&&(k.fn.transition!==T&&d.transition("is supported")?n.children().transition({animation:"fade in",queue:!1,useFailSafe:!0,debug:s.debug,verbose:s.verbose,duration:s.duration}):n.children().stop(!0,!0).animate({opacity:1},s.duration,m.resetOpacity)),n.slideDown(s.duration,s.easing,function(){n.removeClass(a.animating).addClass(a.active),m.reset.display.call(this),s.onOpen.call(this),s.onChange.call(this)}))},close:function(e){var t=e!==T?"number"==typeof e?u.eq(e):k(e).closest(l.title):k(this).closest(l.title),n=t.next(h),i=n.hasClass(a.animating),e=n.hasClass(a.active);!e&&!(!e&&i)||e&&i||(m.debug("Closing accordion content",n),s.onClosing.call(n),t.removeClass(a.active),n.stop(!0,!0).addClass(a.animating),s.animateChildren&&(k.fn.transition!==T&&d.transition("is supported")?n.children().transition({animation:"fade out",queue:!1,useFailSafe:!0,debug:s.debug,verbose:s.verbose,duration:s.duration}):n.children().stop(!0,!0).animate({opacity:0},s.duration,m.resetOpacity)),n.slideUp(s.duration,s.easing,function(){n.removeClass(a.animating).removeClass(a.active),m.reset.display.call(this),s.onClose.call(this),s.onChange.call(this)}))},closeOthers:function(e){var t,n=e!==T?u.eq(e):k(this).closest(l.title),i=n.parents(l.content).prev(l.title),o=n.closest(l.accordion),e=l.title+"."+a.active+":visible",n=l.content+"."+a.active+":visible",r=s.closeNested?(t=o.find(e).not(i)).next(h):(t=o.find(e).not(i),r=o.find(n).find(e).not(i),(t=t.not(r)).next(h));0<t.length&&(m.debug("Exclusive enabled, closing other content",t),t.removeClass(a.active),r.removeClass(a.animating).stop(!0,!0),s.animateChildren&&(k.fn.transition!==T&&d.transition("is supported")?r.children().transition({animation:"fade out",useFailSafe:!0,debug:s.debug,verbose:s.verbose,duration:s.duration}):r.children().stop(!0,!0).animate({opacity:0},s.duration,m.resetOpacity)),r.slideUp(s.duration,s.easing,function(){k(this).removeClass(a.active),m.reset.display.call(this)}))},reset:{display:function(){m.verbose("Removing inline display from element",this),k(this).css("display",""),""===k(this).attr("style")&&k(this).attr("style","").removeAttr("style")},opacity:function(){m.verbose("Removing inline opacity from element",this),k(this).css("opacity",""),""===k(this).attr("style")&&k(this).attr("style","").removeAttr("style")}},setting:function(e,t){if(m.debug("Changing setting",e,t),k.isPlainObject(e))k.extend(!0,s,e);else{if(t===T)return s[e];s[e]=t}},internal:function(e,t){if(m.debug("Changing internal",e,t),t===T)return m[e];k.isPlainObject(e)?k.extend(!0,m,e):m[e]=t},debug:function(){s.debug&&(s.performance?m.performance.log(arguments):(m.debug=Function.prototype.bind.call(console.info,console,s.name+":"),m.debug.apply(console,arguments)))},verbose:function(){s.verbose&&s.debug&&(s.performance?m.performance.log(arguments):(m.verbose=Function.prototype.bind.call(console.info,console,s.name+":"),m.verbose.apply(console,arguments)))},error:function(){m.error=Function.prototype.bind.call(console.error,console,s.name+":"),m.error.apply(console,arguments)},performance:{log:function(e){var t,n;s.performance&&(n=(t=(new Date).getTime())-(b||t),b=t,y.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:p,"Execution Time":n})),clearTimeout(m.performance.timer),m.performance.timer=setTimeout(m.performance.display,500)},display:function(){var e=s.name+":",n=0;b=!1,clearTimeout(m.performance.timer),k.each(y,function(e,t){n+=t["Execution Time"]}),e+=" "+n+"ms",o&&(e+=" '"+o+"'"),(console.group!==T||console.table!==T)&&0<y.length&&(console.groupCollapsed(e),console.table?console.table(y):k.each(y,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),y=[]}},invoke:function(i,e,t){var o,r,n,s=f;return e=e||C,t=p||t,"string"==typeof i&&s!==T&&(i=i.split(/[\. ]/),o=i.length-1,k.each(i,function(e,t){var n=e!=o?t+i[e+1].charAt(0).toUpperCase()+i[e+1].slice(1):i;if(k.isPlainObject(s[n])&&e!=o)s=s[n];else{if(s[n]!==T)return r=s[n],!1;{if(!k.isPlainObject(s[t])||e==o)return s[t]!==T?r=s[t]:m.error(c.method,i),!1;s=s[t]}}})),k.isFunction(r)?n=r.apply(t,e):r!==T&&(n=r),k.isArray(g)?g.push(n):g!==T?g=[g,n]:n!==T&&(g=n),r}};w?(f===T&&m.initialize(),m.invoke(x)):(f!==T&&f.invoke("destroy"),m.initialize())}),g!==T?g:this},k.fn.accordion.settings={name:"Accordion",namespace:"accordion",debug:!1,verbose:!1,performance:!0,on:"click",observeChanges:!0,exclusive:!0,collapsible:!0,closeNested:!1,animateChildren:!0,duration:350,easing:"easeOutQuad",onOpening:function(){},onOpen:function(){},onClosing:function(){},onClose:function(){},onChange:function(){},error:{method:"The method you called is not defined"},className:{active:"active",animating:"animating"},selector:{accordion:".accordion",title:".title",trigger:".title",content:".content"}},k.extend(k.easing,{easeOutQuad:function(e,t,n,i,o){return-i*(t/=o)*(t-2)+n}})}(jQuery,window,void document),function(T,E,_,A){"use strict";T.fn.checkbox=function(v){var b,e=T(this),y=e.selector||"",x=(new Date).getTime(),w=[],C=v,k="string"==typeof C,S=[].slice.call(arguments,1);return e.each(function(){var e,i=T.extend(!0,{},T.fn.checkbox.settings,v),t=i.className,n=i.namespace,o=i.selector,a=i.error,r="."+n,s="module-"+n,l=T(this),c=T(this).children(o.label),d=T(this).children(o.input),u=d[0],h=!1,p=!1,f=l.data(s),m=this,g={initialize:function(){g.verbose("Initializing checkbox",i),g.create.label(),g.bind.events(),g.set.tabbable(),g.hide.input(),g.observeChanges(),g.instantiate(),g.setup()},instantiate:function(){g.verbose("Storing instance of module",g),f=g,l.data(s,g)},destroy:function(){g.verbose("Destroying module"),g.unbind.events(),g.show.input(),l.removeData(s)},fix:{reference:function(){l.is(o.input)&&(g.debug("Behavior called on <input> adjusting invoked element"),l=l.closest(o.checkbox),g.refresh())}},setup:function(){g.set.initialLoad(),g.is.indeterminate()?(g.debug("Initial value is indeterminate"),g.indeterminate()):g.is.checked()?(g.debug("Initial value is checked"),g.check()):(g.debug("Initial value is unchecked"),g.uncheck()),g.remove.initialLoad()},refresh:function(){c=l.children(o.label),d=l.children(o.input),u=d[0]},hide:{input:function(){g.verbose("Modfying <input> z-index to be unselectable"),d.addClass(t.hidden)}},show:{input:function(){g.verbose("Modfying <input> z-index to be selectable"),d.removeClass(t.hidden)}},observeChanges:function(){"MutationObserver"in E&&((e=new MutationObserver(function(e){g.debug("DOM tree modified, updating selector cache"),g.refresh()})).observe(m,{childList:!0,subtree:!0}),g.debug("Setting up mutation observer",e))},attachEvents:function(e,t){var n=T(e);t=T.isFunction(g[t])?g[t]:g.toggle,0<n.length?(g.debug("Attaching checkbox events to element",e,t),n.on("click"+r,t)):g.error(a.notFound)},event:{click:function(e){var t=T(e.target);t.is(o.input)?g.verbose("Using default check action on initialized checkbox"):t.is(o.link)?g.debug("Clicking link inside checkbox, skipping toggle"):(g.toggle(),d.focus(),e.preventDefault())},keydown:function(e){var t=e.which,n=13,i=32;p=t==27?(g.verbose("Escape key pressed blurring field"),d.blur(),!0):!(e.ctrlKey||t!=i&&t!=n)&&(g.verbose("Enter/space key pressed, toggling checkbox"),g.toggle(),!0)},keyup:function(e){p&&e.preventDefault()}},check:function(){g.should.allowCheck()&&(g.debug("Checking checkbox",d),g.set.checked(),g.should.ignoreCallbacks()||(i.onChecked.call(u),i.onChange.call(u)))},uncheck:function(){g.should.allowUncheck()&&(g.debug("Unchecking checkbox"),g.set.unchecked(),g.should.ignoreCallbacks()||(i.onUnchecked.call(u),i.onChange.call(u)))},indeterminate:function(){g.should.allowIndeterminate()?g.debug("Checkbox is already indeterminate"):(g.debug("Making checkbox indeterminate"),g.set.indeterminate(),g.should.ignoreCallbacks()||(i.onIndeterminate.call(u),i.onChange.call(u)))},determinate:function(){g.should.allowDeterminate()?g.debug("Checkbox is already determinate"):(g.debug("Making checkbox determinate"),g.set.determinate(),g.should.ignoreCallbacks()||(i.onDeterminate.call(u),i.onChange.call(u)))},enable:function(){g.is.enabled()?g.debug("Checkbox is already enabled"):(g.debug("Enabling checkbox"),g.set.enabled(),i.onEnable.call(u))},disable:function(){g.is.disabled()?g.debug("Checkbox is already disabled"):(g.debug("Disabling checkbox"),g.set.disabled(),i.onDisable.call(u))},get:{radios:function(){var e=g.get.name();return T('input[name="'+e+'"]').closest(o.checkbox)},otherRadios:function(){return g.get.radios().not(l)},name:function(){return d.attr("name")}},is:{initialLoad:function(){return h},radio:function(){return d.hasClass(t.radio)||"radio"==d.attr("type")},indeterminate:function(){return d.prop("indeterminate")!==A&&d.prop("indeterminate")},checked:function(){return d.prop("checked")!==A&&d.prop("checked")},disabled:function(){return d.prop("disabled")!==A&&d.prop("disabled")},enabled:function(){return!g.is.disabled()},determinate:function(){return!g.is.indeterminate()},unchecked:function(){return!g.is.checked()}},should:{allowCheck:function(){return g.is.determinate()&&g.is.checked()&&!g.should.forceCallbacks()?(g.debug("Should not allow check, checkbox is already checked"),!1):!1!==i.beforeChecked.apply(u)||(g.debug("Should not allow check, beforeChecked cancelled"),!1)},allowUncheck:function(){return g.is.determinate()&&g.is.unchecked()&&!g.should.forceCallbacks()?(g.debug("Should not allow uncheck, checkbox is already unchecked"),!1):!1!==i.beforeUnchecked.apply(u)||(g.debug("Should not allow uncheck, beforeUnchecked cancelled"),!1)},allowIndeterminate:function(){return g.is.indeterminate()&&!g.should.forceCallbacks()?(g.debug("Should not allow indeterminate, checkbox is already indeterminate"),!1):!1!==i.beforeIndeterminate.apply(u)||(g.debug("Should not allow indeterminate, beforeIndeterminate cancelled"),!1)},allowDeterminate:function(){return g.is.determinate()&&!g.should.forceCallbacks()?(g.debug("Should not allow determinate, checkbox is already determinate"),!1):!1!==i.beforeDeterminate.apply(u)||(g.debug("Should not allow determinate, beforeDeterminate cancelled"),!1)},forceCallbacks:function(){return g.is.initialLoad()&&i.fireOnInit},ignoreCallbacks:function(){return h&&!i.fireOnInit}},can:{change:function(){return!(l.hasClass(t.disabled)||l.hasClass(t.readOnly)||d.prop("disabled")||d.prop("readonly"))},uncheck:function(){return"boolean"==typeof i.uncheckable?i.uncheckable:!g.is.radio()}},set:{initialLoad:function(){h=!0},checked:function(){g.verbose("Setting class to checked"),l.removeClass(t.indeterminate).addClass(t.checked),g.is.radio()&&g.uncheckOthers(),g.is.indeterminate()||!g.is.checked()?(g.verbose("Setting state to checked",u),d.prop("indeterminate",!1).prop("checked",!0),g.trigger.change()):g.debug("Input is already checked, skipping input property change")},unchecked:function(){g.verbose("Removing checked class"),l.removeClass(t.indeterminate).removeClass(t.checked),g.is.indeterminate()||!g.is.unchecked()?(g.debug("Setting state to unchecked"),d.prop("indeterminate",!1).prop("checked",!1),g.trigger.change()):g.debug("Input is already unchecked")},indeterminate:function(){g.verbose("Setting class to indeterminate"),l.addClass(t.indeterminate),g.is.indeterminate()?g.debug("Input is already indeterminate, skipping input property change"):(g.debug("Setting state to indeterminate"),d.prop("indeterminate",!0),g.trigger.change())},determinate:function(){g.verbose("Removing indeterminate class"),l.removeClass(t.indeterminate),g.is.determinate()?g.debug("Input is already determinate, skipping input property change"):(g.debug("Setting state to determinate"),d.prop("indeterminate",!1))},disabled:function(){g.verbose("Setting class to disabled"),l.addClass(t.disabled),g.is.disabled()?g.debug("Input is already disabled, skipping input property change"):(g.debug("Setting state to disabled"),d.prop("disabled","disabled"),g.trigger.change())},enabled:function(){g.verbose("Removing disabled class"),l.removeClass(t.disabled),g.is.enabled()?g.debug("Input is already enabled, skipping input property change"):(g.debug("Setting state to enabled"),d.prop("disabled",!1),g.trigger.change())},tabbable:function(){g.verbose("Adding tabindex to checkbox"),d.attr("tabindex")===A&&d.attr("tabindex",0)}},remove:{initialLoad:function(){h=!1}},trigger:{change:function(){var e=_.createEvent("HTMLEvents"),t=d[0];t&&(g.verbose("Triggering native change event"),e.initEvent("change",!0,!1),t.dispatchEvent(e))}},create:{label:function(){0<d.prevAll(o.label).length?(d.prev(o.label).detach().insertAfter(d),g.debug("Moving existing label",c)):g.has.label()||(c=T("<label>").insertAfter(d),g.debug("Creating label",c))}},has:{label:function(){return 0<c.length}},bind:{events:function(){g.verbose("Attaching checkbox events"),l.on("click"+r,g.event.click).on("keydown"+r,o.input,g.event.keydown).on("keyup"+r,o.input,g.event.keyup)}},unbind:{events:function(){g.debug("Removing events"),l.off(r)}},uncheckOthers:function(){var e=g.get.otherRadios();g.debug("Unchecking other radios",e),e.removeClass(t.checked)},toggle:function(){g.can.change()?g.is.indeterminate()||g.is.unchecked()?(g.debug("Currently unchecked"),g.check()):g.is.checked()&&g.can.uncheck()&&(g.debug("Currently checked"),g.uncheck()):g.is.radio()||g.debug("Checkbox is read-only or disabled, ignoring toggle")},setting:function(e,t){if(g.debug("Changing setting",e,t),T.isPlainObject(e))T.extend(!0,i,e);else{if(t===A)return i[e];i[e]=t}},internal:function(e,t){if(T.isPlainObject(e))T.extend(!0,g,e);else{if(t===A)return g[e];g[e]=t}},debug:function(){i.debug&&(i.performance?g.performance.log(arguments):(g.debug=Function.prototype.bind.call(console.info,console,i.name+":"),g.debug.apply(console,arguments)))},verbose:function(){i.verbose&&i.debug&&(i.performance?g.performance.log(arguments):(g.verbose=Function.prototype.bind.call(console.info,console,i.name+":"),g.verbose.apply(console,arguments)))},error:function(){g.error=Function.prototype.bind.call(console.error,console,i.name+":"),g.error.apply(console,arguments)},performance:{log:function(e){var t,n;i.performance&&(n=(t=(new Date).getTime())-(x||t),x=t,w.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:m,"Execution Time":n})),clearTimeout(g.performance.timer),g.performance.timer=setTimeout(g.performance.display,500)},display:function(){var e=i.name+":",n=0;x=!1,clearTimeout(g.performance.timer),T.each(w,function(e,t){n+=t["Execution Time"]}),e+=" "+n+"ms",y&&(e+=" '"+y+"'"),(console.group!==A||console.table!==A)&&0<w.length&&(console.groupCollapsed(e),console.table?console.table(w):T.each(w,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),w=[]}},invoke:function(i,e,t){var o,r,n,s=f;return e=e||S,t=m||t,"string"==typeof i&&s!==A&&(i=i.split(/[\. ]/),o=i.length-1,T.each(i,function(e,t){var n=e!=o?t+i[e+1].charAt(0).toUpperCase()+i[e+1].slice(1):i;if(T.isPlainObject(s[n])&&e!=o)s=s[n];else{if(s[n]!==A)return r=s[n],!1;{if(!T.isPlainObject(s[t])||e==o)return s[t]!==A?r=s[t]:g.error(a.method,i),!1;s=s[t]}}})),T.isFunction(r)?n=r.apply(t,e):r!==A&&(n=r),T.isArray(b)?b.push(n):b!==A?b=[b,n]:n!==A&&(b=n),r}};k?(f===A&&g.initialize(),g.invoke(C)):(f!==A&&f.invoke("destroy"),g.initialize())}),b!==A?b:this},T.fn.checkbox.settings={name:"Checkbox",namespace:"checkbox",debug:!1,verbose:!0,performance:!0,uncheckable:"auto",fireOnInit:!1,onChange:function(){},beforeChecked:function(){},beforeUnchecked:function(){},beforeDeterminate:function(){},beforeIndeterminate:function(){},onChecked:function(){},onUnchecked:function(){},onDeterminate:function(){},onIndeterminate:function(){},onEnabled:function(){},onDisabled:function(){},className:{checked:"checked",indeterminate:"indeterminate",disabled:"disabled",hidden:"hidden",radio:"radio",readOnly:"read-only"},error:{method:"The method you called is not defined"},selector:{checkbox:".ui.checkbox",label:"label, .box",input:'input[type="checkbox"], input[type="radio"]',link:"a[href]"}}}(jQuery,window,document),function(k,S,T){"use strict";k.fn.dimmer=function(m){var g,v=k(this),b=(new Date).getTime(),y=[],x=m,w="string"==typeof x,C=[].slice.call(arguments,1);return v.each(function(){var o,t,r=k.isPlainObject(m)?k.extend(!0,{},k.fn.dimmer.settings,m):k.extend({},k.fn.dimmer.settings),n=r.selector,e=r.namespace,i=r.className,a=r.error,s="."+e,l="module-"+e,c=v.selector||"",d="ontouchstart"in S.documentElement?"touchstart":"click",u=k(this),h=this,p=u.data(l),f={preinitialize:function(){o=f.is.dimmer()?(t=u.parent(),u):(t=u,f.has.dimmer()?r.dimmerName?t.find(n.dimmer).filter("."+r.dimmerName):t.find(n.dimmer):f.create())},initialize:function(){f.debug("Initializing dimmer",r),f.bind.events(),f.set.dimmable(),f.instantiate()},instantiate:function(){f.verbose("Storing instance of module",f),p=f,u.data(l,p)},destroy:function(){f.verbose("Destroying previous module",o),f.unbind.events(),f.remove.variation(),t.off(s)},bind:{events:function(){"hover"==r.on?t.on("mouseenter"+s,f.show).on("mouseleave"+s,f.hide):"click"==r.on&&t.on(d+s,f.toggle),f.is.page()&&(f.debug("Setting as a page dimmer",t),f.set.pageDimmer()),f.is.closable()&&(f.verbose("Adding dimmer close event",o),t.on(d+s,n.dimmer,f.event.click))}},unbind:{events:function(){u.removeData(l)}},event:{click:function(e){f.verbose("Determining if event occured on dimmer",e),0!==o.find(e.target).length&&!k(e.target).is(n.content)||(f.hide(),e.stopImmediatePropagation())}},addContent:function(e){e=k(e);f.debug("Add content to dimmer",e),e.parent()[0]!==o[0]&&e.detach().appendTo(o)},create:function(){var e=k(r.template.dimmer());return r.variation&&(f.debug("Creating dimmer with variation",r.variation),e.addClass(r.variation)),r.dimmerName&&(f.debug("Creating named dimmer",r.dimmerName),e.addClass(r.dimmerName)),e.appendTo(t),e},show:function(e){e=k.isFunction(e)?e:function(){},f.debug("Showing dimmer",o,r),f.is.dimmed()&&!f.is.animating()||!f.is.enabled()?f.debug("Dimmer is already shown or disabled"):(f.animate.show(e),r.onShow.call(h),r.onChange.call(h))},hide:function(e){e=k.isFunction(e)?e:function(){},f.is.dimmed()||f.is.animating()?(f.debug("Hiding dimmer",o),f.animate.hide(e),r.onHide.call(h),r.onChange.call(h)):f.debug("Dimmer is not visible")},toggle:function(){f.verbose("Toggling dimmer visibility",o),f.is.dimmed()?f.hide():f.show()},animate:{show:function(e){e=k.isFunction(e)?e:function(){},r.useCSS&&k.fn.transition!==T&&o.transition("is supported")?("auto"!==r.opacity&&f.set.opacity(),o.transition({animation:r.transition+" in",queue:!1,duration:f.get.duration(),useFailSafe:!0,onStart:function(){f.set.dimmed()},onComplete:function(){f.set.active(),e()}})):(f.verbose("Showing dimmer animation with javascript"),f.set.dimmed(),"auto"==r.opacity&&(r.opacity=.8),o.stop().css({opacity:0,width:"100%",height:"100%"}).fadeTo(f.get.duration(),r.opacity,function(){o.removeAttr("style"),f.set.active(),e()}))},hide:function(e){e=k.isFunction(e)?e:function(){},r.useCSS&&k.fn.transition!==T&&o.transition("is supported")?(f.verbose("Hiding dimmer with css"),o.transition({animation:r.transition+" out",queue:!1,duration:f.get.duration(),useFailSafe:!0,onStart:function(){f.remove.dimmed()},onComplete:function(){f.remove.active(),e()}})):(f.verbose("Hiding dimmer with javascript"),f.remove.dimmed(),o.stop().fadeOut(f.get.duration(),function(){f.remove.active(),o.removeAttr("style"),e()}))}},get:{dimmer:function(){return o},duration:function(){return"object"==typeof r.duration?f.is.active()?r.duration.hide:r.duration.show:r.duration}},has:{dimmer:function(){return r.dimmerName?0<u.find(n.dimmer).filter("."+r.dimmerName).length:0<u.find(n.dimmer).length}},is:{active:function(){return o.hasClass(i.active)},animating:function(){return o.is(":animated")||o.hasClass(i.animating)},closable:function(){return"auto"==r.closable?"hover"!=r.on:r.closable},dimmer:function(){return u.hasClass(i.dimmer)},dimmable:function(){return u.hasClass(i.dimmable)},dimmed:function(){return t.hasClass(i.dimmed)},disabled:function(){return t.hasClass(i.disabled)},enabled:function(){return!f.is.disabled()},page:function(){return t.is("body")},pageDimmer:function(){return o.hasClass(i.pageDimmer)}},can:{show:function(){return!o.hasClass(i.disabled)}},set:{opacity:function(e){var t=o.css("background-color"),n=t.split(","),i=n&&4==n.length;e=0===r.opacity?0:r.opacity||e,t=i?(n[3]=e+")",n.join(",")):"rgba(0, 0, 0, "+e+")",f.debug("Setting opacity to",e),o.css("background-color",t)},active:function(){o.addClass(i.active)},dimmable:function(){t.addClass(i.dimmable)},dimmed:function(){t.addClass(i.dimmed)},pageDimmer:function(){o.addClass(i.pageDimmer)},disabled:function(){o.addClass(i.disabled)},variation:function(e){(e=e||r.variation)&&o.addClass(e)}},remove:{active:function(){o.removeClass(i.active)},dimmed:function(){t.removeClass(i.dimmed)},disabled:function(){o.removeClass(i.disabled)},variation:function(e){(e=e||r.variation)&&o.removeClass(e)}},setting:function(e,t){if(f.debug("Changing setting",e,t),k.isPlainObject(e))k.extend(!0,r,e);else{if(t===T)return r[e];r[e]=t}},internal:function(e,t){if(k.isPlainObject(e))k.extend(!0,f,e);else{if(t===T)return f[e];f[e]=t}},debug:function(){r.debug&&(r.performance?f.performance.log(arguments):(f.debug=Function.prototype.bind.call(console.info,console,r.name+":"),f.debug.apply(console,arguments)))},verbose:function(){r.verbose&&r.debug&&(r.performance?f.performance.log(arguments):(f.verbose=Function.prototype.bind.call(console.info,console,r.name+":"),f.verbose.apply(console,arguments)))},error:function(){f.error=Function.prototype.bind.call(console.error,console,r.name+":"),f.error.apply(console,arguments)},performance:{log:function(e){var t,n;r.performance&&(n=(t=(new Date).getTime())-(b||t),b=t,y.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:h,"Execution Time":n})),clearTimeout(f.performance.timer),f.performance.timer=setTimeout(f.performance.display,500)},display:function(){var e=r.name+":",n=0;b=!1,clearTimeout(f.performance.timer),k.each(y,function(e,t){n+=t["Execution Time"]}),e+=" "+n+"ms",c&&(e+=" '"+c+"'"),1<v.length&&(e+=" ("+v.length+")"),(console.group!==T||console.table!==T)&&0<y.length&&(console.groupCollapsed(e),console.table?console.table(y):k.each(y,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),y=[]}},invoke:function(i,e,t){var o,r,n,s=p;return e=e||C,t=h||t,"string"==typeof i&&s!==T&&(i=i.split(/[\. ]/),o=i.length-1,k.each(i,function(e,t){var n=e!=o?t+i[e+1].charAt(0).toUpperCase()+i[e+1].slice(1):i;if(k.isPlainObject(s[n])&&e!=o)s=s[n];else{if(s[n]!==T)return r=s[n],!1;{if(!k.isPlainObject(s[t])||e==o)return s[t]!==T?r=s[t]:f.error(a.method,i),!1;s=s[t]}}})),k.isFunction(r)?n=r.apply(t,e):r!==T&&(n=r),k.isArray(g)?g.push(n):g!==T?g=[g,n]:n!==T&&(g=n),r}};f.preinitialize(),w?(p===T&&f.initialize(),f.invoke(x)):(p!==T&&p.invoke("destroy"),f.initialize())}),g!==T?g:this},k.fn.dimmer.settings={name:"Dimmer",namespace:"dimmer",debug:!1,verbose:!1,performance:!0,dimmerName:!1,variation:!1,closable:"auto",useCSS:!0,transition:"fade",on:!1,opacity:"auto",duration:{show:500,hide:500},onChange:function(){},onShow:function(){},onHide:function(){},error:{method:"The method you called is not defined."},className:{active:"active",animating:"animating",dimmable:"dimmable",dimmed:"dimmed",dimmer:"dimmer",disabled:"disabled",hide:"hide",pageDimmer:"page",show:"show"},selector:{dimmer:"> .ui.dimmer",content:".ui.dimmer > .content, .ui.dimmer > .content > .center"},template:{dimmer:function(){return k("<div />").attr("class","ui dimmer")}}}}(jQuery,(window,document)),function(U,W,X,Y){"use strict";U.fn.dropdown=function(N){var R,L=U(this),M=U(X),F=L.selector||"",q="ontouchstart"in X.documentElement,z=(new Date).getTime(),H=[],B=N,$="string"==typeof B,V=[].slice.call(arguments,1);return L.each(function(n){var e,t,i,o,r,s,h=U.isPlainObject(N)?U.extend(!0,{},U.fn.dropdown.settings,N):U.extend({},U.fn.dropdown.settings),p=h.className,c=h.message,a=h.fields,f=h.keys,m=h.metadata,l=h.namespace,d=h.regExp,g=h.selector,u=h.error,v=h.templates,b="."+l,y="module-"+l,x=U(this),w=U(h.context),C=x.find(g.text),k=x.find(g.search),S=x.find(g.input),T=(x.find(g.icon),0<x.prev().find(g.text).length?x.prev().find(g.text):x.prev()),E=x.children(g.menu),_=E.find(g.item),A=!1,j=!1,P=!1,O=this,D=x.data(y),I={initialize:function(){I.debug("Initializing dropdown",h),I.is.alreadySetup()?I.setup.reference():(I.setup.layout(),I.refreshData(),I.save.defaults(),I.restore.selected(),I.create.id(),I.bind.events(),I.observeChanges(),I.instantiate())},instantiate:function(){I.verbose("Storing instance of dropdown",I),D=I,x.data(y,I)},destroy:function(){I.verbose("Destroying previous dropdown",x),I.remove.tabbable(),x.off(b).removeData(y),E.off(b),M.off(i),r&&r.disconnect(),s&&s.disconnect()},observeChanges:function(){"MutationObserver"in W&&(r=new MutationObserver(function(e){I.debug("<select> modified, recreating menu"),I.setup.select()}),s=new MutationObserver(function(e){I.debug("Menu modified, updating selector cache"),I.refresh()}),I.has.input()&&r.observe(S[0],{childList:!0,subtree:!0}),I.has.menu()&&s.observe(E[0],{childList:!0,subtree:!0}),I.debug("Setting up mutation observer",r,s))},create:{id:function(){o=(Math.random().toString(16)+"000000000").substr(2,8),i="."+o,I.verbose("Creating unique id for element",o)},userChoice:function(e){var n,i;return!!(e=e||I.get.userValues())&&(e=U.isArray(e)?e:[e],U.each(e,function(e,t){!1===I.get.item(t)&&(i=h.templates.addition(I.add.variables(c.addResult,t)),i=U("<div />").html(i).attr("data-"+m.value,t).attr("data-"+m.text,t).addClass(p.addition).addClass(p.item),n=n===Y?i:n.add(i),I.verbose("Creating user choices for value",t,i))}),n)},userLabels:function(e){var t=I.get.userValues();t&&(I.debug("Adding user labels",t),U.each(t,function(e,t){I.verbose("Adding custom user value"),I.add.label(t,t)}))},menu:function(){E=U("<div />").addClass(p.menu).appendTo(x)}},search:function(e){e=e!==Y?e:I.get.query(),I.verbose("Searching for query",e),I.filter(e)},select:{firstUnfiltered:function(){I.verbose("Selecting first non-filtered element"),I.remove.selectedItem(),_.not(g.unselectable).eq(0).addClass(p.selected)},nextAvailable:function(e){var t=(e=e.eq(0)).nextAll(g.item).not(g.unselectable).eq(0),e=e.prevAll(g.item).not(g.unselectable).eq(0);0<t.length?(I.verbose("Moving selection to",t),t.addClass(p.selected)):(I.verbose("Moving selection to",e),e.addClass(p.selected))}},setup:{api:function(){var e={debug:h.debug,on:!1};I.verbose("First request, initializing API"),x.api(e)},layout:function(){x.is("select")&&(I.setup.select(),I.setup.returnedObject()),I.has.menu()||I.create.menu(),I.is.search()&&!I.has.search()&&(I.verbose("Adding search input"),k=U("<input />").addClass(p.search).prop("autocomplete","off").insertBefore(C)),h.allowTab&&I.set.tabbable()},select:function(){var e=I.get.selectValues();I.debug("Dropdown initialized on a select",e),0<(S=x.is("select")?x:S).parent(g.dropdown).length?(I.debug("UI dropdown already exists. Creating dropdown menu only"),x=S.closest(g.dropdown),I.has.menu()||I.create.menu(),E=x.children(g.menu),I.setup.menu(e)):(I.debug("Creating entire dropdown from select"),x=U("<div />").attr("class",S.attr("class")).addClass(p.selection).addClass(p.dropdown).html(v.dropdown(e)).insertBefore(S),S.hasClass(p.multiple)&&!1===S.prop("multiple")&&(I.error(u.missingMultiple),S.prop("multiple",!0)),S.is("[multiple]")&&I.set.multiple(),S.prop("disabled")&&(I.debug("Disabling dropdown"),x.addClass(p.disabled)),S.removeAttr("class").detach().prependTo(x)),I.refresh()},menu:function(e){E.html(v.menu(e,a)),_=E.find(g.item)},reference:function(){I.debug("Dropdown behavior was called on select, replacing with closest dropdown"),x=x.parent(g.dropdown),I.refresh(),I.setup.returnedObject(),$&&(D=I).invoke(B)},returnedObject:function(){var e=L.slice(0,n),t=L.slice(n+1);L=e.add(x).add(t)}},refresh:function(){I.refreshSelectors(),I.refreshData()},refreshSelectors:function(){I.verbose("Refreshing selector cache"),C=x.find(g.text),k=x.find(g.search),S=x.find(g.input),x.find(g.icon),T=0<x.prev().find(g.text).length?x.prev().find(g.text):x.prev(),E=x.children(g.menu),_=E.find(g.item)},refreshData:function(){I.verbose("Refreshing cached metadata"),_.removeData(m.text).removeData(m.value),x.removeData(m.defaultText).removeData(m.defaultValue).removeData(m.placeholderText)},toggle:function(){I.verbose("Toggling menu visibility"),I.is.active()?I.hide():I.show()},show:function(e){if(e=U.isFunction(e)?e:function(){},I.can.show()&&!I.is.active()){if(I.debug("Showing dropdown"),I.is.multiple()&&!I.has.search()&&I.is.allFiltered())return!0;!I.has.message()||I.has.maxSelections()||I.has.allResultsFiltered()||I.remove.message(),!1!==h.onShow.call(O)&&I.animate.show(function(){I.can.click()&&I.bind.intent(),I.set.visible(),e.call(O)})}},hide:function(e){e=U.isFunction(e)?e:function(){},I.is.active()&&(I.debug("Hiding dropdown"),!1!==h.onHide.call(O)&&I.animate.hide(function(){I.remove.visible(),e.call(O)}))},hideOthers:function(){I.verbose("Finding other dropdowns to hide"),L.not(x).has(g.menu+"."+p.visible).dropdown("hide")},hideMenu:function(){I.verbose("Hiding menu  instantaneously"),I.remove.active(),I.remove.visible(),E.transition("hide")},hideSubMenus:function(){var e=E.children(g.item).find(g.menu);I.verbose("Hiding sub menus",e),e.transition("hide")},bind:{events:function(){q&&I.bind.touchEvents(),I.bind.keyboardEvents(),I.bind.inputEvents(),I.bind.mouseEvents()},touchEvents:function(){I.debug("Touch device detected binding additional touch events"),I.is.searchSelection()||I.is.single()&&x.on("touchstart"+b,I.event.test.toggle),E.on("touchstart"+b,g.item,I.event.item.mouseenter)},keyboardEvents:function(){I.verbose("Binding keyboard events"),x.on("keydown"+b,I.event.keydown),I.has.search()&&x.on(I.get.inputEvent()+b,g.search,I.event.input),I.is.multiple()&&M.on("keydown"+i,I.event.document.keydown)},inputEvents:function(){I.verbose("Binding input change events"),x.on("change"+b,g.input,I.event.change)},mouseEvents:function(){I.verbose("Binding mouse events"),I.is.multiple()&&x.on("click"+b,g.label,I.event.label.click).on("click"+b,g.remove,I.event.remove.click),I.is.searchSelection()?(x.on("mousedown"+b,g.menu,I.event.menu.mousedown).on("mouseup"+b,g.menu,I.event.menu.mouseup).on("click"+b,g.icon,I.event.icon.click).on("click"+b,g.search,I.show).on("focus"+b,g.search,I.event.search.focus).on("blur"+b,g.search,I.event.search.blur).on("click"+b,g.text,I.event.text.focus),I.is.multiple()&&x.on("click"+b,I.event.click)):("click"==h.on?x.on("click"+b,g.icon,I.event.icon.click).on("click"+b,I.event.test.toggle):"hover"==h.on?x.on("mouseenter"+b,I.delay.show).on("mouseleave"+b,I.delay.hide):x.on(h.on+b,I.toggle),x.on("mousedown"+b,I.event.mousedown).on("mouseup"+b,I.event.mouseup).on("focus"+b,I.event.focus).on("blur"+b,I.event.blur)),E.on("mouseenter"+b,g.item,I.event.item.mouseenter).on("mouseleave"+b,g.item,I.event.item.mouseleave).on("click"+b,g.item,I.event.item.click)},intent:function(){I.verbose("Binding hide intent event to document"),q&&M.on("touchstart"+i,I.event.test.touch).on("touchmove"+i,I.event.test.touch),M.on("click"+i,I.event.test.hide)}},unbind:{intent:function(){I.verbose("Removing hide intent event from document"),q&&M.off("touchstart"+i).off("touchmove"+i),M.off("click"+i)}},filter:function(e){function t(){I.is.multiple()&&I.filterActive(),I.select.firstUnfiltered(),I.has.allResultsFiltered()?h.onNoResults.call(O,n)?h.allowAdditions||(I.verbose("All items filtered, showing message",n),I.add.message(c.noResults)):(I.verbose("All items filtered, hiding dropdown",n),I.hideMenu()):I.remove.message(),h.allowAdditions&&I.add.userSuggestion(e),I.is.searchSelection()&&I.can.show()&&I.is.focusedOnSearch()&&I.show()}var n=e!==Y?e:I.get.query();h.useLabels&&I.has.maxSelections()||(h.apiSettings?I.can.useAPI()?I.queryRemote(n,function(){t()}):I.error(u.noAPI):(I.filterItems(n),t()))},queryRemote:function(e,t){e={errorDuration:!1,throttle:h.throttle,urlData:{query:e},onError:function(){I.add.message(c.serverError),t()},onFailure:function(){I.add.message(c.serverError),t()},onSuccess:function(e){I.remove.message(),I.setup.menu({values:e[a.remoteValues]}),t()}};x.api("get request")||I.setup.api(),e=U.extend(!0,{},e,h.apiSettings),x.api("setting",e).api("query")},filterItems:function(e){var n=e!==Y?e:I.get.query(),i=null,e=I.escape.regExp(n),o=new RegExp("^"+e,"igm");I.has.query()&&(i=[],I.verbose("Searching for matching values",n),_.each(function(){var e,t=U(this);if("both"==h.match||"text"==h.match){if(-1!==(e=String(I.get.choiceText(t,!1))).search(o))return i.push(this),!0;if(h.fullTextSearch&&I.fuzzySearch(n,e))return i.push(this),!0}if("both"==h.match||"value"==h.match)return-1!==(e=String(I.get.choiceValue(t,e))).search(o)||h.fullTextSearch&&I.fuzzySearch(n,e)?(i.push(this),!0):void 0})),I.debug("Showing only matched items",n),I.remove.filteredItem(),i&&_.not(i).addClass(p.filtered)},fuzzySearch:function(e,t){var n=t.length,i=e.length;if(e=e.toLowerCase(),t=t.toLowerCase(),n<i)return!1;if(i===n)return e===t;e:for(var o=0,r=0;o<i;o++){for(var s=e.charCodeAt(o);r<n;)if(t.charCodeAt(r++)===s)continue e;return!1}return!0},filterActive:function(){h.useLabels&&_.filter("."+p.active).addClass(p.filtered)},focusSearch:function(){I.is.search()&&!I.is.focusedOnSearch()&&k[0].focus()},forceSelection:function(){var e=_.not(p.filtered).filter("."+p.selected).eq(0),t=_.not(p.filtered).filter("."+p.active).eq(0),e=0<e.length?e:t,t=0<e.size();if(I.has.query()){if(t)return I.debug("Forcing partial selection to selected item",e),void I.event.item.click.call(e);I.remove.searchTerm()}I.hide()},event:{change:function(){P||(I.debug("Input changed, updating selection"),I.set.selected())},focus:function(){h.showOnFocus&&!A&&I.is.hidden()&&!t&&I.show()},click:function(e){U(e.target).is(x)&&!I.is.focusedOnSearch()&&I.focusSearch()},blur:function(e){t=X.activeElement===this,A||t||(I.remove.activeLabel(),I.hide())},mousedown:function(){A=!0},mouseup:function(){A=!1},search:{focus:function(){A=!0,I.is.multiple()&&I.remove.activeLabel(),h.showOnFocus&&(I.search(),I.show())},blur:function(e){t=X.activeElement===this,j||t?t&&h.forceSelection&&I.forceSelection():I.is.multiple()?(I.remove.activeLabel(),I.hide()):h.forceSelection?I.forceSelection():I.hide()}},icon:{click:function(e){I.toggle(),e.stopPropagation()}},text:{focus:function(e){A=!0,I.focusSearch()}},input:function(e){(I.is.multiple()||I.is.searchSelection())&&I.set.filtered(),clearTimeout(I.timer),I.timer=setTimeout(I.search,h.delay.search)},label:{click:function(e){var t=U(this),n=x.find(g.label),i=n.filter("."+p.active),o=t.nextAll("."+p.active),r=t.prevAll("."+p.active),r=(0<o.length?t.nextUntil(o):t.prevUntil(r)).add(i).add(t);e.shiftKey?(i.removeClass(p.active),r.addClass(p.active)):e.ctrlKey?t.toggleClass(p.active):(i.removeClass(p.active),t.addClass(p.active)),h.onLabelSelect.apply(this,n.filter("."+p.active))}},remove:{click:function(){var e=U(this).parent();e.hasClass(p.active)?I.remove.activeLabels():I.remove.activeLabels(e)}},test:{toggle:function(e){var t=I.is.multiple()?I.show:I.toggle;I.determine.eventOnElement(e,t)&&e.preventDefault()},touch:function(e){I.determine.eventOnElement(e,function(){"touchstart"==e.type?I.timer=setTimeout(function(){I.hide()},h.delay.touch):"touchmove"==e.type&&clearTimeout(I.timer)}),e.stopPropagation()},hide:function(e){I.determine.eventInModule(e,I.hide)}},menu:{mousedown:function(){j=!0},mouseup:function(){j=!1}},item:{mouseenter:function(e){var t=U(this).children(g.menu),n=U(this).siblings(g.item).children(g.menu);0<t.length&&(clearTimeout(I.itemTimer),I.itemTimer=setTimeout(function(){I.verbose("Showing sub-menu",t),U.each(n,function(){I.animate.hide(!1,U(this))}),I.animate.show(!1,t)},h.delay.show),e.preventDefault())},mouseleave:function(e){var t=U(this).children(g.menu);0<t.length&&(clearTimeout(I.itemTimer),I.itemTimer=setTimeout(function(){I.verbose("Hiding sub-menu",t),I.animate.hide(!1,t)},h.delay.hide))},touchend:function(){},click:function(e){var t=U(this),n=U(e?e.target:""),i=t.find(g.menu),o=I.get.choiceText(t),r=I.get.choiceValue(t,o),e=0<i.length;0<i.find(n).length||e&&!h.allowCategorySelection||(h.useLabels||(I.remove.filteredItem(),I.remove.searchTerm(),I.set.scrollPosition(t)),I.determine.selectAction.call(this,o,r))}},document:{keydown:function(e){var t,n,i,o,r,s,a,l,c,d,u=e.which;I.is.inObject(u,f)&&((n=(t=x.find(g.label)).filter("."+p.active)).data(m.value),c=t.index(n),d=t.length,i=0<n.length,o=1<n.length,r=0===c,s=c+1==d,a=I.is.searchSelection(),l=I.is.focusedOnSearch(),c=I.is.focused(),d=l&&0===I.get.caretPosition(),a&&!i&&!l||(u==f.leftArrow?!c&&!d||i?i&&(e.shiftKey?I.verbose("Adding previous label to selection"):(I.verbose("Selecting previous label"),t.removeClass(p.active)),r&&!o?n.addClass(p.active):n.prev(g.siblingLabel).addClass(p.active).end(),e.preventDefault()):(I.verbose("Selecting previous label"),t.last().addClass(p.active)):u==f.rightArrow?(c&&!i&&t.first().addClass(p.active),i&&(e.shiftKey?I.verbose("Adding next label to selection"):(I.verbose("Selecting next label"),t.removeClass(p.active)),s?a?l?t.removeClass(p.active):I.focusSearch():(o?n.next(g.siblingLabel):n).addClass(p.active):n.next(g.siblingLabel).addClass(p.active),e.preventDefault())):u==f.deleteKey||u==f.backspace?i?(I.verbose("Removing active labels"),s&&a&&!l&&I.focusSearch(),n.last().next(g.siblingLabel).addClass(p.active),I.remove.activeLabels(n),e.preventDefault()):d&&!i&&u==f.backspace&&(I.verbose("Removing last label on input backspace"),n=t.last().addClass(p.active),I.remove.activeLabels(n)):n.removeClass(p.active)))}},keydown:function(e){var t=e.which;if(I.is.inObject(t,f)){var n,i=_.not(g.unselectable).filter("."+p.selected).eq(0),o=E.children("."+p.active).eq(0),r=0<i.length?i:o,s=0<r.length?r.siblings(":not(."+p.filtered+")").andSelf():E.children(":not(."+p.filtered+")"),a=r.children(g.menu),l=r.closest(g.menu),c=l.hasClass(p.visible)||l.hasClass(p.animating)||0<l.parent(g.menu).length,d=0<a.length,u=0<r.length,i=0<r.not(g.unselectable).length,o=t==f.delimiter&&h.allowAdditions&&I.is.multiple();if(I.is.visible()){if(t!=f.enter&&!o||(t==f.enter&&u&&d&&!h.allowCategorySelection?(I.verbose("Pressed enter on unselectable category, opening sub menu"),t=f.rightArrow):i&&(I.verbose("Selecting item from keyboard shortcut",r),I.event.item.click.call(r,e),I.is.searchSelection()&&I.remove.searchTerm()),e.preventDefault()),t==f.leftArrow&&l[0]!==E[0]&&(I.verbose("Left key pressed, closing sub-menu"),I.animate.hide(!1,l),r.removeClass(p.selected),l.closest(g.item).addClass(p.selected),e.preventDefault()),t==f.rightArrow&&d&&(I.verbose("Right key pressed, opening sub-menu"),I.animate.show(!1,a),r.removeClass(p.selected),a.find(g.item).eq(0).addClass(p.selected),e.preventDefault()),t==f.upArrow){if(n=(u&&c?r.prevAll(g.item+":not("+g.unselectable+")"):_).eq(0),s.index(n)<0)return I.verbose("Up key pressed but reached top of current menu"),void e.preventDefault();I.verbose("Up key pressed, changing active item"),r.removeClass(p.selected),n.addClass(p.selected),I.set.scrollPosition(n),e.preventDefault()}if(t==f.downArrow){if(0===(n=(u&&c?r.nextAll(g.item+":not("+g.unselectable+")"):_).eq(0)).length)return I.verbose("Down key pressed but reached bottom of current menu"),void e.preventDefault();I.verbose("Down key pressed, changing active item"),_.removeClass(p.selected),n.addClass(p.selected),I.set.scrollPosition(n),e.preventDefault()}t==f.pageUp&&(I.scrollPage("up"),e.preventDefault()),t==f.pageDown&&(I.scrollPage("down"),e.preventDefault()),t==f.escape&&(I.verbose("Escape key pressed, closing dropdown"),I.hide())}else o&&e.preventDefault(),t==f.downArrow&&(I.verbose("Down key pressed, showing dropdown"),I.show(),e.preventDefault())}else I.is.selection()&&!I.is.search()&&I.set.selectedLetter(String.fromCharCode(t))}},trigger:{change:function(){var e=X.createEvent("HTMLEvents"),t=S[0];t&&(I.verbose("Triggering native change event"),e.initEvent("change",!0,!1),t.dispatchEvent(e))}},determine:{selectAction:function(e,t){I.verbose("Determining action",h.action),U.isFunction(I.action[h.action])?(I.verbose("Triggering preset action",h.action,e,t),I.action[h.action].call(this,e,t)):U.isFunction(h.action)?(I.verbose("Triggering user action",h.action,e,t),h.action.call(this,e,t)):I.error(u.action,h.action)},eventInModule:function(e,t){var n=U(e.target),e=0<n.closest(X.documentElement).length,n=0<n.closest(x).length;return t=U.isFunction(t)?t:function(){},e&&!n?(I.verbose("Triggering event",t),t(),!0):(I.verbose("Event occurred in dropdown, canceling callback"),!1)},eventOnElement:function(e,t){var n=U(e.target),e=n.closest(g.siblingLabel),e=0===x.find(e).length,n=0===n.closest(E).length;return t=U.isFunction(t)?t:function(){},e&&n?(I.verbose("Triggering event",t),t(),!0):(I.verbose("Event occurred in dropdown menu, canceling callback"),!1)}},action:{nothing:function(){},activate:function(e,t){t=t!==Y?t:e,I.can.activate(U(this))&&(I.set.selected(t,U(this)),I.is.multiple()&&!I.is.allFiltered()||I.hideAndClear())},select:function(e,t){I.action.activate.call(this)},combo:function(e,t){I.set.selected(t=t!==Y?t:e,U(this)),I.hideAndClear()},hide:function(e,t){I.set.value(t),I.hideAndClear()}},get:{id:function(){return o},defaultText:function(){return x.data(m.defaultText)},defaultValue:function(){return x.data(m.defaultValue)},placeholderText:function(){return x.data(m.placeholderText)||""},text:function(){return C.text()},query:function(){return U.trim(k.val())},searchWidth:function(e){return e*h.glyphWidth+"em"},selectionCount:function(){var e=I.get.values();return I.is.multiple()?U.isArray(e)?e.length:0:""!==I.get.value()?1:0},transition:function(e){return"auto"==h.transition?I.is.upward(e)?"slide up":"slide down":h.transition},userValues:function(){var e=I.get.values();return!!e&&(e=U.isArray(e)?e:[e],U.grep(e,function(e){return!1===I.get.item(e)}))},uniqueArray:function(n){return U.grep(n,function(e,t){return U.inArray(e,n)===t})},caretPosition:function(){var e,t,n=k.get(0);return"selectionStart"in n?n.selectionStart:X.selection?(n.focus(),t=(e=X.selection.createRange()).text.length,e.moveStart("character",-n.value.length),e.text.length-t):void 0},value:function(){var e=0<S.length?S.val():x.data(m.value);return U.isArray(e)&&1===e.length&&""===e[0]?"":e},values:function(){var e=I.get.value();return""===e?"":!I.has.selectInput()&&I.is.multiple()?"string"==typeof e?e.split(h.delimiter):"":e},remoteValues:function(){var e=I.get.values(),i=!1;return e&&(i={},U.each(e="string"==typeof e?[e]:e,function(e,t){var n=I.read.remoteData(t);I.verbose("Restoring value from session data",n,t),i[t]=n||t})),i},choiceText:function(e,t){if(t=t!==Y?t:h.preserveHTML,e)return 0<e.find(g.menu).length&&(I.verbose("Retreiving text of element with sub-menu"),(e=e.clone()).find(g.menu).remove(),e.find(g.menuIcon).remove()),e.data(m.text)!==Y?e.data(m.text):t?U.trim(e.html()):U.trim(e.text())},choiceValue:function(e,t){return t=t||I.get.choiceText(e),!!e&&(e.data(m.value)!==Y?String(e.data(m.value)):"string"==typeof t?U.trim(t.toLowerCase()):String(t))},inputEvent:function(){var e=k[0];return!!e&&(e.oninput!==Y?"input":e.onpropertychange!==Y?"propertychange":"keyup")},selectValues:function(){var i={values:[]};return x.find("option").each(function(){var e=U(this),t=e.html(),n=e.attr("disabled"),e=e.attr("value")!==Y?e.attr("value"):t;"auto"===h.placeholder&&""===e?i.placeholder=t:i.values.push({name:t,value:e,disabled:n})}),h.placeholder&&"auto"!==h.placeholder&&(I.debug("Setting placeholder value to",h.placeholder),i.placeholder=h.placeholder),h.sortSelect?(i.values.sort(function(e,t){return e.name>t.name?1:-1}),I.debug("Retrieved and sorted values from select",i)):I.debug("Retreived values from select",i),i},activeItem:function(){return _.filter("."+p.active)},selectedItem:function(){var e=_.not(g.unselectable).filter("."+p.selected);return 0<e.length?e:_.eq(0)},itemWithAdditions:function(e){var t=I.get.item(e),e=I.create.userChoice(e);return t=e&&0<e.length?0<t.length?t.add(e):e:t},item:function(i,o){var r=!1,e=(i=i!==Y?i:I.get.values()!==Y?I.get.values():I.get.text())!==Y&&null!==i,s=I.is.multiple()&&U.isArray(i);return o=""===i||0===i||(o||!1),e&&_.each(function(){var e=U(this),t=I.get.choiceText(e),n=I.get.choiceValue(e,t);if(null!==n&&n!==Y)if(s)-1===U.inArray(String(n),i)&&-1===U.inArray(t,i)||(r=r?r.add(e):e);else if(o){if(I.verbose("Ambiguous dropdown value using strict type check",e,i),n===i||t===i)return r=e,!0}else if(String(n)==String(i)||t==i)return I.verbose("Found select item by value",n,i),r=e,!0}),r}},check:{maxSelections:function(e){return!h.maxSelections||((e=e!==Y?e:I.get.selectionCount())>=h.maxSelections?(I.debug("Maximum selection count reached"),h.useLabels&&(_.addClass(p.filtered),I.add.message(c.maxSelections)),!0):(I.verbose("No longer at maximum selection count"),I.remove.message(),I.remove.filteredItem(),I.is.searchSelection()&&I.filterItems(),!1))}},restore:{defaults:function(){I.clear(),I.restore.defaultText(),I.restore.defaultValue()},defaultText:function(){var e=I.get.defaultText();e===I.get.placeholderText?(I.debug("Restoring default placeholder text",e),I.set.placeholderText(e)):(I.debug("Restoring default text",e),I.set.text(e))},defaultValue:function(){var e=I.get.defaultValue();e!==Y&&(I.debug("Restoring default value",e),""!==e?(I.set.value(e),I.set.selected()):(I.remove.activeItem(),I.remove.selectedItem()))},labels:function(){h.allowAdditions&&(h.useLabels||(I.error(u.labels),h.useLabels=!0),I.debug("Restoring selected values"),I.create.userLabels()),I.check.maxSelections()},selected:function(){I.restore.values(),I.is.multiple()?(I.debug("Restoring previously selected values and labels"),I.restore.labels()):I.debug("Restoring previously selected values")},values:function(){I.set.initialLoad(),h.apiSettings?h.saveRemoteData?I.restore.remoteValues():I.clearValue():I.set.selected(),I.remove.initialLoad()},remoteValues:function(){var e=I.get.remoteValues();I.debug("Recreating selected from session data",e),e&&(I.is.single()?U.each(e,function(e,t){I.set.text(t)}):U.each(e,function(e,t){I.add.label(e,t)}))}},read:{remoteData:function(e){if(W.Storage!==Y)return(e=sessionStorage.getItem(e))!==Y&&e;I.error(u.noStorage)}},save:{defaults:function(){I.save.defaultText(),I.save.placeholderText(),I.save.defaultValue()},defaultValue:function(){var e=I.get.value();I.verbose("Saving default value as",e),x.data(m.defaultValue,e)},defaultText:function(){var e=I.get.text();I.verbose("Saving default text as",e),x.data(m.defaultText,e)},placeholderText:function(){var e;!1!==h.placeholder&&C.hasClass(p.placeholder)&&(e=I.get.text(),I.verbose("Saving placeholder text as",e),x.data(m.placeholderText,e))},remoteData:function(e,t){W.Storage!==Y?(I.verbose("Saving remote data to session storage",t,e),sessionStorage.setItem(t,e)):I.error(u.noStorage)}},clear:function(){I.is.multiple()?I.remove.labels():(I.remove.activeItem(),I.remove.selectedItem()),I.set.placeholderText(),I.clearValue()},clearValue:function(){I.set.value("")},scrollPage:function(e,t){var n=t||I.get.selectedItem(),i=n.closest(g.menu),o=i.outerHeight(),r=i.scrollTop(),t=_.eq(0).outerHeight(),o=Math.floor(o/t),r=(i.prop("scrollHeight"),"up"==e?r-t*o:r+t*o),t=_.not(g.unselectable),o="up"==e?t.index(n)-o:t.index(n)+o,t=("up"==e?0<=o:o<t.length)?t.eq(o):"up"==e?t.first():t.last();0<t.length&&(I.debug("Scrolling page",e,t),n.removeClass(p.selected),t.addClass(p.selected),i.scrollTop(r))},set:{filtered:function(){var e=I.is.multiple(),t=I.is.searchSelection(),n=e&&t,i=t?I.get.query():"",o="string"==typeof i&&0<i.length,t=I.get.searchWidth(i.length),i=""!==i;e&&o&&(I.verbose("Adjusting input width",t,h.glyphWidth),k.css("width",t)),o||n&&i?(I.verbose("Hiding placeholder text"),C.addClass(p.filtered)):e&&(!n||i)||(I.verbose("Showing placeholder text"),C.removeClass(p.filtered))},loading:function(){x.addClass(p.loading)},placeholderText:function(e){e=e||I.get.placeholderText(),I.debug("Setting placeholder text",e),I.set.text(e),C.addClass(p.placeholder)},tabbable:function(){I.has.search()?(I.debug("Added tabindex to searchable dropdown"),k.val("").attr("tabindex",0),E.attr("tabindex",-1)):(I.debug("Added tabindex to dropdown"),x.attr("tabindex")===Y&&(x.attr("tabindex",0),E.attr("tabindex",-1)))},initialLoad:function(){I.verbose("Setting initial load"),e=!0},activeItem:function(e){h.allowAdditions&&0<e.filter(g.addition).length?e.addClass(p.filtered):e.addClass(p.active)},scrollPosition:function(e,t){var n,i,o=(e=e||I.get.selectedItem()).closest(g.menu),r=e&&0<e.length;t=t!==Y&&t,e&&0<o.length&&r&&(e.position().top,o.addClass(p.loading),e=(r=o.scrollTop())-o.offset().top+e.offset().top,t||(i=r+o.height()<e+5,n=e-5<r),I.debug("Scrolling to active item",e),(t||n||i)&&o.scrollTop(e),o.removeClass(p.loading))},text:function(e){"select"!==h.action&&("combo"==h.action?(I.debug("Changing combo button text",e,T),h.preserveHTML?T.html(e):T.text(e)):(e!==I.get.placeholderText()&&C.removeClass(p.placeholder),I.debug("Changing text",e,C),C.removeClass(p.filtered),h.preserveHTML?C.html(e):C.text(e)))},selectedLetter:function(e){var t=_.filter("."+p.selected),n=0<t.length&&I.has.firstLetter(t,e),i=!1;n&&(n=t.nextAll(_).eq(0),I.has.firstLetter(n,e)&&(i=n)),i||_.each(function(){if(I.has.firstLetter(U(this),e))return i=U(this),!1}),i&&(I.verbose("Scrolling to next value with letter",e),I.set.scrollPosition(i),t.removeClass(p.selected),i.addClass(p.selected))},direction:function(e){"auto"==h.direction?(I.is.onScreen(e)?I.remove:I.set).upward(e):"upward"==h.direction&&I.set.upward(e)},upward:function(e){(e||x).addClass(p.upward)},value:function(e,t,n){var i=0<S.length,o=(I.has.value(e),I.get.values()),r=e!==Y?String(e):e;if(i){if(r==o&&(I.verbose("Skipping value update already same value",e,o),!I.is.initialLoad()))return;I.is.single()&&I.has.selectInput()&&I.can.extendSelect()&&(I.debug("Adding user option",e),I.add.optionValue(e)),I.debug("Updating input value",e,o),P=!0,S.val(e),!1===h.fireOnInit&&I.is.initialLoad()?I.debug("Input native change event ignored on initial load"):I.trigger.change(),P=!1}else I.verbose("Storing value in metadata",e,S),e!==o&&x.data(m.value,r);!1===h.fireOnInit&&I.is.initialLoad()?I.verbose("No callback on initial load",h.onChange):h.onChange.call(O,e,t,n)},active:function(){x.addClass(p.active)},multiple:function(){x.addClass(p.multiple)},visible:function(){x.addClass(p.visible)},exactly:function(e,t){I.debug("Setting selected to exact values"),I.clear(),I.set.selected(e,t)},selected:function(e,a){var l=I.is.multiple();(a=h.allowAdditions?a||I.get.itemWithAdditions(e):a||I.get.item(e))&&(I.debug("Setting selected menu item to",a),I.is.single()?(I.remove.activeItem(),I.remove.selectedItem()):h.useLabels&&I.remove.selectedItem(),a.each(function(){var e=U(this),t=I.get.choiceText(e),n=I.get.choiceValue(e,t),i=e.hasClass(p.filtered),o=e.hasClass(p.active),r=e.hasClass(p.addition),s=l&&1==a.length;l?!o||r?(h.apiSettings&&h.saveRemoteData&&I.save.remoteData(t,n),h.useLabels?(I.add.value(n,t,e),I.add.label(n,t,s),I.set.activeItem(e),I.filterActive(),I.select.nextAvailable(a)):(I.add.value(n,t,e),I.set.text(I.add.variables(c.count)),I.set.activeItem(e))):i||(I.debug("Selected active value, removing label"),I.remove.selected(n)):(h.apiSettings&&h.saveRemoteData&&I.save.remoteData(t,n),I.set.text(t),I.set.value(n,t,e),e.addClass(p.active).addClass(p.selected))}))}},add:{label:function(e,t,n){var i=I.is.searchSelection()?k:C,o=U("<a />").addClass(p.label).attr("data-value",e).html(v.label(e,t));o=h.onLabelCreate.call(o,e,t),I.has.label(e)?I.debug("Label already exists, skipping",e):(h.label.variation&&o.addClass(h.label.variation),!0===n?(I.debug("Animating in label",o),o.addClass(p.hidden).insertBefore(i).transition(h.label.transition,h.label.duration)):(I.debug("Adding selection label",o),o.insertBefore(i)))},message:function(e){var t=E.children(g.message),e=h.templates.message(I.add.variables(e));0<t.length?t.html(e):U("<div/>").html(e).addClass(p.message).appendTo(E)},optionValue:function(e){0<S.find('option[value="'+e+'"]').length||(r&&(r.disconnect(),I.verbose("Temporarily disconnecting mutation observer",e)),I.is.single()&&(I.verbose("Removing previous user addition"),S.find("option."+p.addition).remove()),U("<option/>").prop("value",e).addClass(p.addition).html(e).appendTo(S),I.verbose("Adding user addition as an <option>",e),r&&r.observe(S[0],{childList:!0,subtree:!0}))},userSuggestion:function(e){var t=E.children(g.addition),n=I.get.item(e),i=n&&n.not(g.addition).length,n=0<t.length;h.useLabels&&I.has.maxSelections()||(""===e||i?t.remove():(_.removeClass(p.selected),n?(n=h.templates.addition(I.add.variables(c.addResult,e)),t.html(n).attr("data-"+m.value,e).attr("data-"+m.text,e).removeClass(p.filtered).addClass(p.selected),I.verbose("Replacing user suggestion with new value",t)):((t=I.create.userChoice(e)).prependTo(E).addClass(p.selected),I.verbose("Adding item choice to menu corresponding with user choice addition",t))))},variables:function(e,t){var n,i=-1!==e.search("{count}"),o=-1!==e.search("{maxCount}"),r=-1!==e.search("{term}");return I.verbose("Adding templated variables to message",e),i&&(n=I.get.selectionCount(),e=e.replace("{count}",n)),o&&(n=I.get.selectionCount(),e=e.replace("{maxCount}",h.maxSelections)),r&&(t=t||I.get.query(),e=e.replace("{term}",t)),e},value:function(e,t,n){var i,o=I.get.values();""!==e?(i=U.isArray(o)?(i=o.concat([e]),I.get.uniqueArray(i)):[e],I.has.selectInput()?I.can.extendSelect()&&(I.debug("Adding value to select",e,i,S),I.add.optionValue(e)):(i=i.join(h.delimiter),I.debug("Setting hidden input to delimited value",i,S)),!1===h.fireOnInit&&I.is.initialLoad()?I.verbose("Skipping onadd callback on initial load",h.onAdd):h.onAdd.call(O,e,t,n),I.set.value(i,e,t,n),I.check.maxSelections()):I.debug("Cannot select blank values from multiselect")}},remove:{active:function(){x.removeClass(p.active)},activeLabel:function(){x.find(g.label).removeClass(p.active)},loading:function(){x.removeClass(p.loading)},initialLoad:function(){e=!1},upward:function(e){(e||x).removeClass(p.upward)},visible:function(){x.removeClass(p.visible)},activeItem:function(){_.removeClass(p.active)},filteredItem:function(){h.useLabels&&I.has.maxSelections()||(h.useLabels&&I.is.multiple()?_.not("."+p.active):_).removeClass(p.filtered)},optionValue:function(e){var t=S.find('option[value="'+e+'"]');0<t.length&&t.hasClass(p.addition)&&(r&&(r.disconnect(),I.verbose("Temporarily disconnecting mutation observer",e)),t.remove(),I.verbose("Removing user addition as an <option>",e),r&&r.observe(S[0],{childList:!0,subtree:!0}))},message:function(){E.children(g.message).remove()},searchTerm:function(){I.verbose("Cleared search term"),k.val(""),I.set.filtered()},selected:function(e,t){if(!(t=h.allowAdditions?t||I.get.itemWithAdditions(e):t||I.get.item(e)))return!1;t.each(function(){var e=U(this),t=I.get.choiceText(e),n=I.get.choiceValue(e,t);I.is.multiple()?h.useLabels?(I.remove.value(n,t,e),I.remove.label(n)):(I.remove.value(n,t,e),0===I.get.selectionCount()?I.set.placeholderText():I.set.text(I.add.variables(c.count))):I.remove.value(n,t,e),e.removeClass(p.filtered).removeClass(p.active),h.useLabels&&e.removeClass(p.selected)})},selectedItem:function(){_.removeClass(p.selected)},value:function(e,t,n){var i,o=I.get.values();I.has.selectInput()?(I.verbose("Input is <select> removing selected option",e),i=I.remove.arrayValue(e,o),I.remove.optionValue(e)):(I.verbose("Removing from delimited values",e),i=(i=I.remove.arrayValue(e,o)).join(h.delimiter)),!1===h.fireOnInit&&I.is.initialLoad()?I.verbose("No callback on initial load",h.onRemove):h.onRemove.call(O,e,t,n),I.set.value(i,t,n),I.check.maxSelections()},arrayValue:function(t,e){return U.isArray(e)||(e=[e]),e=U.grep(e,function(e){return t!=e}),I.verbose("Removed value from delimited string",t,e),e},label:function(e,t){e=x.find(g.label).filter('[data-value="'+e+'"]');I.verbose("Removing label",e),e.remove()},activeLabels:function(e){e=e||x.find(g.label).filter("."+p.active),I.verbose("Removing active label selections",e),I.remove.labels(e)},labels:function(e){e=e||x.find(g.label),I.verbose("Removing labels",e),e.each(function(){var e=U(this),t=e.data(m.value),n=t!==Y?String(t):t,i=I.is.userValue(n);!1!==h.onLabelRemove.call(e,t)?i?(I.remove.value(n),I.remove.label(n)):I.remove.selected(n):I.debug("Label remove callback cancelled removal")})},tabbable:function(){I.has.search()?(I.debug("Searchable dropdown initialized"),k.removeAttr("tabindex")):(I.debug("Simple selection dropdown initialized"),x.removeAttr("tabindex")),E.removeAttr("tabindex")}},has:{search:function(){return 0<k.length},selectInput:function(){return S.is("select")},firstLetter:function(e,t){return!(!e||0===e.length||"string"!=typeof t)&&(e=I.get.choiceText(e,!1),(t=t.toLowerCase())==String(e).charAt(0).toLowerCase())},input:function(){return 0<S.length},items:function(){return 0<_.length},menu:function(){return 0<E.length},message:function(){return 0!==E.children(g.message).length},label:function(e){return 0<x.find(g.label).filter('[data-value="'+e+'"]').length},maxSelections:function(){return h.maxSelections&&I.get.selectionCount()>=h.maxSelections},allResultsFiltered:function(){return _.filter(g.unselectable).length===_.length},query:function(){return""!==I.get.query()},value:function(e){var t=I.get.values();return!!(U.isArray(t)?t&&-1!==U.inArray(e,t):t==e)}},is:{active:function(){return x.hasClass(p.active)},alreadySetup:function(){return x.is("select")&&0<x.parent(g.dropdown).length&&0===x.prev().length},animating:function(e){return e?e.transition&&e.transition("is animating"):E.transition&&E.transition("is animating")},disabled:function(){return x.hasClass(p.disabled)},focused:function(){return X.activeElement===x[0]},focusedOnSearch:function(){return X.activeElement===k[0]},allFiltered:function(){return(I.is.multiple()||I.has.search())&&!I.has.message()&&I.has.allResultsFiltered()},hidden:function(e){return!I.is.visible(e)},initialLoad:function(){return e},onScreen:function(e){var t,n=e||E,i=!0;return n.addClass(p.loading),i=(t={above:(e={context:{scrollTop:w.scrollTop(),height:w.outerHeight()},menu:{offset:n.offset(),height:n.outerHeight()}}).context.scrollTop<=e.menu.offset.top-e.menu.height,below:e.context.scrollTop+e.context.height>=e.menu.offset.top+e.menu.height}).below?(I.verbose("Dropdown can fit in context downward",t),!0):t.above?(I.verbose("Dropdown cannot fit below, opening upward",t),!1):(I.verbose("Dropdown cannot fit in either direction, favoring downward",t),!0),n.removeClass(p.loading),i},inObject:function(n,e){var i=!1;return U.each(e,function(e,t){if(t==n)return i=!0}),i},multiple:function(){return x.hasClass(p.multiple)},single:function(){return!I.is.multiple()},selectMutation:function(e){var n=!1;return U.each(e,function(e,t){if(t.target&&U(t.target).is("select"))return n=!0}),n},search:function(){return x.hasClass(p.search)},searchSelection:function(){return I.has.search()&&1===k.parent(g.dropdown).length},selection:function(){return x.hasClass(p.selection)},userValue:function(e){return-1!==U.inArray(e,I.get.userValues())},upward:function(e){return(e||x).hasClass(p.upward)},visible:function(e){return(e||E).hasClass(p.visible)}},can:{activate:function(e){return!!h.useLabels||(!I.has.maxSelections()||!(!I.has.maxSelections()||!e.hasClass(p.active)))},click:function(){return q||"click"==h.on},extendSelect:function(){return h.allowAdditions||h.apiSettings},show:function(){return!I.is.disabled()&&(I.has.items()||I.has.message())},useAPI:function(){return U.fn.api!==Y}},animate:{show:function(e,t){var n=t||E,i=t?function(){}:function(){I.hideSubMenus(),I.hideOthers(),I.set.active()};e=U.isFunction(e)?e:function(){},I.verbose("Doing menu show animation",n),I.set.direction(t),t=I.get.transition(t),I.is.selection()&&I.set.scrollPosition(I.get.selectedItem(),!0),(I.is.hidden(n)||I.is.animating(n))&&("none"==t?(i(),n.transition("show"),e.call(O)):U.fn.transition!==Y&&x.transition("is supported")?n.transition({animation:t+" in",debug:h.debug,verbose:h.verbose,duration:h.duration,queue:!0,onStart:i,onComplete:function(){e.call(O)}}):I.error(u.noTransition,t))},hide:function(e,t){var n=t||E,i=(t?h.duration:h.duration,t?function(){}:function(){I.can.click()&&I.unbind.intent(),I.remove.active()}),o=I.get.transition(t);e=U.isFunction(e)?e:function(){},(I.is.visible(n)||I.is.animating(n))&&(I.verbose("Doing menu hide animation",n),"none"==o?(i(),n.transition("hide"),e.call(O)):U.fn.transition!==Y&&x.transition("is supported")?n.transition({animation:o+" out",duration:h.duration,debug:h.debug,verbose:h.verbose,queue:!0,onStart:i,onComplete:function(){"auto"==h.direction&&I.remove.upward(t),e.call(O)}}):I.error(u.transition))}},hideAndClear:function(){I.remove.searchTerm(),I.has.maxSelections()||(I.has.search()?I.hide(function(){I.remove.filteredItem()}):I.hide())},delay:{show:function(){I.verbose("Delaying show event to ensure user intent"),clearTimeout(I.timer),I.timer=setTimeout(I.show,h.delay.show)},hide:function(){I.verbose("Delaying hide event to ensure user intent"),clearTimeout(I.timer),I.timer=setTimeout(I.hide,h.delay.hide)}},escape:{regExp:function(e){return(e=String(e)).replace(d.escape,"\\$&")}},setting:function(e,t){if(I.debug("Changing setting",e,t),U.isPlainObject(e))U.extend(!0,h,e);else{if(t===Y)return h[e];h[e]=t}},internal:function(e,t){if(U.isPlainObject(e))U.extend(!0,I,e);else{if(t===Y)return I[e];I[e]=t}},debug:function(){h.debug&&(h.performance?I.performance.log(arguments):(I.debug=Function.prototype.bind.call(console.info,console,h.name+":"),I.debug.apply(console,arguments)))},verbose:function(){h.verbose&&h.debug&&(h.performance?I.performance.log(arguments):(I.verbose=Function.prototype.bind.call(console.info,console,h.name+":"),I.verbose.apply(console,arguments)))},error:function(){I.error=Function.prototype.bind.call(console.error,console,h.name+":"),I.error.apply(console,arguments)},performance:{log:function(e){var t,n;h.performance&&(n=(t=(new Date).getTime())-(z||t),z=t,H.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:O,"Execution Time":n})),clearTimeout(I.performance.timer),I.performance.timer=setTimeout(I.performance.display,500)},display:function(){var e=h.name+":",n=0;z=!1,clearTimeout(I.performance.timer),U.each(H,function(e,t){n+=t["Execution Time"]}),e+=" "+n+"ms",F&&(e+=" '"+F+"'"),(console.group!==Y||console.table!==Y)&&0<H.length&&(console.groupCollapsed(e),console.table?console.table(H):U.each(H,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),H=[]}},invoke:function(i,e,t){var o,r,n,s=D;return e=e||V,t=O||t,"string"==typeof i&&s!==Y&&(i=i.split(/[\. ]/),o=i.length-1,U.each(i,function(e,t){var n=e!=o?t+i[e+1].charAt(0).toUpperCase()+i[e+1].slice(1):i;if(U.isPlainObject(s[n])&&e!=o)s=s[n];else{if(s[n]!==Y)return r=s[n],!1;{if(!U.isPlainObject(s[t])||e==o)return s[t]!==Y?r=s[t]:I.error(u.method,i),!1;s=s[t]}}})),U.isFunction(r)?n=r.apply(t,e):r!==Y&&(n=r),U.isArray(R)?R.push(n):R!==Y?R=[R,n]:n!==Y&&(R=n),r}};$?(D===Y&&I.initialize(),I.invoke(B)):(D!==Y&&D.invoke("destroy"),I.initialize())}),R!==Y?R:L},U.fn.dropdown.settings={debug:!1,verbose:!1,performance:!0,on:"click",action:"activate",apiSettings:!1,saveRemoteData:!0,throttle:200,context:W,direction:"auto",keepOnScreen:!0,match:"both",fullTextSearch:!1,placeholder:"auto",preserveHTML:!0,sortSelect:!1,forceSelection:!0,allowAdditions:!1,maxSelections:!1,useLabels:!0,delimiter:",",showOnFocus:!0,allowTab:!0,allowCategorySelection:!1,fireOnInit:!1,transition:"auto",duration:200,glyphWidth:1.0714,label:{transition:"scale",duration:200,variation:!1},delay:{hide:300,show:200,search:20,touch:50},onChange:function(e,t,n){},onAdd:function(e,t,n){},onRemove:function(e,t,n){},onLabelSelect:function(e){},onLabelCreate:function(e,t){return U(this)},onLabelRemove:function(e){return!0},onNoResults:function(e){return!0},onShow:function(){},onHide:function(){},name:"Dropdown",namespace:"dropdown",message:{addResult:"Add <b>{term}</b>",count:"{count} selected",maxSelections:"Max {maxCount} selections",noResults:StrackLang.No_Filter_Project,serverError:"There was an error contacting the server"},error:{action:"You called a dropdown action that was not defined",alreadySetup:"Once a select has been initialized behaviors must be called on the created ui dropdown",labels:"Allowing user additions currently requires the use of labels.",missingMultiple:"<select> requires multiple property to be set to correctly preserve multiple values",method:"The method you called is not defined.",noAPI:"The API module is required to load resources remotely",noStorage:"Saving remote data requires session storage",noTransition:"This module requires ui transitions <https://github.com/Semantic-Org/UI-Transition>"},regExp:{escape:/[-[\]{}()*+?.,\\^$|#\s]/g},metadata:{defaultText:"defaultText",defaultValue:"defaultValue",placeholderText:"placeholder",text:"text",value:"value"},fields:{remoteValues:"results",values:"values",name:"name",value:"value"},keys:{backspace:8,delimiter:188,deleteKey:46,enter:13,escape:27,pageUp:33,pageDown:34,leftArrow:37,upArrow:38,rightArrow:39,downArrow:40},selector:{addition:".addition",dropdown:".ui.dropdown",icon:"> .dropdown.icon",input:'> input[type="hidden"], > select',item:".item",label:"> .label",remove:"> .label > .delete.icon",siblingLabel:".label",menu:".menu",message:".message",menuIcon:".dropdown.icon",search:"input.search, .menu > .search > input",text:"> .text:not(.icon)",unselectable:".disabled, .filtered"},className:{active:"active",addition:"addition",animating:"animating",disabled:"disabled",dropdown:"ui dropdown",filtered:"filtered",hidden:"hidden transition",item:"item",label:"ui label",loading:"loading",menu:"menu",message:"message",multiple:"multiple",placeholder:"default",search:"search",selected:"selected",selection:"selection",upward:"upward",visible:"visible"}},U.fn.dropdown.settings.templates={dropdown:function(e){var t=e.placeholder||!1,n=(e.values,"");return n+='<i class="dropdown icon"></i>',e.placeholder?n+='<div class="default text">'+t+"</div>":n+='<div class="text"></div>',n+='<div class="menu">',U.each(e.values,function(e,t){n+=t.disabled?'<div class="disabled item" data-value="'+t.value+'">'+t.name+"</div>":'<div class="item" data-value="'+t.value+'">'+t.name+"</div>"}),n+="</div>"},menu:function(e,n){var e=e[n.values]||{},i="";return U.each(e,function(e,t){i+='<div class="item" data-value="'+t[n.value]+'">'+t[n.name]+"</div>"}),i},label:function(e,t){return t+'<i class="delete icon"></i>'},message:function(e){return e},addition:function(e){return e}}}(jQuery,window,document),function(S,T,E){"use strict";S.fn.embed=function(m){var g,v=S(this),b=v.selector||"",y=(new Date).getTime(),x=[],w=m,C="string"==typeof w,k=[].slice.call(arguments,1);return v.each(function(){var i=S.isPlainObject(m)?S.extend(!0,{},S.fn.embed.settings,m):S.extend({},S.fn.embed.settings),e=i.selector,t=i.className,o=i.sources,a=i.error,r=i.metadata,n=i.namespace,s=i.templates,l="."+n,c="module-"+n,d=(S(T),S(this)),u=(d.find(e.placeholder),d.find(e.icon),d.find(e.embed)),h=this,p=d.data(c),f={initialize:function(){f.debug("Initializing embed"),f.determine.autoplay(),f.create(),f.bind.events(),f.instantiate()},instantiate:function(){f.verbose("Storing instance of module",f),p=f,d.data(c,f)},destroy:function(){f.verbose("Destroying previous instance of embed"),f.reset(),d.removeData(c).off(l)},refresh:function(){f.verbose("Refreshing selector cache"),d.find(e.placeholder),d.find(e.icon),u=d.find(e.embed)},bind:{events:function(){f.has.placeholder()&&(f.debug("Adding placeholder events"),d.on("click"+l,e.placeholder,f.createAndShow).on("click"+l,e.icon,f.createAndShow))}},create:function(){f.get.placeholder()?f.createPlaceholder():f.createAndShow()},createPlaceholder:function(e){var t=f.get.icon(),n=f.get.url();f.generate.embed(n);e=e||f.get.placeholder(),d.html(s.placeholder(e,t)),f.debug("Creating placeholder for embed",e,t)},createEmbed:function(e){f.refresh(),e=e||f.get.url(),u=S("<div/>").addClass(t.embed).html(f.generate.embed(e)).appendTo(d),i.onCreate.call(h,e),f.debug("Creating embed object",u)},createAndShow:function(){f.createEmbed(),f.show()},change:function(e,t,n){f.debug("Changing video to ",e,t,n),d.data(r.source,e).data(r.id,t).data(r.url,n),f.create()},reset:function(){f.debug("Clearing embed and showing placeholder"),f.remove.active(),f.remove.embed(),f.showPlaceholder(),i.onReset.call(h)},show:function(){f.debug("Showing embed"),f.set.active(),i.onDisplay.call(h)},hide:function(){f.debug("Hiding embed"),f.showPlaceholder()},showPlaceholder:function(){f.debug("Showing placeholder image"),f.remove.active(),i.onPlaceholderDisplay.call(h)},get:{id:function(){return i.id||d.data(r.id)},placeholder:function(){return i.placeholder||d.data(r.placeholder)},icon:function(){return i.icon||(d.data(r.icon)!==E?d.data(r.icon):f.determine.icon())},source:function(e){return i.source||(d.data(r.source)!==E?d.data(r.source):f.determine.source())},type:function(){var e=f.get.source();return o[e]!==E&&o[e].type},url:function(){return i.url||(d.data(r.url)!==E?d.data(r.url):f.determine.url())}},determine:{autoplay:function(){f.should.autoplay()&&(i.autoplay=!0)},source:function(n){var i=!1;return(n=n||f.get.url())&&S.each(o,function(e,t){if(-1!==n.search(t.domain))return i=e,!1}),i},icon:function(){var e=f.get.source();return o[e]!==E&&o[e].icon},url:function(){var e=i.id||d.data(r.id),t=i.source||d.data(r.source),e=o[t]!==E&&o[t].url.replace("{id}",e);return e&&d.data(r.url,e),e}},set:{active:function(){d.addClass(t.active)}},remove:{active:function(){d.removeClass(t.active)},embed:function(){u.empty()}},encode:{parameters:function(e){var t,n=[];for(t in e)n.push(encodeURIComponent(t)+"="+encodeURIComponent(e[t]));return n.join("&amp;")}},generate:{embed:function(e){f.debug("Generating embed html");var t,n=f.get.source();return(e=f.get.url(e))?(t=f.generate.parameters(n),t=s.iframe(e,t)):f.error(a.noURL,d),t},parameters:function(e,t){e=o[e]&&o[e].parameters!==E?o[e].parameters(i):{};return(t=t||i.parameters)&&(e=S.extend({},e,t)),e=i.onEmbed(e),f.encode.parameters(e)}},has:{placeholder:function(){return i.placeholder||d.data(r.placeholder)}},should:{autoplay:function(){return"auto"===i.autoplay?i.placeholder||d.data(r.placeholder)!==E:i.autoplay}},is:{video:function(){return"video"==f.get.type()}},setting:function(e,t){if(f.debug("Changing setting",e,t),S.isPlainObject(e))S.extend(!0,i,e);else{if(t===E)return i[e];i[e]=t}},internal:function(e,t){if(S.isPlainObject(e))S.extend(!0,f,e);else{if(t===E)return f[e];f[e]=t}},debug:function(){i.debug&&(i.performance?f.performance.log(arguments):(f.debug=Function.prototype.bind.call(console.info,console,i.name+":"),f.debug.apply(console,arguments)))},verbose:function(){i.verbose&&i.debug&&(i.performance?f.performance.log(arguments):(f.verbose=Function.prototype.bind.call(console.info,console,i.name+":"),f.verbose.apply(console,arguments)))},error:function(){f.error=Function.prototype.bind.call(console.error,console,i.name+":"),f.error.apply(console,arguments)},performance:{log:function(e){var t,n;i.performance&&(n=(t=(new Date).getTime())-(y||t),y=t,x.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:h,"Execution Time":n})),clearTimeout(f.performance.timer),f.performance.timer=setTimeout(f.performance.display,500)},display:function(){var e=i.name+":",n=0;y=!1,clearTimeout(f.performance.timer),S.each(x,function(e,t){n+=t["Execution Time"]}),e+=" "+n+"ms",b&&(e+=" '"+b+"'"),1<v.length&&(e+=" ("+v.length+")"),(console.group!==E||console.table!==E)&&0<x.length&&(console.groupCollapsed(e),console.table?console.table(x):S.each(x,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),x=[]}},invoke:function(i,e,t){var o,r,n,s=p;return e=e||k,t=h||t,"string"==typeof i&&s!==E&&(i=i.split(/[\. ]/),o=i.length-1,S.each(i,function(e,t){var n=e!=o?t+i[e+1].charAt(0).toUpperCase()+i[e+1].slice(1):i;if(S.isPlainObject(s[n])&&e!=o)s=s[n];else{if(s[n]!==E)return r=s[n],!1;{if(!S.isPlainObject(s[t])||e==o)return s[t]!==E?r=s[t]:f.error(a.method,i),!1;s=s[t]}}})),S.isFunction(r)?n=r.apply(t,e):r!==E&&(n=r),S.isArray(g)?g.push(n):g!==E?g=[g,n]:n!==E&&(g=n),r}};C?(p===E&&f.initialize(),f.invoke(w)):(p!==E&&p.invoke("destroy"),f.initialize())}),g!==E?g:this},S.fn.embed.settings={name:"Embed",namespace:"embed",debug:!1,verbose:!1,performance:!0,icon:!1,source:!1,url:!1,id:!1,autoplay:"auto",color:"#444444",hd:!0,brandedUI:!1,parameters:!1,onDisplay:function(){},onPlaceholderDisplay:function(){},onReset:function(){},onCreate:function(e){},onEmbed:function(e){return e},metadata:{id:"id",icon:"icon",placeholder:"placeholder",source:"source",url:"url"},error:{noURL:"No URL specified",method:"The method you called is not defined"},className:{active:"active",embed:"embed"},selector:{embed:".embed",placeholder:".placeholder",icon:".icon"},sources:{youtube:{name:"youtube",type:"video",icon:"video play",domain:"youtube.com",url:"//www.youtube.com/embed/{id}",parameters:function(e){return{autohide:!e.brandedUI,autoplay:e.autoplay,color:e.colors||E,hq:e.hd,jsapi:e.api,modestbranding:!e.brandedUI}}},vimeo:{name:"vimeo",type:"video",icon:"video play",domain:"vimeo.com",url:"//player.vimeo.com/video/{id}",parameters:function(e){return{api:e.api,autoplay:e.autoplay,byline:e.brandedUI,color:e.colors||E,portrait:e.brandedUI,title:e.brandedUI}}}},templates:{iframe:function(e,t){return'<iframe src="'+e+"?"+t+'" width="100%" height="100%" frameborder="0" scrolling="no" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>'},placeholder:function(e,t){var n="";return t&&(n+='<i class="'+t+' icon"></i>'),e&&(n+='<img class="placeholder" src="'+e+'">'),n}},api:!0,onPause:function(){},onPlay:function(){},onStop:function(){}}}(jQuery,window,void document),function(I,N,R,L){"use strict";I.fn.modal=function(w){var C,e=I(this),k=I(N),S=I(R),T=I("body"),E=e.selector||"",_=(new Date).getTime(),A=[],j=w,P="string"==typeof j,O=[].slice.call(arguments,1),D=N.requestAnimationFrame||N.mozRequestAnimationFrame||N.webkitRequestAnimationFrame||N.msRequestAnimationFrame||function(e){setTimeout(e,0)};return e.each(function(){var n,i,e,t,o,r,s,a,l=I.isPlainObject(w)?I.extend(!0,{},I.fn.modal.settings,w):I.extend({},I.fn.modal.settings),c=l.selector,d=l.className,u=l.namespace,h=l.error,p="."+u,f="module-"+u,m=I(this),g=I(l.context),v=m.find(c.close),b=this,y=m.data(f),x={initialize:function(){x.verbose("Initializing dimmer",g),x.create.id(),x.create.dimmer(),x.refreshModals(),x.bind.events(),l.observeChanges&&x.observeChanges(),x.instantiate()},instantiate:function(){x.verbose("Storing instance of modal"),y=x,m.data(f,y)},create:{dimmer:function(){var e={debug:l.debug,dimmerName:"modals",duration:{show:l.duration,hide:l.duration}},e=I.extend(!0,e,l.dimmerSettings);l.inverted&&(e.variation=e.variation!==L?e.variation+" inverted":"inverted"),I.fn.dimmer!==L?(x.debug("Creating dimmer with settings",e),t=g.dimmer(e),l.detachable?(x.verbose("Modal is detachable, moving content into dimmer"),t.dimmer("add content",m)):x.set.undetached(),l.blurring&&t.addClass(d.blurring),o=t.dimmer("get dimmer")):x.error(h.dimmer)},id:function(){s=(Math.random().toString(16)+"000000000").substr(2,8),r="."+s,x.verbose("Creating unique id for element",s)}},destroy:function(){x.verbose("Destroying previous modal"),m.removeData(f).off(p),k.off(r),v.off(p),g.dimmer("destroy")},observeChanges:function(){"MutationObserver"in N&&((a=new MutationObserver(function(e){x.debug("DOM tree modified, refreshing"),x.refresh()})).observe(b,{childList:!0,subtree:!0}),x.debug("Setting up mutation observer",a))},refresh:function(){x.remove.scrolling(),x.cacheSizes(),x.set.screenHeight(),x.set.type(),x.set.position()},refreshModals:function(){i=m.siblings(c.modal),n=i.add(m)},attachEvents:function(e,t){var n=I(e);t=I.isFunction(x[t])?x[t]:x.toggle,0<n.length?(x.debug("Attaching modal events to element",e,t),n.off(p).on("click"+p,t)):x.error(h.notFound,e)},bind:{events:function(){x.verbose("Attaching events"),m.on("click"+p,c.close,x.event.close).on("click"+p,c.approve,x.event.approve).on("click"+p,c.deny,x.event.deny),k.on("resize"+r,x.event.resize)}},get:{id:function(){return(Math.random().toString(16)+"000000000").substr(2,8)}},event:{approve:function(){!1!==l.onApprove.call(b,I(this))?x.hide():x.verbose("Approve callback returned false cancelling hide")},deny:function(){!1!==l.onDeny.call(b,I(this))?x.hide():x.verbose("Deny callback returned false cancelling hide")},close:function(){x.hide()},click:function(e){var t=0<I(e.target).closest(c.modal).length,e=I.contains(R.documentElement,e.target);!t&&e&&(x.debug("Dimmer clicked, hiding all modals"),x.is.active()&&(x.remove.clickaway(),l.allowMultiple?x.hide():x.hideAll()))},debounce:function(e,t){clearTimeout(x.timer),x.timer=setTimeout(e,t)},keyboard:function(e){27==e.which&&(l.closable?(x.debug("Escape key pressed hiding modal"),x.hide()):x.debug("Escape key pressed, but closable is set to false"),e.preventDefault())},resize:function(){t.dimmer("is active")&&D(x.refresh)}},toggle:function(){x.is.active()||x.is.animating()?x.hide():x.show()},show:function(e){e=I.isFunction(e)?e:function(){},x.refreshModals(),x.showModal(e)},hide:function(e){e=I.isFunction(e)?e:function(){},x.refreshModals(),x.hideModal(e)},showModal:function(e){e=I.isFunction(e)?e:function(){},x.is.animating()||!x.is.active()?(x.showDimmer(),x.cacheSizes(),x.set.position(),x.set.screenHeight(),x.set.type(),x.set.clickaway(),!l.allowMultiple&&x.others.active()?x.hideOthers(x.showModal):(l.onShow.call(b),l.transition&&I.fn.transition!==L&&m.transition("is supported")?(x.debug("Showing modal with css animations"),m.transition({debug:l.debug,animation:l.transition+" in",queue:l.queue,duration:l.duration,useFailSafe:!0,onComplete:function(){l.onVisible.apply(b),x.add.keyboardShortcuts(),x.save.focus(),x.set.active(),l.autofocus&&x.set.autofocus(),e()}})):x.error(h.noTransition))):x.debug("Modal is already visible")},hideModal:function(e,t){e=I.isFunction(e)?e:function(){},x.debug("Hiding modal"),!1!==l.onHide.call(b,I(this))?(x.is.animating()||x.is.active())&&(l.transition&&I.fn.transition!==L&&m.transition("is supported")?(x.remove.active(),m.transition({debug:l.debug,animation:l.transition+" out",queue:l.queue,duration:l.duration,useFailSafe:!0,onStart:function(){x.others.active()||t||x.hideDimmer(),x.remove.keyboardShortcuts()},onComplete:function(){l.onHidden.call(b),x.restore.focus(),e()}})):x.error(h.noTransition)):x.verbose("Hide callback returned false cancelling hide")},showDimmer:function(){t.dimmer("is animating")||!t.dimmer("is active")?(x.debug("Showing dimmer"),t.dimmer("show")):x.debug("Dimmer already visible")},hideDimmer:function(){t.dimmer("is animating")||t.dimmer("is active")?t.dimmer("hide",function(){x.remove.clickaway(),x.remove.screenHeight()}):x.debug("Dimmer is not visible cannot hide")},hideAll:function(e){var t=n.filter("."+d.active+", ."+d.animating);e=I.isFunction(e)?e:function(){},0<t.length&&(x.debug("Hiding all visible modals"),x.hideDimmer(),t.modal("hide modal",e))},hideOthers:function(e){var t=i.filter("."+d.active+", ."+d.animating);e=I.isFunction(e)?e:function(){},0<t.length&&(x.debug("Hiding other modals",i),t.modal("hide modal",e,!0))},others:{active:function(){return 0<i.filter("."+d.active).length},animating:function(){return 0<i.filter("."+d.animating).length}},add:{keyboardShortcuts:function(){x.verbose("Adding keyboard shortcuts"),S.on("keyup"+p,x.event.keyboard)}},save:{focus:function(){e=I(R.activeElement).blur()}},restore:{focus:function(){e&&0<e.length&&e.focus()}},remove:{active:function(){m.removeClass(d.active)},clickaway:function(){l.closable&&o.off("click"+r)},bodyStyle:function(){""===T.attr("style")&&(x.verbose("Removing style attribute"),T.removeAttr("style"))},screenHeight:function(){x.debug("Removing page height"),T.css("height","")},keyboardShortcuts:function(){x.verbose("Removing keyboard shortcuts"),S.off("keyup"+p)},scrolling:function(){t.removeClass(d.scrolling),m.removeClass(d.scrolling)}},cacheSizes:function(){var e=m.outerHeight();x.cache!==L&&0===e||(x.cache={pageHeight:I(R).outerHeight(),height:e+l.offset,contextHeight:("body"==l.context?I(N):t).height()}),x.debug("Caching modal and container sizes",x.cache)},can:{fit:function(){return x.cache.height+2*l.padding<x.cache.contextHeight}},is:{active:function(){return m.hasClass(d.active)},animating:function(){return m.transition("is supported")?m.transition("is animating"):m.is(":visible")},scrolling:function(){return t.hasClass(d.scrolling)},modernBrowser:function(){return!(N.ActiveXObject||"ActiveXObject"in N)}},set:{autofocus:function(){var e=m.find(":input").filter(":visible"),t=e.filter("[autofocus]"),e=(0<t.length?t:e).first();0<e.length&&e.focus()},clickaway:function(){l.closable&&o.on("click"+r,x.event.click)},screenHeight:function(){x.can.fit()?T.css("height",""):(x.debug("Modal is taller than page content, resizing page height"),T.css("height",x.cache.height+2*l.padding))},active:function(){m.addClass(d.active)},scrolling:function(){t.addClass(d.scrolling),m.addClass(d.scrolling)},type:function(){x.can.fit()?(x.verbose("Modal fits on screen"),x.others.active()||x.others.animating()||x.remove.scrolling()):(x.verbose("Modal cannot fit on screen setting to scrolling"),x.set.scrolling())},position:function(){x.verbose("Centering modal on page",x.cache),x.can.fit()?m.css({top:"",marginTop:-x.cache.height/2}):m.css({marginTop:"",top:S.scrollTop()})},undetached:function(){t.addClass(d.undetached)}},setting:function(e,t){if(x.debug("Changing setting",e,t),I.isPlainObject(e))I.extend(!0,l,e);else{if(t===L)return l[e];l[e]=t}},internal:function(e,t){if(I.isPlainObject(e))I.extend(!0,x,e);else{if(t===L)return x[e];x[e]=t}},debug:function(){l.debug&&(l.performance?x.performance.log(arguments):(x.debug=Function.prototype.bind.call(console.info,console,l.name+":"),x.debug.apply(console,arguments)))},verbose:function(){l.verbose&&l.debug&&(l.performance?x.performance.log(arguments):(x.verbose=Function.prototype.bind.call(console.info,console,l.name+":"),x.verbose.apply(console,arguments)))},error:function(){x.error=Function.prototype.bind.call(console.error,console,l.name+":"),x.error.apply(console,arguments)},performance:{log:function(e){var t,n;l.performance&&(n=(t=(new Date).getTime())-(_||t),_=t,A.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:b,"Execution Time":n})),clearTimeout(x.performance.timer),x.performance.timer=setTimeout(x.performance.display,500)},display:function(){var e=l.name+":",n=0;_=!1,clearTimeout(x.performance.timer),I.each(A,function(e,t){n+=t["Execution Time"]}),e+=" "+n+"ms",E&&(e+=" '"+E+"'"),(console.group!==L||console.table!==L)&&0<A.length&&(console.groupCollapsed(e),console.table?console.table(A):I.each(A,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),A=[]}},invoke:function(i,e,t){var o,r,n,s=y;return e=e||O,t=b||t,"string"==typeof i&&s!==L&&(i=i.split(/[\. ]/),o=i.length-1,I.each(i,function(e,t){var n=e!=o?t+i[e+1].charAt(0).toUpperCase()+i[e+1].slice(1):i;if(I.isPlainObject(s[n])&&e!=o)s=s[n];else{if(s[n]!==L)return r=s[n],!1;{if(!I.isPlainObject(s[t])||e==o)return s[t]!==L&&(r=s[t]),!1;s=s[t]}}})),I.isFunction(r)?n=r.apply(t,e):r!==L&&(n=r),I.isArray(C)?C.push(n):C!==L?C=[C,n]:n!==L&&(C=n),r}};P?(y===L&&x.initialize(),x.invoke(j)):(y!==L&&y.invoke("destroy"),x.initialize())}),C!==L?C:this},I.fn.modal.settings={name:"Modal",namespace:"modal",debug:!1,verbose:!1,performance:!0,observeChanges:!1,allowMultiple:!1,detachable:!0,closable:!0,autofocus:!0,inverted:!1,blurring:!1,dimmerSettings:{closable:!1,useCSS:!0},context:"body",queue:!1,duration:500,offset:0,transition:"scale",padding:50,onShow:function(){},onVisible:function(){},onHide:function(){return!0},onHidden:function(){},onApprove:function(){return!0},onDeny:function(){return!0},selector:{close:"> .close",approve:".actions .positive, .actions .approve, .actions .ok",deny:".actions .negative, .actions .deny, .actions .cancel",modal:".ui.modal"},error:{dimmer:"UI Dimmer, a required component is not included in this page",method:"The method you called is not defined.",notFound:"The element you specified could not be found"},className:{active:"active",animating:"animating",blurring:"blurring",scrolling:"scrolling",undetached:"undetached"}}}(jQuery,window,document),function(y,x,w){"use strict";y.fn.nag=function(u){var h,e=y(this),p=e.selector||"",f=(new Date).getTime(),m=[],g=u,v="string"==typeof g,b=[].slice.call(arguments,1);return e.each(function(){var i=y.isPlainObject(u)?y.extend(!0,{},y.fn.nag.settings,u):y.extend({},y.fn.nag.settings),e=(i.className,i.selector),a=i.error,t=i.namespace,n="."+t,o=t+"-module",r=y(this),s=(r.find(e.close),i.context?y(i.context):y("body")),l=this,c=r.data(o),d=(x.requestAnimationFrame||x.mozRequestAnimationFrame||x.webkitRequestAnimationFrame||x.msRequestAnimationFrame,{initialize:function(){d.verbose("Initializing element"),r.on("click"+n,e.close,d.dismiss).data(o,d),i.detachable&&r.parent()[0]!==s[0]&&r.detach().prependTo(s),0<i.displayTime&&setTimeout(d.hide,i.displayTime),d.show()},destroy:function(){d.verbose("Destroying instance"),r.removeData(o).off(n)},show:function(){d.should.show()&&!r.is(":visible")&&(d.debug("Showing nag",i.animation.show),"fade"==i.animation.show?r.fadeIn(i.duration,i.easing):r.slideDown(i.duration,i.easing))},hide:function(){d.debug("Showing nag",i.animation.hide),"fade"==i.animation.show?r.fadeIn(i.duration,i.easing):r.slideUp(i.duration,i.easing)},onHide:function(){d.debug("Removing nag",i.animation.hide),r.remove(),i.onHide&&i.onHide()},dismiss:function(e){i.storageMethod&&d.storage.set(i.key,i.value),d.hide(),e.stopImmediatePropagation(),e.preventDefault()},should:{show:function(){return i.persist?(d.debug("Persistent nag is set, can show nag"),!0):d.storage.get(i.key)!=i.value.toString()?(d.debug("Stored value is not set, can show nag",d.storage.get(i.key)),!0):(d.debug("Stored value is set, cannot show nag",d.storage.get(i.key)),!1)}},get:{storageOptions:function(){var e={};return i.expires&&(e.expires=i.expires),i.domain&&(e.domain=i.domain),i.path&&(e.path=i.path),e}},clear:function(){d.storage.remove(i.key)},storage:{set:function(e,t){var n=d.get.storageOptions();"localstorage"==i.storageMethod&&x.localStorage!==w?(x.localStorage.setItem(e,t),d.debug("Value stored using local storage",e,t)):"sessionstorage"==i.storageMethod&&x.sessionStorage!==w?(x.sessionStorage.setItem(e,t),d.debug("Value stored using session storage",e,t)):y.cookie!==w?(y.cookie(e,t,n),d.debug("Value stored using cookie",e,t,n)):d.error(a.noCookieStorage)},get:function(e,t){var n;return"localstorage"==i.storageMethod&&x.localStorage!==w?n=x.localStorage.getItem(e):"sessionstorage"==i.storageMethod&&x.sessionStorage!==w?n=x.sessionStorage.getItem(e):y.cookie!==w?n=y.cookie(e):d.error(a.noCookieStorage),n="undefined"==n||"null"==n||n===w||null===n?w:n},remove:function(e){var t=d.get.storageOptions();"localstorage"==i.storageMethod&&x.localStorage!==w?x.localStorage.removeItem(e):"sessionstorage"==i.storageMethod&&x.sessionStorage!==w?x.sessionStorage.removeItem(e):y.cookie!==w?y.removeCookie(e,t):d.error(a.noStorage)}},setting:function(e,t){if(d.debug("Changing setting",e,t),y.isPlainObject(e))y.extend(!0,i,e);else{if(t===w)return i[e];i[e]=t}},internal:function(e,t){if(y.isPlainObject(e))y.extend(!0,d,e);else{if(t===w)return d[e];d[e]=t}},debug:function(){i.debug&&(i.performance?d.performance.log(arguments):(d.debug=Function.prototype.bind.call(console.info,console,i.name+":"),d.debug.apply(console,arguments)))},verbose:function(){i.verbose&&i.debug&&(i.performance?d.performance.log(arguments):(d.verbose=Function.prototype.bind.call(console.info,console,i.name+":"),d.verbose.apply(console,arguments)))},error:function(){d.error=Function.prototype.bind.call(console.error,console,i.name+":"),d.error.apply(console,arguments)},performance:{log:function(e){var t,n;i.performance&&(n=(t=(new Date).getTime())-(f||t),f=t,m.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:l,"Execution Time":n})),clearTimeout(d.performance.timer),d.performance.timer=setTimeout(d.performance.display,500)},display:function(){var e=i.name+":",n=0;f=!1,clearTimeout(d.performance.timer),y.each(m,function(e,t){n+=t["Execution Time"]}),e+=" "+n+"ms",p&&(e+=" '"+p+"'"),(console.group!==w||console.table!==w)&&0<m.length&&(console.groupCollapsed(e),console.table?console.table(m):y.each(m,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),m=[]}},invoke:function(i,e,t){var o,r,n,s=c;return e=e||b,t=l||t,"string"==typeof i&&s!==w&&(i=i.split(/[\. ]/),o=i.length-1,y.each(i,function(e,t){var n=e!=o?t+i[e+1].charAt(0).toUpperCase()+i[e+1].slice(1):i;if(y.isPlainObject(s[n])&&e!=o)s=s[n];else{if(s[n]!==w)return r=s[n],!1;{if(!y.isPlainObject(s[t])||e==o)return s[t]!==w?r=s[t]:d.error(a.method,i),!1;s=s[t]}}})),y.isFunction(r)?n=r.apply(t,e):r!==w&&(n=r),y.isArray(h)?h.push(n):h!==w?h=[h,n]:n!==w&&(h=n),r}});v?(c===w&&d.initialize(),d.invoke(g)):(c!==w&&c.invoke("destroy"),d.initialize())}),h!==w?h:this},y.fn.nag.settings={name:"Nag",debug:!1,verbose:!1,performance:!0,namespace:"Nag",persist:!1,displayTime:0,animation:{show:"slide",hide:"slide"},context:!1,detachable:!1,expires:30,domain:!1,path:"/",storageMethod:"cookie",key:"nag",value:"dismiss",error:{noCookieStorage:"$.cookie is not included. A storage solution is required.",noStorage:"Neither $.cookie or store is defined. A storage solution is required for storing state",method:"The method you called is not defined."},className:{bottom:"bottom",fixed:"fixed"},selector:{close:".close.icon"},speed:500,easing:"easeOutQuad",onHide:function(){}}}(jQuery,window,void document),function(D,I,t,N){"use strict";D.fn.popup=function(w){var C,e=D(this),k=D(t),S=D(I),T=D("body"),E=e.selector||"",_=(new Date).getTime(),A=[],j=w,P="string"==typeof j,O=[].slice.call(arguments,1);return e.each(function(){var c,i,e,t,d=D.isPlainObject(w)?D.extend(!0,{},D.fn.popup.settings,w):D.extend({},D.fn.popup.settings),o=d.selector,u=d.className,h=d.error,p=d.metadata,n=d.namespace,r="."+d.namespace,s="module-"+n,f=D(this),a=D(d.context),m=d.target?D(d.target):f,g=0,l=!1,v=!1,b=this,y=f.data(s),x={initialize:function(){x.debug("Initializing",f),x.createID(),x.bind.events(),!x.exists()&&d.preserve&&x.create(),x.instantiate()},instantiate:function(){x.verbose("Storing instance",x),y=x,f.data(s,y)},refresh:function(){d.popup?c=D(d.popup).eq(0):d.inline&&(c=m.nextAll(o.popup).eq(0),d.popup=c),d.popup?(c.addClass(u.loading),i=x.get.offsetParent(),c.removeClass(u.loading),d.movePopup&&x.has.popup()&&x.get.offsetParent(c)[0]!==i[0]&&(x.debug("Moving popup to the same offset parent as activating element"),c.detach().appendTo(i))):i=d.inline?x.get.offsetParent(m):x.has.popup()?x.get.offsetParent(c):T,i.is("html")&&i[0]!==T[0]&&(x.debug("Setting page as offset parent"),i=T),x.get.variation()&&x.set.variation()},reposition:function(){x.refresh(),x.set.position()},destroy:function(){x.debug("Destroying previous module"),c&&!d.preserve&&x.removePopup(),clearTimeout(x.hideTimer),clearTimeout(x.showTimer),S.off(e),f.off(r).removeData(s)},event:{start:function(e){var t=D.isPlainObject(d.delay)?d.delay.show:d.delay;clearTimeout(x.hideTimer),v||(x.showTimer=setTimeout(x.show,t))},end:function(){var e=D.isPlainObject(d.delay)?d.delay.hide:d.delay;clearTimeout(x.showTimer),x.hideTimer=setTimeout(x.hide,e)},touchstart:function(e){v=!0,x.show()},resize:function(){x.is.visible()&&x.set.position()},hideGracefully:function(e){e&&0===D(e.target).closest(o.popup).length?(x.debug("Click occurred outside popup hiding popup"),x.hide()):x.debug("Click was inside popup, keeping popup open")}},create:function(){var e=x.get.html(),t=x.get.title(),n=x.get.content();e||n||t?(x.debug("Creating pop-up html"),e=e||d.templates.popup({title:t,content:n}),c=D("<div/>").addClass(u.popup).data(p.activator,f).html(e),d.inline?(x.verbose("Inserting popup element inline",c),c.insertAfter(f)):(x.verbose("Appending popup element to body",c),c.appendTo(a)),x.refresh(),x.set.variation(),d.hoverable&&x.bind.popup(),d.onCreate.call(c,b)):0!==m.next(o.popup).length?(x.verbose("Pre-existing popup found"),d.inline=!0,d.popups=m.next(o.popup).data(p.activator,f),x.refresh(),d.hoverable&&x.bind.popup()):d.popup?(D(d.popup).data(p.activator,f),x.verbose("Used popup specified in settings"),x.refresh(),d.hoverable&&x.bind.popup()):x.debug("No content specified skipping display",b)},createID:function(){t=(Math.random().toString(16)+"000000000").substr(2,8),e="."+t,x.verbose("Creating unique id for element",t)},toggle:function(){x.debug("Toggling pop-up"),x.is.hidden()?(x.debug("Popup is hidden, showing pop-up"),x.unbind.close(),x.show()):(x.debug("Popup is visible, hiding pop-up"),x.hide())},show:function(e){e=e||function(){},x.debug("Showing pop-up",d.transition),!x.is.hidden()||x.is.active()&&x.is.dropdown()||(x.exists()||x.create(),!1!==d.onShow.call(c,b)?(d.preserve||d.popup||x.refresh(),c&&x.set.position()&&(x.save.conditions(),d.exclusive&&x.hideAll(),x.animate.show(e))):x.debug("onShow callback returned false, cancelling popup animation"))},hide:function(e){e=e||function(){},(x.is.visible()||x.is.animating())&&(!1!==d.onHide.call(c,b)?(x.remove.visible(),x.unbind.close(),x.restore.conditions(),x.animate.hide(e)):x.debug("onHide callback returned false, cancelling popup animation"))},hideAll:function(){D(o.popup).filter("."+u.visible).each(function(){D(this).data(p.activator).popup("hide")})},exists:function(){return!!c&&(d.inline||d.popup?x.has.popup():1<=c.closest(a).length)},removePopup:function(){x.has.popup()&&!d.popup&&(x.debug("Removing popup",c),c.remove(),c=N,d.onRemove.call(c,b))},save:{conditions:function(){x.cache={title:f.attr("title")},x.cache.title&&f.removeAttr("title"),x.verbose("Saving original attributes",x.cache.title)}},restore:{conditions:function(){return x.cache&&x.cache.title&&(f.attr("title",x.cache.title),x.verbose("Restoring original attributes",x.cache.title)),!0}},animate:{show:function(e){e=D.isFunction(e)?e:function(){},d.transition&&D.fn.transition!==N&&f.transition("is supported")?(x.set.visible(),c.transition({animation:d.transition+" in",queue:!1,debug:d.debug,verbose:d.verbose,duration:d.duration,onComplete:function(){x.bind.close(),e.call(c,b),d.onVisible.call(c,b)}})):x.error(h.noTransition)},hide:function(e){e=D.isFunction(e)?e:function(){},x.debug("Hiding pop-up"),!1!==d.onHide.call(c,b)?d.transition&&D.fn.transition!==N&&f.transition("is supported")?c.transition({animation:d.transition+" out",queue:!1,duration:d.duration,debug:d.debug,verbose:d.verbose,onComplete:function(){x.reset(),e.call(c,b),d.onHidden.call(c,b)}}):x.error(h.noTransition):x.debug("onHide callback returned false, cancelling popup animation")}},change:{content:function(e){c.html(e)}},get:{html:function(){return f.removeData(p.html),f.data(p.html)||d.html},title:function(){return f.removeData(p.title),f.data(p.title)||d.title},content:function(){return f.removeData(p.content),f.data(p.content)||f.attr("title")||d.content},variation:function(){return f.removeData(p.variation),f.data(p.variation)||d.variation},popup:function(){return c},popupOffset:function(){return c.offset()},calculations:function(){var e=m[0],t=d.inline||d.popup&&d.movePopup?m.position():m.offset(),n={},n={target:{element:m[0],width:m.outerWidth(),height:m.outerHeight(),top:t.top,left:t.left,margin:{}},popup:{width:c.outerWidth(),height:c.outerHeight()},parent:{width:i.outerWidth(),height:i.outerHeight()},screen:{scroll:{top:S.scrollTop(),left:S.scrollLeft()},width:S.width(),height:S.height()}};return d.setFluidWidth&&x.is.fluid()&&(n.container={width:c.parent().outerWidth()},n.popup.width=n.container.width),n.target.margin.top=d.inline?parseInt(I.getComputedStyle(e).getPropertyValue("margin-top"),10):0,n.target.margin.left=d.inline?x.is.rtl()?parseInt(I.getComputedStyle(e).getPropertyValue("margin-right"),10):parseInt(I.getComputedStyle(e).getPropertyValue("margin-left"),10):0,e=n.screen,n.boundary={top:e.scroll.top,bottom:e.scroll.top+e.height,left:e.scroll.left,right:e.scroll.left+e.width},n},id:function(){return t},startEvent:function(){return"hover"==d.on?"mouseenter":"focus"==d.on&&"focus"},scrollEvent:function(){return"scroll"},endEvent:function(){return"hover"==d.on?"mouseleave":"focus"==d.on&&"blur"},distanceFromBoundary:function(e,t){var n,i={};return e=e||x.get.offset(),n=(t=t||x.get.calculations()).popup,t=t.boundary,e&&(i={top:e.top-t.top,left:e.left-t.left,right:t.right-(e.left+n.width),bottom:t.bottom-(e.top+n.height)},x.verbose("Distance from boundaries determined",e,i)),i},offsetParent:function(e){var t=(e!==N?e:f)[0].parentNode,n=D(t);if(t)for(var i="none"===n.css("transform"),o="static"===n.css("position"),r=n.is("html");t&&!r&&o&&i;)t=t.parentNode,i="none"===(n=D(t)).css("transform"),o="static"===n.css("position"),r=n.is("html");return n&&0<n.length?n:D()},positions:function(){return{"top left":!1,"top center":!1,"top right":!1,"bottom left":!1,"bottom center":!1,"bottom right":!1,"left center":!1,"right center":!1}},nextPosition:function(e){var t=e.split(" "),n=t[0],i=t[1],o="top"==n||"bottom"==n,r=!1,s=!1,t=!1;return l||(x.verbose("All available positions available"),l=x.get.positions()),x.debug("Recording last position tried",e),l[e]=!0,"opposite"===d.prefer&&(t=(t=[{top:"bottom",bottom:"top",left:"right",right:"left"}[n],i]).join(" "),r=!0===l[t],x.debug("Trying opposite strategy",t)),"adjacent"===d.prefer&&o&&(t=(t=[n,{left:"center",center:"right",right:"left"}[i]]).join(" "),s=!0===l[t],x.debug("Trying adjacent strategy",t)),(s||r)&&(x.debug("Using backup position",t),t={"top left":"top center","top center":"top right","top right":"right center","right center":"bottom right","bottom right":"bottom center","bottom center":"bottom left","bottom left":"left center","left center":"top left"}[e]),t}},set:{position:function(e,t){if(0!==m.length&&0!==c.length){var n,i,o,r,s,a,l;if(t=t||x.get.calculations(),e=e||f.data(p.position)||d.position,n=f.data(p.offset)||d.offset,i=d.distanceAway,o=t.target,r=t.popup,s=t.parent,0===o.width&&0===o.height&&!(o.element instanceof SVGGraphicsElement))return x.debug("Popup target is hidden, no action taken"),!1;switch(d.inline&&(x.debug("Adding margin to calculation",o.margin),"left center"==e||"right center"==e?(n+=o.margin.top,i+=-o.margin.left):"top left"==e||"top center"==e||"top right"==e?(n+=o.margin.left,i-=o.margin.top):(n+=o.margin.left,i+=o.margin.top)),x.debug("Determining popup position from calculations",e,t),x.is.rtl()&&(e=e.replace(/left|right/g,function(e){return"left"==e?"right":"left"}),x.debug("RTL: Popup position updated",e)),e=g==d.maxSearchDepth&&"string"==typeof d.lastResort?d.lastResort:e){case"top left":a={top:"auto",bottom:s.height-o.top+i,left:o.left+n,right:"auto"};break;case"top center":a={bottom:s.height-o.top+i,left:o.left+o.width/2-r.width/2+n,top:"auto",right:"auto"};break;case"top right":a={bottom:s.height-o.top+i,right:s.width-o.left-o.width-n,top:"auto",left:"auto"};break;case"left center":a={top:o.top+o.height/2-r.height/2+n,right:s.width-o.left+i,left:"auto",bottom:"auto"};break;case"right center":a={top:o.top+o.height/2-r.height/2+n,left:o.left+o.width+i,bottom:"auto",right:"auto"};break;case"bottom left":a={top:o.top+o.height+i,left:o.left+n,bottom:"auto",right:"auto"};break;case"bottom center":a={top:o.top+o.height+i,left:o.left+o.width/2-r.width/2+n,bottom:"auto",right:"auto"};break;case"bottom right":a={top:o.top+o.height+i,right:s.width-o.left-o.width-n,left:"auto",bottom:"auto"}}if(a===N&&x.error(h.invalidPosition,e),x.debug("Calculated popup positioning values",a),c.css(a).removeClass(u.position).addClass(e).addClass(u.loading),l=x.get.popupOffset(),l=x.get.distanceFromBoundary(l,t),x.is.offstage(l,e)){if(x.debug("Position is outside viewport",e),g<d.maxSearchDepth)return g++,e=x.get.nextPosition(e),x.debug("Trying new position",e),!!c&&x.set.position(e,t);if(!d.lastResort)return x.debug("Popup could not find a position to display",c),x.error(h.cannotPlace,b),x.remove.attempts(),x.remove.loading(),x.reset(),!1;x.debug("No position found, showing with last position")}return x.debug("Position is on stage",e),x.remove.attempts(),x.remove.loading(),d.setFluidWidth&&x.is.fluid()&&x.set.fluidWidth(t),!0}x.error(h.notFound)},fluidWidth:function(e){e=e||x.get.calculations(),x.debug("Automatically setting element width to parent width",e.parent.width),c.css("width",e.container.width)},variation:function(e){(e=e||x.get.variation())&&x.has.popup()&&(x.verbose("Adding variation to popup",e),c.addClass(e))},visible:function(){f.addClass(u.visible)}},remove:{loading:function(){c.removeClass(u.loading)},variation:function(e){(e=e||x.get.variation())&&(x.verbose("Removing variation",e),c.removeClass(e))},visible:function(){f.removeClass(u.visible)},attempts:function(){x.verbose("Resetting all searched positions"),g=0,l=!1}},bind:{events:function(){x.debug("Binding popup events to module"),"click"==d.on&&f.on("click"+r,x.toggle),"hover"==d.on&&f.on("touchstart"+r,x.event.touchstart),x.get.startEvent()&&f.on(x.get.startEvent()+r,x.event.start).on(x.get.endEvent()+r,x.event.end),d.target&&x.debug("Target set to element",m),S.on("resize"+e,x.event.resize)},popup:function(){x.verbose("Allowing hover events on popup to prevent closing"),c&&x.has.popup()&&c.on("mouseenter"+r,x.event.start).on("mouseleave"+r,x.event.end)},close:function(){(!0===d.hideOnScroll||"auto"==d.hideOnScroll&&"click"!=d.on)&&(k.one(x.get.scrollEvent()+e,x.event.hideGracefully),a.one(x.get.scrollEvent()+e,x.event.hideGracefully)),"hover"==d.on&&v&&(x.verbose("Binding popup close event to document"),k.on("touchstart"+e,function(e){x.verbose("Touched away from popup"),x.event.hideGracefully.call(b,e)})),"click"==d.on&&d.closable&&(x.verbose("Binding popup close event to document"),k.on("click"+e,function(e){x.verbose("Clicked away from popup"),x.event.hideGracefully.call(b,e)}))}},unbind:{close:function(){(!0===d.hideOnScroll||"auto"==d.hideOnScroll&&"click"!=d.on)&&(k.off("scroll"+e,x.hide),a.off("scroll"+e,x.hide)),"hover"==d.on&&v&&(k.off("touchstart"+e),v=!1),"click"==d.on&&d.closable&&(x.verbose("Removing close event from document"),k.off("click"+e))}},has:{popup:function(){return c&&0<c.length}},is:{offstage:function(e,n){var i=[];return D.each(e,function(e,t){t<-d.jitter&&(x.debug("Position exceeds allowable distance from edge",e,t,n),i.push(e))}),0<i.length},active:function(){return f.hasClass(u.active)},animating:function(){return c&&c.hasClass(u.animating)},fluid:function(){return c&&c.hasClass(u.fluid)},visible:function(){return c&&c.hasClass(u.visible)},dropdown:function(){return f.hasClass(u.dropdown)},hidden:function(){return!x.is.visible()},rtl:function(){return"rtl"==f.css("direction")}},reset:function(){x.remove.visible(),d.preserve?D.fn.transition!==N&&c.transition("remove transition"):x.removePopup()},setting:function(e,t){if(D.isPlainObject(e))D.extend(!0,d,e);else{if(t===N)return d[e];d[e]=t}},internal:function(e,t){if(D.isPlainObject(e))D.extend(!0,x,e);else{if(t===N)return x[e];x[e]=t}},debug:function(){d.debug&&(d.performance?x.performance.log(arguments):(x.debug=Function.prototype.bind.call(console.info,console,d.name+":"),x.debug.apply(console,arguments)))},verbose:function(){d.verbose&&d.debug&&(d.performance?x.performance.log(arguments):(x.verbose=Function.prototype.bind.call(console.info,console,d.name+":"),x.verbose.apply(console,arguments)))},error:function(){x.error=Function.prototype.bind.call(console.error,console,d.name+":"),x.error.apply(console,arguments)},performance:{log:function(e){var t,n;d.performance&&(n=(t=(new Date).getTime())-(_||t),_=t,A.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:b,"Execution Time":n})),clearTimeout(x.performance.timer),x.performance.timer=setTimeout(x.performance.display,500)},display:function(){var e=d.name+":",n=0;_=!1,clearTimeout(x.performance.timer),D.each(A,function(e,t){n+=t["Execution Time"]}),e+=" "+n+"ms",E&&(e+=" '"+E+"'"),(console.group!==N||console.table!==N)&&0<A.length&&(console.groupCollapsed(e),console.table?console.table(A):D.each(A,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),A=[]}},invoke:function(i,e,t){var o,r,n,s=y;return e=e||O,t=b||t,"string"==typeof i&&s!==N&&(i=i.split(/[\. ]/),o=i.length-1,D.each(i,function(e,t){var n=e!=o?t+i[e+1].charAt(0).toUpperCase()+i[e+1].slice(1):i;if(D.isPlainObject(s[n])&&e!=o)s=s[n];else{if(s[n]!==N)return r=s[n],!1;{if(!D.isPlainObject(s[t])||e==o)return s[t]!==N&&(r=s[t]),!1;s=s[t]}}})),D.isFunction(r)?n=r.apply(t,e):r!==N&&(n=r),D.isArray(C)?C.push(n):C!==N?C=[C,n]:n!==N&&(C=n),r}};P?(y===N&&x.initialize(),x.invoke(j)):(y!==N&&y.invoke("destroy"),x.initialize())}),C!==N?C:this},D.fn.popup.settings={name:"Popup",debug:!1,verbose:!1,performance:!0,namespace:"popup",onCreate:function(){},onRemove:function(){},onShow:function(){},onVisible:function(){},onHide:function(){},onHidden:function(){},on:"hover",addTouchEvents:!0,position:"top left",variation:"",movePopup:!0,target:!1,popup:!1,inline:!1,preserve:!1,hoverable:!1,content:!1,html:!1,title:!1,closable:!0,hideOnScroll:"auto",exclusive:!1,context:"body",prefer:"opposite",lastResort:!1,delay:{show:50,hide:70},setFluidWidth:!0,duration:200,transition:"scale",distanceAway:0,jitter:2,offset:0,maxSearchDepth:15,error:{invalidPosition:"The position you specified is not a valid position",cannotPlace:"Popup does not fit within the boundaries of the viewport",method:"The method you called is not defined.",noTransition:"This module requires ui transitions <https://github.com/Semantic-Org/UI-Transition>",notFound:"The target or popup you specified does not exist on the page"},metadata:{activator:"activator",content:"content",html:"html",offset:"offset",position:"position",title:"title",variation:"variation"},className:{active:"active",animating:"animating",dropdown:"dropdown",fluid:"fluid",loading:"loading",popup:"ui popup",position:"top left center bottom right",visible:"visible"},selector:{popup:".ui.popup"},templates:{escape:function(e){var t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"};return/[&<>"'`]/.test(e)?e.replace(/[&<>"'`]/g,function(e){return t[e]}):e},popup:function(e){var t="",n=D.fn.popup.settings.templates.escape;return typeof e!==N&&(typeof e.title!==N&&e.title&&(e.title=n(e.title),t+='<div class="header">'+e.title+"</div>"),typeof e.content!==N&&e.content&&(e.content=n(e.content),t+='<div class="content">'+e.content+"</div>")),t}}}}(jQuery,window,document),function(T,E,_){"use strict";T.fn.progress=function(v){var b,e=T(this),y=e.selector||"",x=(new Date).getTime(),w=[],C=v,k="string"==typeof C,S=[].slice.call(arguments,1);return e.each(function(){var t,i=T.isPlainObject(v)?T.extend(!0,{},T.fn.progress.settings,v):T.extend({},T.fn.progress.settings),n=i.className,o=i.metadata,e=i.namespace,r=i.selector,a=i.error,s="."+e,l="module-"+e,c=T(this),d=T(this).find(r.bar),u=T(this).find(r.progress),h=T(this).find(r.label),p=this,f=c.data(l),m=!1,g={initialize:function(){g.debug("Initializing progress bar",i),g.set.duration(),g.set.transitionEvent(),g.read.metadata(),g.read.settings(),g.instantiate()},instantiate:function(){g.verbose("Storing instance of progress",g),f=g,c.data(l,g)},destroy:function(){g.verbose("Destroying previous progress for",c),clearInterval(f.interval),g.remove.state(),c.removeData(l),f=_},reset:function(){g.set.percent(0),g.set.value(0)},complete:function(){(g.percent===_||g.percent<100)&&g.set.percent(100)},read:{metadata:function(){var e={percent:c.data(o.percent),total:c.data(o.total),value:c.data(o.value)};e.percent&&(g.debug("Current percent value set from metadata",e.percent),g.set.percent(e.percent)),e.total&&(g.debug("Total value set from metadata",e.total),g.set.total(e.total)),e.value&&(g.debug("Current value set from metadata",e.value),g.set.value(e.value),g.set.progress(e.value))},settings:function(){!1!==i.total&&(g.debug("Current total set in settings",i.total),g.set.total(i.total)),!1!==i.value&&(g.debug("Current value set in settings",i.value),g.set.value(i.value),g.set.progress(g.value)),!1!==i.percent&&(g.debug("Current percent set in settings",i.percent),g.set.percent(i.percent))}},increment:function(e){var t,n,i;g.has.total()?(i=(n=g.get.value())+(e=e||1),t=g.get.total(),g.debug("Incrementing value",n,i,t),t<i&&(g.debug("Value cannot increment above total",t),i=t)):(n=g.get.percent(),e=e||g.get.randomValue(),t=100,g.debug("Incrementing percentage by",n,i=n+e),t<i&&(g.debug("Value cannot increment above 100 percent"),i=t)),g.set.progress(i)},decrement:function(e){var t,n;g.get.total()?(n=(t=g.get.value())-(e=e||1),g.debug("Decrementing value by",e,t)):(n=(t=g.get.percent())-(e=e||g.get.randomValue()),g.debug("Decrementing percentage by",e,t)),n<0&&(g.debug("Value cannot decrement below 0"),n=0),g.set.progress(n)},has:{total:function(){return!1!==g.get.total()}},get:{text:function(e){var t=g.value||0,n=g.total||0,i=m?g.get.displayPercent():g.percent||0,o=0<g.total?n-t:100-i;return e=(e=e||"").replace("{value}",t).replace("{total}",n).replace("{left}",o).replace("{percent}",i),g.debug("Adding variables to progress bar text",e),e},randomValue:function(){return g.debug("Generating random increment percentage"),Math.floor(Math.random()*i.random.max+i.random.min)},numericValue:function(e){return"string"==typeof e?""!==e.replace(/[^\d.]/g,"")&&+e.replace(/[^\d.]/g,""):e},transitionEnd:function(){var e,t=E.createElement("element"),n={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(e in n)if(t.style[e]!==_)return n[e]},displayPercent:function(){var e=d.width(),t=c.width(),t=parseInt(d.css("min-width"),10)<e?e/t*100:g.percent;return 0<i.precision?Math.round(t*(10*i.precision))/(10*i.precision):Math.round(t)},percent:function(){return g.percent||0},value:function(){return g.value||0},total:function(){return g.total||!1}},is:{success:function(){return c.hasClass(n.success)},warning:function(){return c.hasClass(n.warning)},error:function(){return c.hasClass(n.error)},active:function(){return c.hasClass(n.active)},visible:function(){return c.is(":visible")}},remove:{state:function(){g.verbose("Removing stored state"),delete g.total,delete g.percent,delete g.value},active:function(){g.verbose("Removing active state"),c.removeClass(n.active)},success:function(){g.verbose("Removing success state"),c.removeClass(n.success)},warning:function(){g.verbose("Removing warning state"),c.removeClass(n.warning)},error:function(){g.verbose("Removing error state"),c.removeClass(n.error)}},set:{barWidth:function(e){100<e?g.error(a.tooHigh,e):e<0?g.error(a.tooLow,e):(d.css("width",e+"%"),c.attr("data-percent",parseInt(e,10)))},duration:function(e){e=e||i.duration,g.verbose("Setting progress bar transition duration",e="number"==typeof e?e+"ms":e),d.css({"transition-duration":e})},percent:function(e){e="string"==typeof e?+e.replace("%",""):e,e=0<i.precision?Math.round(e*(10*i.precision))/(10*i.precision):Math.round(e),g.percent=e,g.has.total()||(g.value=0<i.precision?Math.round(e/100*g.total*(10*i.precision))/(10*i.precision):Math.round(e/100*g.total*10)/10,i.limitValues&&(g.value=100<g.value?100:g.value<0?0:g.value)),g.set.barWidth(e),g.set.labelInterval(),g.set.labels(),i.onChange.call(p,e,g.value,g.total)},labelInterval:function(){function e(){g.verbose("Bar finished animating, removing continuous label updates"),clearInterval(g.interval),m=!1,g.set.labels()}clearInterval(g.interval),d.one(t+s,e),g.timer=setTimeout(e,i.duration+100),m=!0,g.interval=setInterval(g.set.labels,i.framerate)},labels:function(){g.verbose("Setting both bar progress and outer label text"),g.set.barLabel(),g.set.state()},label:function(e){(e=e||"")&&(e=g.get.text(e),g.debug("Setting label to text",e),h.text(e))},state:function(e){100===(e=e!==_?e:g.percent)?!i.autoSuccess||g.is.warning()||g.is.error()?(g.verbose("Reached 100% removing active state"),g.remove.active()):(g.set.success(),g.debug("Automatically triggering success at 100%")):0<e?(g.verbose("Adjusting active progress bar label",e),g.set.active()):(g.remove.active(),g.set.label(i.text.active))},barLabel:function(e){e!==_?u.text(g.get.text(e)):"ratio"==i.label&&g.total?(g.debug("Adding ratio to bar label"),u.text(g.get.text(i.text.ratio))):"percent"==i.label&&(g.debug("Adding percentage to bar label"),u.text(g.get.text(i.text.percent)))},active:function(e){e=e||i.text.active,g.debug("Setting active state"),i.showActivity&&!g.is.active()&&c.addClass(n.active),g.remove.warning(),g.remove.error(),g.remove.success(),e&&g.set.label(e),i.onActive.call(p,g.value,g.total)},success:function(e){e=e||i.text.success,g.debug("Setting success state"),c.addClass(n.success),g.remove.active(),g.remove.warning(),g.remove.error(),g.complete(),e&&g.set.label(e),i.onSuccess.call(p,g.total)},warning:function(e){e=e||i.text.warning,g.debug("Setting warning state"),c.addClass(n.warning),g.remove.active(),g.remove.success(),g.remove.error(),g.complete(),e&&g.set.label(e),i.onWarning.call(p,g.value,g.total)},error:function(e){e=e||i.text.error,g.debug("Setting error state"),c.addClass(n.error),g.remove.active(),g.remove.success(),g.remove.warning(),g.complete(),e&&g.set.label(e),i.onError.call(p,g.value,g.total)},transitionEvent:function(){t=g.get.transitionEnd()},total:function(e){g.total=e},value:function(e){g.value=e},progress:function(e){var t,n=g.get.numericValue(e);!1===n&&g.error(a.nonNumeric,e),g.has.total()?(g.set.value(n),t=n/g.total*100,g.debug("Calculating percent complete from total",t)):g.debug("Setting value to exact percentage value",t=n),g.set.percent(t)}},setting:function(e,t){if(g.debug("Changing setting",e,t),T.isPlainObject(e))T.extend(!0,i,e);else{if(t===_)return i[e];i[e]=t}},internal:function(e,t){if(T.isPlainObject(e))T.extend(!0,g,e);else{if(t===_)return g[e];g[e]=t}},debug:function(){i.debug&&(i.performance?g.performance.log(arguments):(g.debug=Function.prototype.bind.call(console.info,console,i.name+":"),g.debug.apply(console,arguments)))},verbose:function(){i.verbose&&i.debug&&(i.performance?g.performance.log(arguments):(g.verbose=Function.prototype.bind.call(console.info,console,i.name+":"),g.verbose.apply(console,arguments)))},error:function(){g.error=Function.prototype.bind.call(console.error,console,i.name+":"),g.error.apply(console,arguments)},performance:{log:function(e){var t,n;i.performance&&(n=(t=(new Date).getTime())-(x||t),x=t,w.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:p,"Execution Time":n})),clearTimeout(g.performance.timer),g.performance.timer=setTimeout(g.performance.display,500)},display:function(){var e=i.name+":",n=0;x=!1,clearTimeout(g.performance.timer),T.each(w,function(e,t){n+=t["Execution Time"]}),e+=" "+n+"ms",y&&(e+=" '"+y+"'"),(console.group!==_||console.table!==_)&&0<w.length&&(console.groupCollapsed(e),console.table?console.table(w):T.each(w,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),w=[]}},invoke:function(i,e,t){var o,r,n,s=f;return e=e||S,t=p||t,"string"==typeof i&&s!==_&&(i=i.split(/[\. ]/),o=i.length-1,T.each(i,function(e,t){var n=e!=o?t+i[e+1].charAt(0).toUpperCase()+i[e+1].slice(1):i;if(T.isPlainObject(s[n])&&e!=o)s=s[n];else{if(s[n]!==_)return r=s[n],!1;{if(!T.isPlainObject(s[t])||e==o)return s[t]!==_?r=s[t]:g.error(a.method,i),!1;s=s[t]}}})),T.isFunction(r)?n=r.apply(t,e):r!==_&&(n=r),T.isArray(b)?b.push(n):b!==_?b=[b,n]:n!==_&&(b=n),r}};k?(f===_&&g.initialize(),g.invoke(C)):(f!==_&&f.invoke("destroy"),g.initialize())}),b!==_?b:this},T.fn.progress.settings={name:"Progress",namespace:"progress",debug:!1,verbose:!1,performance:!0,random:{min:2,max:5},duration:300,autoSuccess:!0,showActivity:!0,limitValues:!0,label:"percent",precision:0,framerate:1e3/30,percent:!1,total:!1,value:!1,onChange:function(e,t,n){},onSuccess:function(e){},onActive:function(e,t){},onError:function(e,t){},onWarning:function(e,t){},error:{method:"The method you called is not defined.",nonNumeric:"Progress value is non numeric",tooHigh:"Value specified is above 100%",tooLow:"Value specified is below 0%"},regExp:{variable:/\{\$*[A-z0-9]+\}/g},metadata:{percent:"percent",total:"total",value:"value"},selector:{bar:"> .bar",label:"> .label",progress:".bar > .progress"},text:{active:!1,error:!1,success:!1,warning:!1,percent:"{percent}%",ratio:"{value} of {total}"},className:{active:"active",error:"error",success:"success",warning:"warning"}}}(jQuery,(window,document)),function(w,C){"use strict";w.fn.rating=function(h){var p,f=w(this),m=f.selector||"",g=(new Date).getTime(),v=[],b=h,y="string"==typeof b,x=[].slice.call(arguments,1);return f.each(function(){var i=w.isPlainObject(h)?w.extend(!0,{},w.fn.rating.settings,h):w.extend({},w.fn.rating.settings),e=i.namespace,n=i.className,t=i.metadata,o=i.selector,r=(i.error,"."+e),s="module-"+e,a=this,l=w(this).data(s),c=w(this),d=c.find(o.icon),u={initialize:function(){u.verbose("Initializing rating module",i),0===d.length&&u.setup.layout(),i.interactive?u.enable():u.disable(),u.set.rating(u.get.initialRating()),u.instantiate()},instantiate:function(){u.verbose("Instantiating module",i),l=u,c.data(s,u)},destroy:function(){u.verbose("Destroying previous instance",l),u.remove.events(),c.removeData(s)},refresh:function(){d=c.find(o.icon)},setup:{layout:function(){var e=u.get.maxRating(),e=w.fn.rating.settings.templates.icon(e);u.debug("Generating icon html dynamically"),c.html(e),u.refresh()}},event:{mouseenter:function(){var e=w(this);e.nextAll().removeClass(n.selected),c.addClass(n.selected),e.addClass(n.selected).prevAll().addClass(n.selected)},mouseleave:function(){c.removeClass(n.selected),d.removeClass(n.selected)},click:function(){var e=w(this),t=u.get.rating(),e=d.index(e)+1;("auto"==i.clearable?1===d.length:i.clearable)&&t==e?u.clearRating():u.set.rating(e)}},clearRating:function(){u.debug("Clearing current rating"),u.set.rating(0)},bind:{events:function(){u.verbose("Binding events"),c.on("mouseenter"+r,o.icon,u.event.mouseenter).on("mouseleave"+r,o.icon,u.event.mouseleave).on("click"+r,o.icon,u.event.click)}},remove:{events:function(){u.verbose("Removing events"),c.off(r)}},enable:function(){u.debug("Setting rating to interactive mode"),u.bind.events(),c.removeClass(n.disabled)},disable:function(){u.debug("Setting rating to read-only mode"),u.remove.events(),c.addClass(n.disabled)},get:{initialRating:function(){return c.data(t.rating)!==C?(c.removeData(t.rating),c.data(t.rating)):i.initialRating},maxRating:function(){return c.data(t.maxRating)!==C?(c.removeData(t.maxRating),c.data(t.maxRating)):i.maxRating},rating:function(){var e=d.filter("."+n.active).length;return u.verbose("Current rating retrieved",e),e}},set:{rating:function(e){var t=d.eq(0<=e-1?e-1:0);c.removeClass(n.selected),d.removeClass(n.selected).removeClass(n.active),0<e&&(u.verbose("Setting current rating to",e),t.prevAll().andSelf().addClass(n.active)),i.onRate.call(a,e)}},setting:function(e,t){if(u.debug("Changing setting",e,t),w.isPlainObject(e))w.extend(!0,i,e);else{if(t===C)return i[e];i[e]=t}},internal:function(e,t){if(w.isPlainObject(e))w.extend(!0,u,e);else{if(t===C)return u[e];u[e]=t}},debug:function(){i.debug&&(i.performance?u.performance.log(arguments):(u.debug=Function.prototype.bind.call(console.info,console,i.name+":"),u.debug.apply(console,arguments)))},verbose:function(){i.verbose&&i.debug&&(i.performance?u.performance.log(arguments):(u.verbose=Function.prototype.bind.call(console.info,console,i.name+":"),u.verbose.apply(console,arguments)))},error:function(){u.error=Function.prototype.bind.call(console.error,console,i.name+":"),u.error.apply(console,arguments)},performance:{log:function(e){var t,n;i.performance&&(n=(t=(new Date).getTime())-(g||t),g=t,v.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:a,"Execution Time":n})),clearTimeout(u.performance.timer),u.performance.timer=setTimeout(u.performance.display,500)},display:function(){var e=i.name+":",n=0;g=!1,clearTimeout(u.performance.timer),w.each(v,function(e,t){n+=t["Execution Time"]}),e+=" "+n+"ms",m&&(e+=" '"+m+"'"),1<f.length&&(e+=" ("+f.length+")"),(console.group!==C||console.table!==C)&&0<v.length&&(console.groupCollapsed(e),console.table?console.table(v):w.each(v,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),v=[]}},invoke:function(i,e,t){var o,r,n,s=l;return e=e||x,t=a||t,"string"==typeof i&&s!==C&&(i=i.split(/[\. ]/),o=i.length-1,w.each(i,function(e,t){var n=e!=o?t+i[e+1].charAt(0).toUpperCase()+i[e+1].slice(1):i;if(w.isPlainObject(s[n])&&e!=o)s=s[n];else{if(s[n]!==C)return r=s[n],!1;{if(!w.isPlainObject(s[t])||e==o)return s[t]!==C&&(r=s[t]),!1;s=s[t]}}})),w.isFunction(r)?n=r.apply(t,e):r!==C&&(n=r),w.isArray(p)?p.push(n):p!==C?p=[p,n]:n!==C&&(p=n),r}};y?(l===C&&u.initialize(),u.invoke(b)):(l!==C&&l.invoke("destroy"),u.initialize())}),p!==C?p:this},w.fn.rating.settings={name:"Rating",namespace:"rating",debug:!1,verbose:!1,performance:!0,initialRating:0,interactive:!0,maxRating:4,clearable:"auto",onRate:function(e){},error:{method:"The method you called is not defined",noMaximum:"No maximum rating specified. Cannot generate HTML automatically"},metadata:{rating:"rating",maxRating:"maxRating"},className:{active:"active",disabled:"disabled",selected:"selected",loading:"loading"},selector:{icon:".icon"},templates:{icon:function(e){for(var t=1,n="";t<=e;)n+='<i class="icon"></i>',t++;return n}}}}(jQuery,(window,void document)),function(E,_,A,j){"use strict";E.fn.search=function(s){var b,y=E(this),x=y.selector||"",w=(new Date).getTime(),C=[],k=s,S="string"==typeof k,T=[].slice.call(arguments,1);return E(this).each(function(){var l=E.isPlainObject(s)?E.extend(!0,{},E.fn.search.settings,s):E.extend({},E.fn.search.settings),d=l.className,a=l.metadata,c=l.regExp,r=l.fields,u=l.selector,h=l.error,e=l.namespace,t="."+e,n=e+"-module",p=E(this),f=p.find(u.prompt),i=p.find(u.searchButton),o=p.find(u.results),m=(p.find(u.result),p.find(u.category),this),g=p.data(n),v={initialize:function(){v.verbose("Initializing module"),v.determine.searchFields(),v.bind.events(),v.set.type(),v.create.results(),v.instantiate()},instantiate:function(){v.verbose("Storing instance of module",v),g=v,p.data(n,v)},destroy:function(){v.verbose("Destroying instance"),p.off(t).removeData(n)},bind:{events:function(){v.verbose("Binding events to search"),l.automatic&&(p.on(v.get.inputEvent()+t,u.prompt,v.event.input),f.attr("autocomplete","off")),p.on("focus"+t,u.prompt,v.event.focus).on("blur"+t,u.prompt,v.event.blur).on("keydown"+t,u.prompt,v.handleKeyboard).on("click"+t,u.searchButton,v.query).on("mousedown"+t,u.results,v.event.result.mousedown).on("mouseup"+t,u.results,v.event.result.mouseup).on("click"+t,u.result,v.event.result.click)}},determine:{searchFields:function(){s&&s.searchFields!==j&&(l.searchFields=s.searchFields)}},event:{input:function(){clearTimeout(v.timer),v.timer=setTimeout(v.query,l.searchDelay)},focus:function(){v.set.focus(),v.has.minimumCharacters()&&(v.query(),v.can.show()&&v.showResults())},blur:function(e){A.activeElement===this||v.resultsClicked||(v.cancel.query(),v.remove.focus(),v.timer=setTimeout(v.hideResults,l.hideDelay))},result:{mousedown:function(){v.resultsClicked=!0},mouseup:function(){v.resultsClicked=!1},click:function(e){v.debug("Search result selected");var t=E(this),n=t.find(u.title).eq(0),i=t.find("a[href]").eq(0),o=i.attr("href")||!1,r=i.attr("target")||!1,s=(n.html(),0<n.length&&n.text()),n=v.get.results(),t=t.data(a.result)||v.get.result(s,n);E.isFunction(l.onSelect)&&!1===l.onSelect.call(m,t,n)?v.debug("Custom onSelect callback cancelled default select action"):(v.hideResults(),s&&v.set.value(s),o&&(v.verbose("Opening search link found in result",i),"_blank"==r||e.ctrlKey?_.open(o):_.location.href=o))}}},handleKeyboard:function(e){var t,n=p.find(u.result),i=p.find(u.category),o=n.index(n.filter("."+d.active)),r=n.length,s=e.which,a=13,l=38,c=40;if(s==27&&(v.verbose("Escape key pressed, blurring search field"),v.trigger.blur()),v.is.visible())if(s==a){if(v.verbose("Enter key pressed, selecting active result"),0<n.filter("."+d.active).length)return v.event.result.click.call(n.filter("."+d.active),e),e.preventDefault(),!1}else s==l?(v.verbose("Up key pressed, changing active result"),t=o-1<0?o:o-1,i.removeClass(d.active),n.removeClass(d.active).eq(t).addClass(d.active).closest(i).addClass(d.active),e.preventDefault()):s==c&&(v.verbose("Down key pressed, changing active result"),t=r<=o+1?o:o+1,i.removeClass(d.active),n.removeClass(d.active).eq(t).addClass(d.active).closest(i).addClass(d.active),e.preventDefault());else s==a&&(v.verbose("Enter key pressed, executing query"),v.query(),v.set.buttonPressed(),f.one("keyup",v.remove.buttonFocus))},setup:{api:function(){var e={debug:l.debug,on:!1,cache:"local",action:"search",onError:v.error};v.verbose("First request, initializing API"),p.api(e)}},can:{useAPI:function(){return E.fn.api!==j},show:function(){return v.is.focused()&&!v.is.visible()&&!v.is.empty()},transition:function(){return l.transition&&E.fn.transition!==j&&p.transition("is supported")}},is:{empty:function(){return""===o.html()},visible:function(){return 0<o.filter(":visible").length},focused:function(){return 0<f.filter(":focus").length}},trigger:{blur:function(){var e=A.createEvent("HTMLEvents"),t=f[0];t&&(v.verbose("Triggering native blur event"),e.initEvent("blur",!1,!1),t.dispatchEvent(e))}},get:{inputEvent:function(){var e=f[0];return e!==j&&e.oninput!==j?"input":e!==j&&e.onpropertychange!==j?"propertychange":"keyup"},value:function(){return f.val()},results:function(){return p.data(a.results)},result:function(n,e){var i=["title","id"],o=!1;return n=n!==j?n:v.get.value(),e=e!==j?e:v.get.results(),"category"===l.type?(v.debug("Finding result that matches",n),E.each(e,function(e,t){if(E.isArray(t.results)&&(o=v.search.object(n,t.results,i)[0]))return!1})):(v.debug("Finding result in results object",n),o=v.search.object(n,e,i)[0]),o||!1}},set:{focus:function(){p.addClass(d.focus)},loading:function(){p.addClass(d.loading)},value:function(e){v.verbose("Setting search input value",e),f.val(e)},type:function(e){e=e||l.type,"category"==l.type&&p.addClass(l.type)},buttonPressed:function(){i.addClass(d.pressed)}},remove:{loading:function(){p.removeClass(d.loading)},focus:function(){p.removeClass(d.focus)},buttonPressed:function(){i.removeClass(d.pressed)}},query:function(){var e=v.get.value(),t=v.read.cache(e);v.has.minimumCharacters()?(t?(v.debug("Reading result from cache",e),v.save.results(t.results),v.addResults(t.html),v.inject.id(t.results)):(v.debug("Querying for",e),E.isPlainObject(l.source)||E.isArray(l.source)?v.search.local(e):v.can.useAPI()?v.search.remote(e):v.error(h.source)),l.onSearchQuery.call(m,e)):v.hideResults()},search:{local:function(e){var t,n=v.search.object(e,l.content);v.set.loading(),v.save.results(n),v.debug("Returned local search results",n),t=v.generateResults({results:n}),v.remove.loading(),v.addResults(t),v.inject.id(n),v.write.cache(e,{html:t,results:n})},remote:function(t){var e={onSuccess:function(e){v.parse.response.call(m,e,t)},onFailure:function(){v.displayMessage(h.serverError)},urlData:{query:t}};p.api("get request")||v.setup.api(),E.extend(!0,e,l.apiSettings),v.debug("Executing search",e),v.cancel.query(),p.api("setting",e).api("query")},object:function(i,t,e){function o(e,t){var n=-1==E.inArray(t,r),i=-1==E.inArray(t,s);n&&i&&e.push(t)}var r=[],s=[],n=i.toString().replace(c.escape,"\\$&"),a=new RegExp(c.beginsWith+n,"i");return t=t||l.source,e=e!==j?e:l.searchFields,E.isArray(e)||(e=[e]),t===j||!1===t?(v.error(h.source),[]):(E.each(e,function(e,n){E.each(t,function(e,t){"string"==typeof t[n]&&(-1!==t[n].search(a)?o(r,t):l.searchFullText&&v.fuzzySearch(i,t[n])&&o(s,t))})}),E.merge(r,s))}},fuzzySearch:function(e,t){var n=t.length,i=e.length;if("string"!=typeof e)return!1;if(e=e.toLowerCase(),t=t.toLowerCase(),n<i)return!1;if(i===n)return e===t;e:for(var o=0,r=0;o<i;o++){for(var s=e.charCodeAt(o);r<n;)if(t.charCodeAt(r++)===s)continue e;return!1}return!0},parse:{response:function(e,t){var n=v.generateResults(e);v.verbose("Parsing server response",e),e!==j&&t!==j&&e[r.results]!==j&&(v.addResults(n),v.inject.id(e[r.results]),v.write.cache(t,{html:n,results:e[r.results]}),v.save.results(e[r.results]))}},cancel:{query:function(){v.can.useAPI()&&p.api("abort")}},has:{minimumCharacters:function(){return v.get.value().length>=l.minCharacters}},clear:{cache:function(e){var t=p.data(a.cache);e?t&&t[e]&&(v.debug("Removing value from cache",e),delete t[e],p.data(a.cache,t)):(v.debug("Clearing cache",e),p.removeData(a.cache))}},read:{cache:function(e){var t=p.data(a.cache);return!!l.cache&&(v.verbose("Checking cache for generated html for query",e),"object"==typeof t&&t[e]!==j&&t[e])}},create:{id:function(e,t){var n,e=e+1;return t!==j?(n=String.fromCharCode(97+t),v.verbose("Creating category result id",n=n+e)):v.verbose("Creating result id",n=e),n},results:function(){0===o.length&&(o=E("<div />").addClass(d.results).appendTo(p))}},inject:{result:function(e,t,n){v.verbose("Injecting result into results");t=(n!==j?o.children().eq(n):o).children(u.result).eq(t);v.verbose("Injecting results metadata",t),t.data(a.result,e)},id:function(n){v.debug("Injecting unique ids into results");var i=0,o=0;return"category"===l.type?E.each(n,function(e,n){o=0,E.each(n.results,function(e,t){e=n.results[e];e.id===j&&(e.id=v.create.id(o,i)),v.inject.result(e,o,i),o++}),i++}):E.each(n,function(e,t){e=n[e];e.id===j&&(e.id=v.create.id(o)),v.inject.result(e,o),o++}),n}},save:{results:function(e){v.verbose("Saving current search results to metadata",e),p.data(a.results,e)}},write:{cache:function(e,t){var n=p.data(a.cache)!==j?p.data(a.cache):{};l.cache&&(v.verbose("Writing generated html to cache",e,t),n[e]=t,p.data(a.cache,n))}},addResults:function(e){if(E.isFunction(l.onResultsAdd)&&!1===l.onResultsAdd.call(o,e))return v.debug("onResultsAdd callback cancelled default action"),!1;o.html(e),v.can.show()&&v.showResults()},showResults:function(){v.is.visible()||(v.can.transition()?(v.debug("Showing results with css animations"),o.transition({animation:l.transition+" in",debug:l.debug,verbose:l.verbose,duration:l.duration,queue:!0})):(v.debug("Showing results with javascript"),o.stop().fadeIn(l.duration,l.easing)),l.onResultsOpen.call(o))},hideResults:function(){v.is.visible()&&(v.can.transition()?(v.debug("Hiding results with css animations"),o.transition({animation:l.transition+" out",debug:l.debug,verbose:l.verbose,duration:l.duration,queue:!0})):(v.debug("Hiding results with javascript"),o.stop().fadeOut(l.duration,l.easing)),l.onResultsClose.call(o))},generateResults:function(e){v.debug("Generating html from response",e);var t=l.templates[l.type],n=E.isPlainObject(e[r.results])&&!E.isEmptyObject(e[r.results]),i=E.isArray(e[r.results])&&0<e[r.results].length,o="";return n||i?(0<l.maxResults&&(n?"standard"==l.type&&v.error(h.maxResults):e[r.results]=e[r.results].slice(0,l.maxResults)),E.isFunction(t)?o=t(e,r):v.error(h.noTemplate,!1)):o=v.displayMessage(h.noResults,"empty"),l.onResults.call(m,e),o},displayMessage:function(e,t){return v.debug("Displaying message",e,t=t||"standard"),v.addResults(l.templates.message(e,t)),l.templates.message(e,t)},setting:function(e,t){if(E.isPlainObject(e))E.extend(!0,l,e);else{if(t===j)return l[e];l[e]=t}},internal:function(e,t){if(E.isPlainObject(e))E.extend(!0,v,e);else{if(t===j)return v[e];v[e]=t}},debug:function(){l.debug&&(l.performance?v.performance.log(arguments):(v.debug=Function.prototype.bind.call(console.info,console,l.name+":"),v.debug.apply(console,arguments)))},verbose:function(){l.verbose&&l.debug&&(l.performance?v.performance.log(arguments):(v.verbose=Function.prototype.bind.call(console.info,console,l.name+":"),v.verbose.apply(console,arguments)))},error:function(){v.error=Function.prototype.bind.call(console.error,console,l.name+":"),v.error.apply(console,arguments)},performance:{log:function(e){var t,n;l.performance&&(n=(t=(new Date).getTime())-(w||t),w=t,C.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:m,"Execution Time":n})),clearTimeout(v.performance.timer),v.performance.timer=setTimeout(v.performance.display,500)},display:function(){var e=l.name+":",n=0;w=!1,clearTimeout(v.performance.timer),E.each(C,function(e,t){n+=t["Execution Time"]}),e+=" "+n+"ms",x&&(e+=" '"+x+"'"),1<y.length&&(e+=" ("+y.length+")"),(console.group!==j||console.table!==j)&&0<C.length&&(console.groupCollapsed(e),console.table?console.table(C):E.each(C,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),C=[]}},invoke:function(i,e,t){var o,r,n,s=g;return e=e||T,t=m||t,"string"==typeof i&&s!==j&&(i=i.split(/[\. ]/),o=i.length-1,E.each(i,function(e,t){var n=e!=o?t+i[e+1].charAt(0).toUpperCase()+i[e+1].slice(1):i;if(E.isPlainObject(s[n])&&e!=o)s=s[n];else{if(s[n]!==j)return r=s[n],!1;{if(!E.isPlainObject(s[t])||e==o)return s[t]!==j&&(r=s[t]),!1;s=s[t]}}})),E.isFunction(r)?n=r.apply(t,e):r!==j&&(n=r),E.isArray(b)?b.push(n):b!==j?b=[b,n]:n!==j&&(b=n),r}};S?(g===j&&v.initialize(),v.invoke(k)):(g!==j&&g.invoke("destroy"),v.initialize())}),b!==j?b:this},E.fn.search.settings={name:"Search",namespace:"search",debug:!1,verbose:!1,performance:!0,type:"standard",minCharacters:1,apiSettings:!1,source:!1,searchFields:["title","description"],displayField:"",searchFullText:!0,automatic:!0,hideDelay:0,searchDelay:200,maxResults:7,cache:!0,transition:"scale",duration:200,easing:"easeOutExpo",onSelect:!1,onResultsAdd:!1,onSearchQuery:function(e){},onResults:function(e){},onResultsOpen:function(){},onResultsClose:function(){},className:{active:"active",empty:"empty",focus:"focus",loading:"loading",results:"results",pressed:"down"},error:{source:"Cannot search. No source used, and Semantic API module was not included",noResults:"Your search returned no results",logging:"Error in debug logging, exiting.",noEndpoint:"No search endpoint was specified",noTemplate:"A valid template name was not specified.",serverError:"There was an issue querying the server.",maxResults:"Results must be an array to use maxResults setting",method:"The method you called is not defined."},metadata:{cache:"cache",results:"results",result:"result"},regExp:{escape:/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,beginsWith:"(?:s|^)"},fields:{categories:"results",categoryName:"name",categoryResults:"results",description:"description",image:"image",price:"price",results:"results",title:"title",url:"url",action:"action",actionText:"text",actionURL:"url"},selector:{prompt:".prompt",searchButton:".search.button",results:".results",category:".category",result:".result",title:".title, .name"},templates:{escape:function(e){var t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"};return/[&<>"'`]/.test(e)?e.replace(/[&<>"'`]/g,function(e){return t[e]}):e},message:function(e,t){var n="";return e!==j&&t!==j&&(n+='<div class="message '+t+'">',n+="empty"==t?'<div class="header">No Results</div class="header"><div class="description">'+e+'</div class="description">':' <div class="description">'+e+"</div>",n+="</div>"),n},category:function(e,n){var i="";E.fn.search.settings.templates.escape;return e[n.categoryResults]!==j&&(E.each(e[n.categoryResults],function(e,t){t[n.results]!==j&&0<t.results.length&&(i+='<div class="category">',t[n.categoryName]!==j&&(i+='<div class="name">'+t[n.categoryName]+"</div>"),E.each(t.results,function(e,t){t[n.url]?i+='<a class="result" href="'+t[n.url]+'">':i+='<a class="result">',t[n.image]!==j&&(i+='<div class="image"> <img src="'+t[n.image]+'"></div>'),i+='<div class="content">',t[n.price]!==j&&(i+='<div class="price">'+t[n.price]+"</div>"),t[n.title]!==j&&(i+='<div class="title">'+t[n.title]+"</div>"),t[n.description]!==j&&(i+='<div class="description">'+t[n.description]+"</div>"),i+="</div>",i+="</a>"}),i+="</div>")}),e[n.action]&&(i+='<a href="'+e[n.action][n.actionURL]+'" class="action">'+e[n.action][n.actionText]+"</a>"),i)},standard:function(e,n){var i="";return e[n.results]!==j&&(E.each(e[n.results],function(e,t){t[n.url]?i+='<a class="result" href="'+t[n.url]+'">':i+='<a class="result">',t[n.image]!==j&&(i+='<div class="image"> <img src="'+t[n.image]+'"></div>'),i+='<div class="content">',t[n.price]!==j&&(i+='<div class="price">'+t[n.price]+"</div>"),t[n.title]!==j&&(i+='<div class="title">'+t[n.title]+"</div>"),t[n.description]!==j&&(i+='<div class="description">'+t[n.description]+"</div>"),i+="</div>",i+="</a>"}),e[n.action]&&(i+='<a href="'+e[n.action][n.actionURL]+'" class="action">'+e[n.action][n.actionText]+"</a>"),i)}}}}(jQuery,window,document),function(E,e,_,A){"use strict";E.fn.shape=function(v){var b,y=E(this),x=(E("body"),(new Date).getTime()),w=[],C=v,k="string"==typeof C,S=[].slice.call(arguments,1),T=e.requestAnimationFrame||e.mozRequestAnimationFrame||e.webkitRequestAnimationFrame||e.msRequestAnimationFrame||function(e){setTimeout(e,0)};return y.each(function(){var n,i,t=y.selector||"",o=E.isPlainObject(v)?E.extend(!0,{},E.fn.shape.settings,v):E.extend({},E.fn.shape.settings),e=o.namespace,r=o.selector,s=o.error,a=o.className,l="."+e,c="module-"+e,d=E(this),u=d.find(r.sides),h=d.find(r.side),p=!1,f=this,m=d.data(c),g={initialize:function(){g.verbose("Initializing module for",f),g.set.defaultSide(),g.instantiate()},instantiate:function(){g.verbose("Storing instance of module",g),m=g,d.data(c,m)},destroy:function(){g.verbose("Destroying previous module for",f),d.removeData(c).off(l)},refresh:function(){g.verbose("Refreshing selector cache for",f),d=E(f),u=E(this).find(r.shape),h=E(this).find(r.side)},repaint:function(){g.verbose("Forcing repaint event");(u[0]||_.createElement("div")).offsetWidth},animate:function(e,t){g.verbose("Animating box with properties",e),t=t||function(e){g.verbose("Executing animation callback"),e!==A&&e.stopPropagation(),g.reset(),g.set.active()},o.beforeChange.call(i[0]),g.get.transitionEvent()?(g.verbose("Starting CSS animation"),d.addClass(a.animating),u.css(e).one(g.get.transitionEvent(),t),g.set.duration(o.duration),T(function(){d.addClass(a.animating),n.addClass(a.hidden)})):t()},queue:function(e){g.debug("Queueing animation of",e),u.one(g.get.transitionEvent(),function(){g.debug("Executing queued animation"),setTimeout(function(){d.shape(e)},0)})},reset:function(){g.verbose("Animating states reset"),d.removeClass(a.animating).attr("style","").removeAttr("style"),u.attr("style","").removeAttr("style"),h.attr("style","").removeAttr("style").removeClass(a.hidden),i.removeClass(a.animating).attr("style","").removeAttr("style")},is:{complete:function(){return h.filter("."+a.active)[0]==i[0]},animating:function(){return d.hasClass(a.animating)}},set:{defaultSide:function(){n=d.find("."+o.className.active),i=0<n.next(r.side).length?n.next(r.side):d.find(r.side).first(),p=!1,g.verbose("Active side set to",n),g.verbose("Next side set to",i)},duration:function(e){e=e||o.duration,g.verbose("Setting animation duration",e="number"==typeof e?e+"ms":e),!o.duration&&0!==o.duration||u.add(h).css({"-webkit-transition-duration":e,"-moz-transition-duration":e,"-ms-transition-duration":e,"-o-transition-duration":e,"transition-duration":e})},currentStageSize:function(){var e=d.find("."+o.className.active),t=e.outerWidth(!0),e=e.outerHeight(!0);d.css({width:t,height:e})},stageSize:function(){var e,t=d.clone().addClass(a.loading),n=t.find("."+o.className.active),i=p?t.find(r.side).eq(p):0<n.next(r.side).length?n.next(r.side):t.find(r.side).first();g.set.currentStageSize(),n.removeClass(a.active),i.addClass(a.active),t.insertAfter(d),e={width:i.outerWidth(!0),height:i.outerHeight(!0)},t.remove(),d.css(e),g.verbose("Resizing stage to fit new content",e)},nextSide:function(e){p=e,i=h.filter(e),p=h.index(i),0===i.length&&(g.set.defaultSide(),g.error(s.side)),g.verbose("Next side manually set to",i)},active:function(){g.verbose("Setting new side to active",i),h.removeClass(a.active),i.addClass(a.active),o.onChange.call(i[0]),g.set.defaultSide()}},flip:{up:function(){!g.is.complete()||g.is.animating()||o.allowRepeats?g.is.animating()?g.queue("flip up"):(g.debug("Flipping up",i),g.set.stageSize(),g.stage.above(),g.animate(g.get.transform.up())):g.debug("Side already visible",i)},down:function(){!g.is.complete()||g.is.animating()||o.allowRepeats?g.is.animating()?g.queue("flip down"):(g.debug("Flipping down",i),g.set.stageSize(),g.stage.below(),g.animate(g.get.transform.down())):g.debug("Side already visible",i)},left:function(){!g.is.complete()||g.is.animating()||o.allowRepeats?g.is.animating()?g.queue("flip left"):(g.debug("Flipping left",i),g.set.stageSize(),g.stage.left(),g.animate(g.get.transform.left())):g.debug("Side already visible",i)},right:function(){!g.is.complete()||g.is.animating()||o.allowRepeats?g.is.animating()?g.queue("flip right"):(g.debug("Flipping right",i),g.set.stageSize(),g.stage.right(),g.animate(g.get.transform.right())):g.debug("Side already visible",i)},over:function(){!g.is.complete()||g.is.animating()||o.allowRepeats?g.is.animating()?g.queue("flip over"):(g.debug("Flipping over",i),g.set.stageSize(),g.stage.behind(),g.animate(g.get.transform.over())):g.debug("Side already visible",i)},back:function(){!g.is.complete()||g.is.animating()||o.allowRepeats?g.is.animating()?g.queue("flip back"):(g.debug("Flipping back",i),g.set.stageSize(),g.stage.behind(),g.animate(g.get.transform.back())):g.debug("Side already visible",i)}},get:{transform:{up:function(){return{transform:"translateY("+-(n.outerHeight(!0)-i.outerHeight(!0))/2+"px) translateZ("+-n.outerHeight(!0)/2+"px) rotateX(-90deg)"}},down:function(){return{transform:"translateY("+-(n.outerHeight(!0)-i.outerHeight(!0))/2+"px) translateZ("+-n.outerHeight(!0)/2+"px) rotateX(90deg)"}},left:function(){return{transform:"translateX("+-(n.outerWidth(!0)-i.outerWidth(!0))/2+"px) translateZ("+-n.outerWidth(!0)/2+"px) rotateY(90deg)"}},right:function(){return{transform:"translateX("+-(n.outerWidth(!0)-i.outerWidth(!0))/2+"px) translateZ("+-n.outerWidth(!0)/2+"px) rotateY(-90deg)"}},over:function(){return{transform:"translateX("+-(n.outerWidth(!0)-i.outerWidth(!0))/2+"px) rotateY(180deg)"}},back:function(){return{transform:"translateX("+-(n.outerWidth(!0)-i.outerWidth(!0))/2+"px) rotateY(-180deg)"}}},transitionEvent:function(){var e,t=_.createElement("element"),n={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(e in n)if(t.style[e]!==A)return n[e]},nextSide:function(){return 0<n.next(r.side).length?n.next(r.side):d.find(r.side).first()}},stage:{above:function(){var e={origin:(n.outerHeight(!0)-i.outerHeight(!0))/2,depth:{active:i.outerHeight(!0)/2,next:n.outerHeight(!0)/2}};g.verbose("Setting the initial animation position as above",i,e),u.css({transform:"translateZ(-"+e.depth.active+"px)"}),n.css({transform:"rotateY(0deg) translateZ("+e.depth.active+"px)"}),i.addClass(a.animating).css({top:e.origin+"px",transform:"rotateX(90deg) translateZ("+e.depth.next+"px)"})},below:function(){var e={origin:(n.outerHeight(!0)-i.outerHeight(!0))/2,depth:{active:i.outerHeight(!0)/2,next:n.outerHeight(!0)/2}};g.verbose("Setting the initial animation position as below",i,e),u.css({transform:"translateZ(-"+e.depth.active+"px)"}),n.css({transform:"rotateY(0deg) translateZ("+e.depth.active+"px)"}),i.addClass(a.animating).css({top:e.origin+"px",transform:"rotateX(-90deg) translateZ("+e.depth.next+"px)"})},left:function(){var e=n.outerWidth(!0),t=i.outerWidth(!0),e={origin:(e-t)/2,depth:{active:t/2,next:e/2}};g.verbose("Setting the initial animation position as left",i,e),u.css({transform:"translateZ(-"+e.depth.active+"px)"}),n.css({transform:"rotateY(0deg) translateZ("+e.depth.active+"px)"}),i.addClass(a.animating).css({left:e.origin+"px",transform:"rotateY(-90deg) translateZ("+e.depth.next+"px)"})},right:function(){var e=n.outerWidth(!0),t=i.outerWidth(!0),e={origin:(e-t)/2,depth:{active:t/2,next:e/2}};g.verbose("Setting the initial animation position as left",i,e),u.css({transform:"translateZ(-"+e.depth.active+"px)"}),n.css({transform:"rotateY(0deg) translateZ("+e.depth.active+"px)"}),i.addClass(a.animating).css({left:e.origin+"px",transform:"rotateY(90deg) translateZ("+e.depth.next+"px)"})},behind:function(){var e=n.outerWidth(!0),t=i.outerWidth(!0),e={origin:(e-t)/2,depth:{active:t/2,next:e/2}};g.verbose("Setting the initial animation position as behind",i,e),n.css({transform:"rotateY(0deg)"}),i.addClass(a.animating).css({left:e.origin+"px",transform:"rotateY(-180deg)"})}},setting:function(e,t){if(g.debug("Changing setting",e,t),E.isPlainObject(e))E.extend(!0,o,e);else{if(t===A)return o[e];o[e]=t}},internal:function(e,t){if(E.isPlainObject(e))E.extend(!0,g,e);else{if(t===A)return g[e];g[e]=t}},debug:function(){o.debug&&(o.performance?g.performance.log(arguments):(g.debug=Function.prototype.bind.call(console.info,console,o.name+":"),g.debug.apply(console,arguments)))},verbose:function(){o.verbose&&o.debug&&(o.performance?g.performance.log(arguments):(g.verbose=Function.prototype.bind.call(console.info,console,o.name+":"),g.verbose.apply(console,arguments)))},error:function(){g.error=Function.prototype.bind.call(console.error,console,o.name+":"),g.error.apply(console,arguments)},performance:{log:function(e){var t,n;o.performance&&(n=(t=(new Date).getTime())-(x||t),x=t,w.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:f,"Execution Time":n})),clearTimeout(g.performance.timer),g.performance.timer=setTimeout(g.performance.display,500)},display:function(){var e=o.name+":",n=0;x=!1,clearTimeout(g.performance.timer),E.each(w,function(e,t){n+=t["Execution Time"]}),e+=" "+n+"ms",t&&(e+=" '"+t+"'"),1<y.length&&(e+=" ("+y.length+")"),(console.group!==A||console.table!==A)&&0<w.length&&(console.groupCollapsed(e),console.table?console.table(w):E.each(w,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),w=[]}},invoke:function(i,e,t){var o,r,n,s=m;return e=e||S,t=f||t,"string"==typeof i&&s!==A&&(i=i.split(/[\. ]/),o=i.length-1,E.each(i,function(e,t){var n=e!=o?t+i[e+1].charAt(0).toUpperCase()+i[e+1].slice(1):i;if(E.isPlainObject(s[n])&&e!=o)s=s[n];else{if(s[n]!==A)return r=s[n],!1;{if(!E.isPlainObject(s[t])||e==o)return s[t]!==A&&(r=s[t]),!1;s=s[t]}}})),E.isFunction(r)?n=r.apply(t,e):r!==A&&(n=r),E.isArray(b)?b.push(n):b!==A?b=[b,n]:n!==A&&(b=n),r}};k?(m===A&&g.initialize(),g.invoke(C)):(m!==A&&m.invoke("destroy"),g.initialize())}),b!==A?b:this},E.fn.shape.settings={name:"Shape",debug:!1,verbose:!1,performance:!0,namespace:"shape",beforeChange:function(){},onChange:function(){},allowRepeats:!1,duration:!1,error:{side:"You tried to switch to a side that does not exist.",method:"The method you called is not defined"},className:{animating:"animating",hidden:"hidden",loading:"loading",active:"active"},selector:{sides:".sides",side:".side"}}}(jQuery,window,document),function(I,N,R,L){"use strict";I.fn.sidebar=function(x){var w,e=I(this),C=I(N),k=I(R),S=I("html"),T=I("head"),E=e.selector||"",_=(new Date).getTime(),A=[],j=x,P="string"==typeof j,O=[].slice.call(arguments,1),D=N.requestAnimationFrame||N.mozRequestAnimationFrame||N.webkitRequestAnimationFrame||N.msRequestAnimationFrame||function(e){setTimeout(e,0)};return e.each(function(){var o,r,e,t,s,a=I.isPlainObject(x)?I.extend(!0,{},I.fn.sidebar.settings,x):I.extend({},I.fn.sidebar.settings),n=a.selector,l=a.className,i=a.namespace,c=a.regExp,d=a.error,u="."+i,h="module-"+i,p=I(this),f=I(a.context),m=p.children(n.sidebar),g=(f.children(n.fixed),f.children(n.pusher)),v=this,b=p.data(h),y={initialize:function(){y.debug("Initializing sidebar",x),y.create.id(),s=y.get.transitionEvent(),y.is.ios()&&y.set.ios(),a.delaySetup?D(y.setup.layout):y.setup.layout(),D(function(){y.setup.cache()}),y.instantiate()},instantiate:function(){y.verbose("Storing instance of module",y),b=y,p.data(h,y)},create:{id:function(){e=(Math.random().toString(16)+"000000000").substr(2,8),r="."+e,y.verbose("Creating unique id for element",e)}},destroy:function(){y.verbose("Destroying previous module for",p),p.off(u).removeData(h),y.is.ios()&&y.remove.ios(),f.off(r),C.off(r),k.off(r)},event:{clickaway:function(e){var t=0<g.find(e.target).length||g.is(e.target),e=f.is(e.target);t&&(y.verbose("User clicked on dimmed page"),y.hide()),e&&(y.verbose("User clicked on dimmable context (scaled out page)"),y.hide())},touch:function(e){},containScroll:function(e){v.scrollTop<=0&&(v.scrollTop=1),v.scrollTop+v.offsetHeight>=v.scrollHeight&&(v.scrollTop=v.scrollHeight-v.offsetHeight-1)},scroll:function(e){0===I(e.target).closest(n.sidebar).length&&e.preventDefault()}},bind:{clickaway:function(){y.verbose("Adding clickaway events to context",f),a.closable&&f.on("click"+r,y.event.clickaway).on("touchend"+r,y.event.clickaway)},scrollLock:function(){a.scrollLock&&(y.debug("Disabling page scroll"),C.on("DOMMouseScroll"+r,y.event.scroll)),y.verbose("Adding events to contain sidebar scroll"),k.on("touchmove"+r,y.event.touch),p.on("scroll"+u,y.event.containScroll)}},unbind:{clickaway:function(){y.verbose("Removing clickaway events from context",f),f.off(r)},scrollLock:function(){y.verbose("Removing scroll lock from page"),k.off(r),C.off(r),p.off("scroll"+u)}},add:{inlineCSS:function(){var e=y.cache.width||p.outerWidth(),t=y.cache.height||p.outerHeight(),n=y.is.rtl(),i=y.get.direction(),t={left:e,right:-e,top:t,bottom:-t};n&&(y.verbose("RTL detected, flipping widths"),t.left=-e,t.right=e),n="<style>","left"===i||"right"===i?(y.debug("Adding CSS rules for animation distance",e),n+=" .ui.visible."+i+".sidebar ~ .fixed, .ui.visible."+i+".sidebar ~ .pusher {   -webkit-transform: translate3d("+t[i]+"px, 0, 0);           transform: translate3d("+t[i]+"px, 0, 0); }"):"top"!==i&&"bottom"!=i||(n+=" .ui.visible."+i+".sidebar ~ .fixed, .ui.visible."+i+".sidebar ~ .pusher {   -webkit-transform: translate3d(0, "+t[i]+"px, 0);           transform: translate3d(0, "+t[i]+"px, 0); }"),y.is.ie()&&("left"===i||"right"===i?(y.debug("Adding CSS rules for animation distance",e),n+=" body.pushable > .ui.visible."+i+".sidebar ~ .pusher:after {   -webkit-transform: translate3d("+t[i]+"px, 0, 0);           transform: translate3d("+t[i]+"px, 0, 0); }"):"top"!==i&&"bottom"!=i||(n+=" body.pushable > .ui.visible."+i+".sidebar ~ .pusher:after {   -webkit-transform: translate3d(0, "+t[i]+"px, 0);           transform: translate3d(0, "+t[i]+"px, 0); }"),n+=" body.pushable > .ui.visible.left.sidebar ~ .ui.visible.right.sidebar ~ .pusher:after, body.pushable > .ui.visible.right.sidebar ~ .ui.visible.left.sidebar ~ .pusher:after {   -webkit-transform: translate3d(0px, 0, 0);           transform: translate3d(0px, 0, 0); }"),o=I(n+="</style>").appendTo(T),y.debug("Adding sizing css to head",o)}},refresh:function(){y.verbose("Refreshing selector cache"),f=I(a.context),m=f.children(n.sidebar),g=f.children(n.pusher),f.children(n.fixed),y.clear.cache()},refreshSidebars:function(){y.verbose("Refreshing other sidebars"),m=f.children(n.sidebar)},repaint:function(){y.verbose("Forcing repaint event"),v.style.display="none";v.offsetHeight;v.scrollTop=v.scrollTop,v.style.display=""},setup:{cache:function(){y.cache={width:p.outerWidth(),height:p.outerHeight(),rtl:"rtl"==p.css("direction")}},layout:function(){0===f.children(n.pusher).length&&(y.debug("Adding wrapper element for sidebar"),y.error(d.pusher),g=I('<div class="pusher" />'),f.children().not(n.omitted).not(m).wrapAll(g),y.refresh()),0!==p.nextAll(n.pusher).length&&p.nextAll(n.pusher)[0]===g[0]||(y.debug("Moved sidebar to correct parent element"),y.error(d.movedSidebar,v),p.detach().prependTo(f),y.refresh()),y.clear.cache(),y.set.pushable(),y.set.direction()}},attachEvents:function(e,t){var n=I(e);t=I.isFunction(y[t])?y[t]:y.toggle,0<n.length?(y.debug("Attaching sidebar events to element",e,t),n.on("click"+u,t)):y.error(d.notFound,e)},show:function(e){if(e=I.isFunction(e)?e:function(){},y.is.hidden()){if(y.refreshSidebars(),a.overlay&&(y.error(d.overlay),a.transition="overlay"),y.refresh(),y.othersActive())if(y.debug("Other sidebars currently visible"),a.exclusive){if("overlay"!=a.transition)return void y.hideOthers(y.show);y.hideOthers()}else a.transition="overlay";y.pushPage(function(){e.call(v),a.onShow.call(v)}),a.onChange.call(v),a.onVisible.call(v)}else y.debug("Sidebar is already visible")},hide:function(e){e=I.isFunction(e)?e:function(){},(y.is.visible()||y.is.animating())&&(y.debug("Hiding sidebar",e),y.refreshSidebars(),y.pullPage(function(){e.call(v),a.onHidden.call(v)}),a.onChange.call(v),a.onHide.call(v))},othersAnimating:function(){return 0<m.not(p).filter("."+l.animating).length},othersVisible:function(){return 0<m.not(p).filter("."+l.visible).length},othersActive:function(){return y.othersVisible()||y.othersAnimating()},hideOthers:function(e){var t=m.not(p).filter("."+l.visible),n=t.length,i=0;e=e||function(){},t.sidebar("hide",function(){++i==n&&e()})},toggle:function(){y.verbose("Determining toggled direction"),y.is.hidden()?y.show():y.hide()},pushPage:function(t){var e,n,i=y.get.transition(),o="overlay"===i||y.othersActive()?p:g;t=I.isFunction(t)?t:function(){},"scale down"==a.transition&&y.scrollToTop(),y.set.transition(i),y.repaint(),e=function(){y.bind.clickaway(),y.add.inlineCSS(),y.set.animating(),y.set.visible()},i=function(){y.set.dimmed()},n=function(e){e.target==o[0]&&(o.off(s+r,n),y.remove.animating(),y.bind.scrollLock(),t.call(v))},o.off(s+r),o.on(s+r,n),D(e),a.dimPage&&!y.othersVisible()&&D(i)},pullPage:function(t){var e,n,i=y.get.transition(),o="overlay"==i||y.othersActive()?p:g;t=I.isFunction(t)?t:function(){},y.verbose("Removing context push state",y.get.direction()),y.unbind.clickaway(),y.unbind.scrollLock(),e=function(){y.set.transition(i),y.set.animating(),y.remove.visible(),a.dimPage&&!y.othersVisible()&&g.removeClass(l.dimmed)},n=function(e){e.target==o[0]&&(o.off(s+r,n),y.remove.animating(),y.remove.transition(),y.remove.inlineCSS(),("scale down"==i||a.returnScroll&&y.is.mobile())&&y.scrollBack(),t.call(v))},o.off(s+r),o.on(s+r,n),D(e)},scrollToTop:function(){y.verbose("Scrolling to top of page to avoid animation issues"),t=I(N).scrollTop(),p.scrollTop(0),N.scrollTo(0,0)},scrollBack:function(){y.verbose("Scrolling back to original page position"),N.scrollTo(0,t)},clear:{cache:function(){y.verbose("Clearing cached dimensions"),y.cache={}}},set:{ios:function(){S.addClass(l.ios)},pushed:function(){f.addClass(l.pushed)},pushable:function(){f.addClass(l.pushable)},dimmed:function(){g.addClass(l.dimmed)},active:function(){p.addClass(l.active)},animating:function(){p.addClass(l.animating)},transition:function(e){e=e||y.get.transition(),p.addClass(e)},direction:function(e){e=e||y.get.direction(),p.addClass(l[e])},visible:function(){p.addClass(l.visible)},overlay:function(){p.addClass(l.overlay)}},remove:{inlineCSS:function(){y.debug("Removing inline css styles",o),o&&0<o.length&&o.remove()},ios:function(){S.removeClass(l.ios)},pushed:function(){f.removeClass(l.pushed)},pushable:function(){f.removeClass(l.pushable)},active:function(){p.removeClass(l.active)},animating:function(){p.removeClass(l.animating)},transition:function(e){e=e||y.get.transition(),p.removeClass(e)},direction:function(e){e=e||y.get.direction(),p.removeClass(l[e])},visible:function(){p.removeClass(l.visible)},overlay:function(){p.removeClass(l.overlay)}},get:{direction:function(){return p.hasClass(l.top)?l.top:p.hasClass(l.right)?l.right:p.hasClass(l.bottom)?l.bottom:l.left},transition:function(){var e=y.get.direction(),e=y.is.mobile()?"auto"==a.mobileTransition?a.defaultTransition.mobile[e]:a.mobileTransition:"auto"==a.transition?a.defaultTransition.computer[e]:a.transition;return y.verbose("Determined transition",e),e},transitionEvent:function(){var e,t=R.createElement("element"),n={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(e in n)if(t.style[e]!==L)return n[e]}},is:{ie:function(){var e=!N.ActiveXObject&&"ActiveXObject"in N,t="ActiveXObject"in N;return e||t},ios:function(){var e=navigator.userAgent,t=e.match(c.ios),n=e.match(c.mobileChrome);return!(!t||n)&&(y.verbose("Browser was found to be iOS",e),!0)},mobile:function(){var e=navigator.userAgent;return e.match(c.mobile)?(y.verbose("Browser was found to be mobile",e),!0):(y.verbose("Browser is not mobile, using regular transition",e),!1)},hidden:function(){return!y.is.visible()},visible:function(){return p.hasClass(l.visible)},open:function(){return y.is.visible()},closed:function(){return y.is.hidden()},vertical:function(){return p.hasClass(l.top)},animating:function(){return f.hasClass(l.animating)},rtl:function(){return y.cache.rtl===L&&(y.cache.rtl="rtl"==p.css("direction")),y.cache.rtl}},setting:function(e,t){if(y.debug("Changing setting",e,t),I.isPlainObject(e))I.extend(!0,a,e);else{if(t===L)return a[e];a[e]=t}},internal:function(e,t){if(I.isPlainObject(e))I.extend(!0,y,e);else{if(t===L)return y[e];y[e]=t}},debug:function(){a.debug&&(a.performance?y.performance.log(arguments):(y.debug=Function.prototype.bind.call(console.info,console,a.name+":"),y.debug.apply(console,arguments)))},verbose:function(){a.verbose&&a.debug&&(a.performance?y.performance.log(arguments):(y.verbose=Function.prototype.bind.call(console.info,console,a.name+":"),y.verbose.apply(console,arguments)))},error:function(){y.error=Function.prototype.bind.call(console.error,console,a.name+":"),y.error.apply(console,arguments)},performance:{log:function(e){var t,n;a.performance&&(n=(t=(new Date).getTime())-(_||t),_=t,A.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:v,"Execution Time":n})),clearTimeout(y.performance.timer),y.performance.timer=setTimeout(y.performance.display,500)},display:function(){var e=a.name+":",n=0;_=!1,clearTimeout(y.performance.timer),I.each(A,function(e,t){n+=t["Execution Time"]}),e+=" "+n+"ms",E&&(e+=" '"+E+"'"),(console.group!==L||console.table!==L)&&0<A.length&&(console.groupCollapsed(e),console.table?console.table(A):I.each(A,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),A=[]}},invoke:function(i,e,t){var o,r,n,s=b;return e=e||O,t=v||t,"string"==typeof i&&s!==L&&(i=i.split(/[\. ]/),o=i.length-1,I.each(i,function(e,t){var n=e!=o?t+i[e+1].charAt(0).toUpperCase()+i[e+1].slice(1):i;if(I.isPlainObject(s[n])&&e!=o)s=s[n];else{if(s[n]!==L)return r=s[n],!1;{if(!I.isPlainObject(s[t])||e==o)return s[t]!==L?r=s[t]:y.error(d.method,i),!1;s=s[t]}}})),I.isFunction(r)?n=r.apply(t,e):r!==L&&(n=r),I.isArray(w)?w.push(n):w!==L?w=[w,n]:n!==L&&(w=n),r}};P?(b===L&&y.initialize(),y.invoke(j)):(b!==L&&y.invoke("destroy"),y.initialize())}),w!==L?w:this},I.fn.sidebar.settings={name:"Sidebar",namespace:"sidebar",debug:!1,verbose:!1,performance:!0,transition:"auto",mobileTransition:"auto",defaultTransition:{computer:{left:"uncover",right:"uncover",top:"overlay",bottom:"overlay"},mobile:{left:"uncover",right:"uncover",top:"overlay",bottom:"overlay"}},context:"body",exclusive:!1,closable:!0,dimPage:!0,scrollLock:!1,returnScroll:!1,delaySetup:!1,duration:500,onChange:function(){},onShow:function(){},onHide:function(){},onHidden:function(){},onVisible:function(){},className:{active:"active",animating:"animating",dimmed:"dimmed",ios:"ios",pushable:"pushable",pushed:"pushed",right:"right",top:"top",left:"left",bottom:"bottom",visible:"visible"},selector:{fixed:".fixed",omitted:"script, link, style, .ui.modal, .ui.dimmer, .ui.nag, .ui.fixed",pusher:".pusher",sidebar:".ui.sidebar"},regExp:{ios:/(iPad|iPhone|iPod)/g,mobileChrome:/(CriOS)/g,mobile:/Mobile|iP(hone|od|ad)|Android|BlackBerry|IEMobile|Kindle|NetFront|Silk-Accelerated|(hpw|web)OS|Fennec|Minimo|Opera M(obi|ini)|Blazer|Dolfin|Dolphin|Skyfire|Zune/g},error:{method:"The method you called is not defined.",pusher:"Had to add pusher element. For optimal performance make sure body content is inside a pusher element",movedSidebar:"Had to move sidebar. For optimal performance make sure sidebar and pusher are direct children of your body tag",overlay:"The overlay setting is no longer supported, use animation: overlay",notFound:"There were no elements that matched the specified selector"}}}(jQuery,window,document),function(S,T,E){"use strict";S.fn.sticky=function(g){var v,e=S(this),b=e.selector||"",y=(new Date).getTime(),x=[],w=g,C="string"==typeof w,k=[].slice.call(arguments,1);return e.each(function(){var i,o,t,a=S.isPlainObject(g)?S.extend(!0,{},S.fn.sticky.settings,g):S.extend({},S.fn.sticky.settings),n=a.className,e=a.namespace,r=a.error,s="."+e,l="module-"+e,c=S(this),d=S(T),u=S(a.scrollContext),h=(c.selector,c.data(l)),p=T.requestAnimationFrame||T.mozRequestAnimationFrame||T.webkitRequestAnimationFrame||T.msRequestAnimationFrame||function(e){setTimeout(e,0)},f=this,m={initialize:function(){m.determineContainer(),m.determineContext(),m.verbose("Initializing sticky",a,i),m.save.positions(),m.checkErrors(),m.bind.events(),a.observeChanges&&m.observeChanges(),m.instantiate()},instantiate:function(){m.verbose("Storing instance of module",m),h=m,c.data(l,m)},destroy:function(){m.verbose("Destroying previous instance"),m.reset(),t&&t.disconnect(),d.off("load"+s,m.event.load).off("resize"+s,m.event.resize),u.off("scrollchange"+s,m.event.scrollchange),c.removeData(l)},observeChanges:function(){var e=o[0];"MutationObserver"in T&&((t=new MutationObserver(function(e){clearTimeout(m.timer),m.timer=setTimeout(function(){m.verbose("DOM tree modified, updating sticky menu",e),m.refresh()},100)})).observe(f,{childList:!0,subtree:!0}),t.observe(e,{childList:!0,subtree:!0}),m.debug("Setting up mutation observer",t))},determineContainer:function(){i=c.offsetParent()},determineContext:function(){0===(o=a.context?S(a.context):i).length&&m.error(r.invalidContext,a.context,c)},checkErrors:function(){m.is.hidden()&&m.error(r.visible,c),m.cache.element.height>m.cache.context.height&&(m.reset(),m.error(r.elementSize,c))},bind:{events:function(){d.on("load"+s,m.event.load).on("resize"+s,m.event.resize),u.off("scroll"+s).on("scroll"+s,m.event.scroll).on("scrollchange"+s,m.event.scrollchange)}},event:{load:function(){m.verbose("Page contents finished loading"),p(m.refresh)},resize:function(){m.verbose("Window resized"),p(m.refresh)},scroll:function(){p(function(){u.triggerHandler("scrollchange"+s,u.scrollTop())})},scrollchange:function(e,t){m.stick(t),a.onScroll.call(f)}},refresh:function(e){m.reset(),a.context||m.determineContext(),e&&m.determineContainer(),m.save.positions(),m.stick(),a.onReposition.call(f)},supports:{sticky:function(){var e=S("<div/>");e[0];return e.addClass(n.supported),e.css("position").match("sticky")}},save:{lastScroll:function(e){m.lastScroll=e},elementScroll:function(e){m.elementScroll=e},positions:function(){var e={height:u.height()},t={margin:{top:parseInt(c.css("margin-top"),10),bottom:parseInt(c.css("margin-bottom"),10)},offset:c.offset(),width:c.outerWidth(),height:c.outerHeight()},n={offset:o.offset(),height:o.outerHeight()};i.outerHeight();m.is.standardScroll()||(m.debug("Non-standard scroll. Removing scroll offset from element offset"),e.top=u.scrollTop(),e.left=u.scrollLeft(),t.offset.top+=e.top,n.offset.top+=e.top,t.offset.left+=e.left,n.offset.left+=e.left),m.cache={fits:t.height<e.height,scrollContext:{height:e.height},element:{margin:t.margin,top:t.offset.top-t.margin.top,left:t.offset.left,width:t.width,height:t.height,bottom:t.offset.top+t.height},context:{top:n.offset.top,height:n.height,bottom:n.offset.top+n.height}},m.set.containerSize(),m.set.size(),m.stick(),m.debug("Caching element positions",m.cache)}},get:{direction:function(e){var t="down";return e=e||u.scrollTop(),m.lastScroll!==E&&(m.lastScroll<e?t="down":m.lastScroll>e&&(t="up")),t},scrollChange:function(e){return e=e||u.scrollTop(),m.lastScroll?e-m.lastScroll:0},currentElementScroll:function(){return m.elementScroll||(m.is.top()?Math.abs(parseInt(c.css("top"),10))||0:Math.abs(parseInt(c.css("bottom"),10))||0)},elementScroll:function(e){e=e||u.scrollTop();var t=m.cache.element,n=m.cache.scrollContext,e=m.get.scrollChange(e),t=t.height-n.height+a.offset,n=m.get.currentElementScroll(),e=n+e;return n=m.cache.fits||e<0?0:t<e?t:e}},remove:{lastScroll:function(){delete m.lastScroll},elementScroll:function(e){delete m.elementScroll},offset:function(){c.css("margin-top","")}},set:{offset:function(){m.verbose("Setting offset on element",a.offset),c.css("margin-top",a.offset)},containerSize:function(){var e=i.get(0).tagName;"HTML"===e||"body"==e?m.determineContainer():Math.abs(i.outerHeight()-m.cache.context.height)>a.jitter&&(m.debug("Context has padding, specifying exact height for container",m.cache.context.height),i.css({height:m.cache.context.height}))},minimumSize:function(){var e=m.cache.element;i.css("min-height",e.height)},scroll:function(e){m.debug("Setting scroll on element",e),m.elementScroll!=e&&(m.is.top()&&c.css("bottom","").css("top",-e),m.is.bottom()&&c.css("top","").css("bottom",e))},size:function(){0!==m.cache.element.height&&0!==m.cache.element.width&&(f.style.setProperty("width",m.cache.element.width+"px","important"),f.style.setProperty("height",m.cache.element.height+"px","important"))}},is:{standardScroll:function(){return u[0]==T},top:function(){return c.hasClass(n.top)},bottom:function(){return c.hasClass(n.bottom)},initialPosition:function(){return!m.is.fixed()&&!m.is.bound()},hidden:function(){return!c.is(":visible")},bound:function(){return c.hasClass(n.bound)},fixed:function(){return c.hasClass(n.fixed)}},stick:function(e){var t=e||u.scrollTop(),n=m.cache,i=n.fits,o=n.element,r=n.scrollContext,s=n.context,n=m.is.bottom()&&a.pushing?a.bottomOffset:a.offset,e={top:t+n,bottom:t+n+r.height},r=(m.get.direction(e.top),i?0:m.get.elementScroll(e.top)),i=!i;0!==o.height&&(m.is.initialPosition()?e.top>=s.bottom?(m.debug("Initial element position is bottom of container"),m.bindBottom()):e.top>o.top&&(o.height+e.top-r>=s.bottom?(m.debug("Initial element position is bottom of container"),m.bindBottom()):(m.debug("Initial element position is fixed"),m.fixTop())):m.is.fixed()?m.is.top()?e.top<=o.top?(m.debug("Fixed element reached top of container"),m.setInitialPosition()):o.height+e.top-r>=s.bottom?(m.debug("Fixed element reached bottom of container"),m.bindBottom()):i&&(m.set.scroll(r),m.save.lastScroll(e.top),m.save.elementScroll(r)):m.is.bottom()&&(e.bottom-o.height<=o.top?(m.debug("Bottom fixed rail has reached top of container"),m.setInitialPosition()):e.bottom>=s.bottom?(m.debug("Bottom fixed rail has reached bottom of container"),m.bindBottom()):i&&(m.set.scroll(r),m.save.lastScroll(e.top),m.save.elementScroll(r))):m.is.bottom()&&(e.top<=o.top?(m.debug("Jumped from bottom fixed to top fixed, most likely used home/end button"),m.setInitialPosition()):a.pushing?m.is.bound()&&e.bottom<=s.bottom&&(m.debug("Fixing bottom attached element to bottom of browser."),m.fixBottom()):m.is.bound()&&e.top<=s.bottom-o.height&&(m.debug("Fixing bottom attached element to top of browser."),m.fixTop())))},bindTop:function(){m.debug("Binding element to top of parent container"),m.remove.offset(),c.css({left:"",top:"",marginBottom:""}).removeClass(n.fixed).removeClass(n.bottom).addClass(n.bound).addClass(n.top),a.onTop.call(f),a.onUnstick.call(f)},bindBottom:function(){m.debug("Binding element to bottom of parent container"),m.remove.offset(),c.css({left:"",top:""}).removeClass(n.fixed).removeClass(n.top).addClass(n.bound).addClass(n.bottom),a.onBottom.call(f),a.onUnstick.call(f)},setInitialPosition:function(){m.debug("Returning to initial position"),m.unfix(),m.unbind()},fixTop:function(){m.debug("Fixing element to top of page"),m.set.minimumSize(),m.set.offset(),c.css({left:m.cache.element.left,bottom:"",marginBottom:""}).removeClass(n.bound).removeClass(n.bottom).addClass(n.fixed).addClass(n.top),a.onStick.call(f)},fixBottom:function(){m.debug("Sticking element to bottom of page"),m.set.minimumSize(),m.set.offset(),c.css({left:m.cache.element.left,bottom:"",marginBottom:""}).removeClass(n.bound).removeClass(n.top).addClass(n.fixed).addClass(n.bottom),a.onStick.call(f)},unbind:function(){m.is.bound()&&(m.debug("Removing container bound position on element"),m.remove.offset(),c.removeClass(n.bound).removeClass(n.top).removeClass(n.bottom))},unfix:function(){m.is.fixed()&&(m.debug("Removing fixed position on element"),m.remove.offset(),c.removeClass(n.fixed).removeClass(n.top).removeClass(n.bottom),a.onUnstick.call(f))},reset:function(){m.debug("Reseting elements position"),m.unbind(),m.unfix(),m.resetCSS(),m.remove.offset(),m.remove.lastScroll()},resetCSS:function(){c.css({width:"",height:""}),i.css({height:""})},setting:function(e,t){if(S.isPlainObject(e))S.extend(!0,a,e);else{if(t===E)return a[e];a[e]=t}},internal:function(e,t){if(S.isPlainObject(e))S.extend(!0,m,e);else{if(t===E)return m[e];m[e]=t}},debug:function(){a.debug&&(a.performance?m.performance.log(arguments):(m.debug=Function.prototype.bind.call(console.info,console,a.name+":"),m.debug.apply(console,arguments)))},verbose:function(){a.verbose&&a.debug&&(a.performance?m.performance.log(arguments):(m.verbose=Function.prototype.bind.call(console.info,console,a.name+":"),m.verbose.apply(console,arguments)))},error:function(){m.error=Function.prototype.bind.call(console.error,console,a.name+":"),m.error.apply(console,arguments)},performance:{log:function(e){var t,n;a.performance&&(n=(t=(new Date).getTime())-(y||t),y=t,x.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:f,"Execution Time":n})),clearTimeout(m.performance.timer),m.performance.timer=setTimeout(m.performance.display,0)},display:function(){var e=a.name+":",n=0;y=!1,clearTimeout(m.performance.timer),S.each(x,function(e,t){n+=t["Execution Time"]}),e+=" "+n+"ms",b&&(e+=" '"+b+"'"),(console.group!==E||console.table!==E)&&0<x.length&&(console.groupCollapsed(e),console.table?console.table(x):S.each(x,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),x=[]}},invoke:function(i,e,t){var o,r,n,s=h;return e=e||k,t=f||t,"string"==typeof i&&s!==E&&(i=i.split(/[\. ]/),o=i.length-1,S.each(i,function(e,t){var n=e!=o?t+i[e+1].charAt(0).toUpperCase()+i[e+1].slice(1):i;if(S.isPlainObject(s[n])&&e!=o)s=s[n];else{if(s[n]!==E)return r=s[n],!1;{if(!S.isPlainObject(s[t])||e==o)return s[t]!==E&&(r=s[t]),!1;s=s[t]}}})),S.isFunction(r)?n=r.apply(t,e):r!==E&&(n=r),S.isArray(v)?v.push(n):v!==E?v=[v,n]:n!==E&&(v=n),r}};C?(h===E&&m.initialize(),m.invoke(w)):(h!==E&&h.invoke("destroy"),m.initialize())}),v!==E?v:this},S.fn.sticky.settings={name:"Sticky",namespace:"sticky",debug:!1,verbose:!0,performance:!0,pushing:!1,context:!1,scrollContext:T,offset:0,bottomOffset:0,jitter:5,observeChanges:!1,onReposition:function(){},onScroll:function(){},onStick:function(){},onUnstick:function(){},onTop:function(){},onBottom:function(){},error:{container:"Sticky element must be inside a relative container",visible:"Element is hidden, you must call refresh after element becomes visible",method:"The method you called is not defined.",invalidContext:"Context specified does not exist",elementSize:"Sticky element is larger than its container, cannot create sticky."},className:{bound:"bound",fixed:"fixed",supported:"native",top:"top",bottom:"bottom"}}}(jQuery,window,void document),function(j,P,O,D){"use strict";j.fn.tab=function(s){var c,d=j.isFunction(this)?j(P):j(this),u=d.selector||"",h=(new Date).getTime(),S=[],T=s,E="string"==typeof T,_=[].slice.call(arguments,1),A=!1;return d.each(function(){var p,i,f,m,g,v=j.isPlainObject(s)?j.extend(!0,{},j.fn.tab.settings,s):j.extend({},j.fn.tab.settings),b=v.className,y=v.metadata,t=v.selector,x=v.error,e="."+v.namespace,n="module-"+v.namespace,w=j(this),o={},C=!0,r=0,a=this,l=w.data(n),k={initialize:function(){k.debug("Initializing tab menu item",w),k.fix.callbacks(),k.determineTabs(),k.debug("Determining tabs",v.context,i),v.auto&&k.set.auto(),k.bind.events(),v.history&&!A&&(k.initializeHistory(),A=!0),k.instantiate()},instantiate:function(){k.verbose("Storing instance of module",k),l=k,w.data(n,k)},destroy:function(){k.debug("Destroying tabs",w),w.removeData(n).off(e)},bind:{events:function(){j.isWindow(a)||(k.debug("Attaching tab activation events to element",w),w.on("click"+e,k.event.click))}},determineTabs:function(){var e;"parent"===v.context?(0<w.closest(t.ui).length?(e=w.closest(t.ui),k.verbose("Using closest UI element as parent",e)):e=w,p=e.parent(),k.verbose("Determined parent element for creating context",p)):v.context?(p=j(v.context),k.verbose("Using selector for tab context",v.context,p)):p=j("body"),v.childrenOnly?(i=p.children(t.tabs),k.debug("Searching tab context children for tabs",p,i)):(i=p.find(t.tabs),k.debug("Searching tab context for tabs",p,i))},fix:{callbacks:function(){j.isPlainObject(s)&&(s.onTabLoad||s.onTabInit)&&(s.onTabLoad&&(s.onLoad=s.onTabLoad,delete s.onTabLoad,k.error(x.legacyLoad,s.onLoad)),s.onTabInit&&(s.onFirstLoad=s.onTabInit,delete s.onTabInit,k.error(x.legacyInit,s.onFirstLoad)),v=j.extend(!0,{},j.fn.tab.settings,s))}},initializeHistory:function(){if(k.debug("Initializing page state"),j.address===D)return k.error(x.state),!1;if("state"==v.historyType){if(k.debug("Using HTML5 to manage state"),!1===v.path)return k.error(x.path),!1;j.address.history(!0).state(v.path)}j.address.bind("change",k.event.history.change)},event:{click:function(e){var t=j(this).data(y.tab);t!==D?(v.history?(k.verbose("Updating page state",e),j.address.value(t)):(k.verbose("Changing tab",e),k.changeTab(t)),e.preventDefault()):k.debug("No tab specified")},history:{change:function(e){var t=e.pathNames.join("/")||k.get.initialPath(),n=v.templates.determineTitle(t)||!1;k.performance.display(),k.debug("History change event",t,e),g=e,t!==D&&k.changeTab(t),n&&j.address.title(n)}}},refresh:function(){f&&(k.debug("Refreshing tab",f),k.changeTab(f))},cache:{read:function(e){return e!==D&&o[e]},add:function(e,t){e=e||f,k.debug("Adding cached content for",e),o[e]=t},remove:function(e){e=e||f,k.debug("Removing cached content for",e),delete o[e]}},set:{auto:function(){var e="string"==typeof v.path?v.path.replace(/\/$/,"")+"/{$tab}":"/{$tab}";k.verbose("Setting up automatic tab retrieval from server",e),j.isPlainObject(v.apiSettings)?v.apiSettings.url=e:v.apiSettings={url:e}},loading:function(e){var t=k.get.tabElement(e);t.hasClass(b.loading)||(k.verbose("Setting loading state for",t),t.addClass(b.loading).siblings(i).removeClass(b.active+" "+b.loading),0<t.length&&v.onRequest.call(t[0],e))},state:function(e){j.address.value(e)}},changeTab:function(c){var d=P.history&&P.history.pushState&&v.ignoreFirstLoad&&C,u=v.auto||j.isPlainObject(v.apiSettings),h=u&&!d?k.utilities.pathToArray(c):k.get.defaultPathArray(c);c=k.utilities.arrayToPath(h),j.each(h,function(e,t){var n,i,o=h.slice(0,e+1),r=k.utilities.arrayToPath(o),s=k.is.tab(r),a=e+1==h.length,l=k.get.tabElement(r);return k.verbose("Looking for tab",t),s?(k.verbose("Tab was found",t),f=r,m=k.utilities.filterArray(h,o),a?i=!0:(a=h.slice(0,e+2),e=k.utilities.arrayToPath(a),(i=!k.is.tab(e))&&k.verbose("Tab parameters found",a)),i&&u?(d?(k.debug("Ignoring remote content on first tab load",r),C=!1,k.cache.add(c,l.html()),k.activate.all(r),v.onFirstLoad.call(l[0],r,m,g),v.onLoad.call(l[0],r,m,g)):(k.activate.navigation(r),k.fetch.content(r,c)),!1):(k.debug("Opened local tab",r),k.activate.all(r),k.cache.read(r)||(k.cache.add(r,!0),k.debug("First time tab loaded calling tab init"),v.onFirstLoad.call(l[0],r,m,g)),void v.onLoad.call(l[0],r,m,g))):-1!=c.search("/")||""===c?(k.error(x.missingTab,w,p,r),!1):(r=(n=j("#"+c+', a[name="'+c+'"]')).closest("[data-tab]").data(y.tab),l=k.get.tabElement(r),n&&0<n.length&&r?(k.debug("Anchor link used, opening parent tab",l,n),l.hasClass(b.active)||setTimeout(function(){k.scrollTo(n)},0),k.activate.all(r),k.cache.read(r)||(k.cache.add(r,!0),k.debug("First time tab loaded calling tab init"),v.onFirstLoad.call(l[0],r,m,g)),v.onLoad.call(l[0],r,m,g),!1):void 0)})},scrollTo:function(e){var t=!!(e&&0<e.length)&&e.offset().top;!1!==t&&(k.debug("Forcing scroll to an in-page link in a hidden tab",t,e),j(O).scrollTop(t))},update:{content:function(e,t,n){var i=k.get.tabElement(e),o=i[0];(n=n!==D?n:v.evaluateScripts)?(k.debug("Updating HTML and evaluating inline scripts",e,t),i.html(t)):(k.debug("Updating HTML",e,t),o.innerHTML=t)}},fetch:{content:function(t,n){var i=k.get.tabElement(t),e={dataType:"html",encodeParameters:!1,on:"now",cache:v.alwaysRefresh,headers:{"X-Remote":!0},onSuccess:function(e){k.cache.add(n,e),k.update.content(t,e),t==f?(k.debug("Content loaded",t),k.activate.tab(t)):k.debug("Content loaded in background",t),v.onFirstLoad.call(i[0],t,m,g),v.onLoad.call(i[0],t,m,g)},urlData:{tab:n}},o=i.api("get request")||!1,r=o&&"pending"===o.state();n=n||t,o=k.cache.read(n),v.cache&&o?(k.activate.tab(t),k.debug("Adding cached content",n),"once"==v.evaluateScripts?k.update.content(t,o,!1):k.update.content(t,o),v.onLoad.call(i[0],t,m,g)):r?(k.set.loading(t),k.debug("Content is already loading",n)):j.api!==D?(e=j.extend(!0,{},v.apiSettings,e),k.debug("Retrieving remote content",n,e),k.set.loading(t),i.api(e)):k.error(x.api)}},activate:{all:function(e){k.activate.tab(e),k.activate.navigation(e)},tab:function(e){var t=k.get.tabElement(e),n=t.hasClass(b.active);k.verbose("Showing tab content for",t),n||(t.addClass(b.active).siblings(i).removeClass(b.active+" "+b.loading),0<t.length&&v.onVisible.call(t[0],e))},navigation:function(e){var t=k.get.navElement(e),n=t.hasClass(b.active);k.verbose("Activating tab navigation for",t,e),n||t.addClass(b.active).siblings(d).removeClass(b.active+" "+b.loading)}},deactivate:{all:function(){k.deactivate.navigation(),k.deactivate.tabs()},navigation:function(){d.removeClass(b.active)},tabs:function(){i.removeClass(b.active+" "+b.loading)}},is:{tab:function(e){return e!==D&&0<k.get.tabElement(e).length}},get:{initialPath:function(){return d.eq(0).data(y.tab)||i.eq(0).data(y.tab)},path:function(){return j.address.value()},defaultPathArray:function(e){return k.utilities.pathToArray(k.get.defaultPath(e))},defaultPath:function(e){var t=d.filter("[data-"+y.tab+'^="'+e+'/"]').eq(0).data(y.tab)||!1;if(t){if(k.debug("Found default tab",t),r<v.maxDepth)return r++,k.get.defaultPath(t);k.error(x.recursion)}else k.debug("No default tabs found for",e,i);return r=0,e},navElement:function(e){return e=e||f,d.filter("[data-"+y.tab+'="'+e+'"]')},tabElement:function(e){var t;return e=e||f,t=k.utilities.pathToArray(e),t=k.utilities.last(t),e=i.filter("[data-"+y.tab+'="'+e+'"]'),t=i.filter("[data-"+y.tab+'="'+t+'"]'),0<e.length?e:t},tab:function(){return f}},utilities:{filterArray:function(e,t){return j.grep(e,function(e){return-1==j.inArray(e,t)})},last:function(e){return!!j.isArray(e)&&e[e.length-1]},pathToArray:function(e){return"string"==typeof(e=e===D?f:e)?e.split("/"):[e]},arrayToPath:function(e){return!!j.isArray(e)&&e.join("/")}},setting:function(e,t){if(k.debug("Changing setting",e,t),j.isPlainObject(e))j.extend(!0,v,e);else{if(t===D)return v[e];v[e]=t}},internal:function(e,t){if(j.isPlainObject(e))j.extend(!0,k,e);else{if(t===D)return k[e];k[e]=t}},debug:function(){v.debug&&(v.performance?k.performance.log(arguments):(k.debug=Function.prototype.bind.call(console.info,console,v.name+":"),k.debug.apply(console,arguments)))},verbose:function(){v.verbose&&v.debug&&(v.performance?k.performance.log(arguments):(k.verbose=Function.prototype.bind.call(console.info,console,v.name+":"),k.verbose.apply(console,arguments)))},error:function(){k.error=Function.prototype.bind.call(console.error,console,v.name+":"),k.error.apply(console,arguments)},performance:{log:function(e){var t,n;v.performance&&(n=(t=(new Date).getTime())-(h||t),h=t,S.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:a,"Execution Time":n})),clearTimeout(k.performance.timer),k.performance.timer=setTimeout(k.performance.display,500)},display:function(){var e=v.name+":",n=0;h=!1,clearTimeout(k.performance.timer),j.each(S,function(e,t){n+=t["Execution Time"]}),e+=" "+n+"ms",u&&(e+=" '"+u+"'"),(console.group!==D||console.table!==D)&&0<S.length&&(console.groupCollapsed(e),console.table?console.table(S):j.each(S,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),S=[]}},invoke:function(i,e,t){var o,r,n,s=l;return e=e||_,t=a||t,"string"==typeof i&&s!==D&&(i=i.split(/[\. ]/),o=i.length-1,j.each(i,function(e,t){var n=e!=o?t+i[e+1].charAt(0).toUpperCase()+i[e+1].slice(1):i;if(j.isPlainObject(s[n])&&e!=o)s=s[n];else{if(s[n]!==D)return r=s[n],!1;{if(!j.isPlainObject(s[t])||e==o)return s[t]!==D?r=s[t]:k.error(x.method,i),!1;s=s[t]}}})),j.isFunction(r)?n=r.apply(t,e):r!==D&&(n=r),j.isArray(c)?c.push(n):c!==D?c=[c,n]:n!==D&&(c=n),r}};E?(l===D&&k.initialize(),k.invoke(T)):(l!==D&&l.invoke("destroy"),k.initialize())}),c!==D?c:this},j.tab=function(){j(P).tab.apply(this,arguments)},j.fn.tab.settings={name:"Tab",namespace:"tab",debug:!1,verbose:!1,performance:!0,auto:!1,history:!1,historyType:"hash",path:!1,context:!1,childrenOnly:!1,maxDepth:25,alwaysRefresh:!1,cache:!0,ignoreFirstLoad:!1,apiSettings:!1,evaluateScripts:"once",onFirstLoad:function(e,t,n){},onLoad:function(e,t,n){},onVisible:function(e,t,n){},onRequest:function(e,t,n){},templates:{determineTitle:function(e){}},error:{api:"You attempted to load content without API module",method:"The method you called is not defined",missingTab:"Activated tab cannot be found. Tabs are case-sensitive.",noContent:"The tab you specified is missing a content url.",path:"History enabled, but no path was specified",recursion:"Max recursive depth reached",legacyInit:"onTabInit has been renamed to onFirstLoad in 2.0, please adjust your code.",legacyLoad:"onTabLoad has been renamed to onLoad in 2.0. Please adjust your code",state:"History requires Asual's Address library <https://github.com/asual/jquery-address>"},metadata:{tab:"tab",loaded:"loaded",promise:"promise"},className:{loading:"loading",active:"active"},selector:{tabs:".ui.tab",ui:".ui"}}}(jQuery,window,document),function(w,e,C,k){"use strict";w.fn.transition=function(){var p,s=w(this),f=s.selector||"",m=(new Date).getTime(),g=[],v=arguments,b=v[0],y=[].slice.call(arguments,1),x="string"==typeof b;e.requestAnimationFrame||e.mozRequestAnimationFrame||e.webkitRequestAnimationFrame||e.msRequestAnimationFrame;return s.each(function(n){var a,l,t,c,i,o,e,r,d=w(this),u=this,h={initialize:function(){a=h.get.settings.apply(u,v),c=a.className,t=a.error,i=a.metadata,r="."+a.namespace,e="module-"+a.namespace,l=d.data(e)||h,o=h.get.animationEndEvent(),!1===(x=x&&h.invoke(b))&&(h.verbose("Converted arguments into settings object",a),a.interval?h.delay(a.animate):h.animate(),h.instantiate())},instantiate:function(){h.verbose("Storing instance of module",h),l=h,d.data(e,l)},destroy:function(){h.verbose("Destroying previous module for",u),d.removeData(e)},refresh:function(){h.verbose("Refreshing display type on next animation"),delete h.displayType},forceRepaint:function(){h.verbose("Forcing element repaint");var e=d.parent(),t=d.next();0===t.length?d.detach().appendTo(e):d.detach().insertBefore(t)},repaint:function(){h.verbose("Repainting element");u.offsetWidth},delay:function(e){var t=(t=h.get.animationDirection())||(h.can.transition()?h.get.direction():"static");e=e!==k?e:a.interval,t="auto"==a.reverse&&t==c.outward||1==a.reverse?(s.length-n)*a.interval:n*a.interval,h.debug("Delaying animation by",t),setTimeout(h.animate,t)},animate:function(e){if(a=e||a,!h.is.supported())return h.error(t.support),!1;if(h.debug("Preparing animation",a.animation),h.is.animating()){if(a.queue)return!a.allowRepeats&&h.has.direction()&&h.is.occurring()&&!0!==h.queuing?h.debug("Animation is currently occurring, preventing queueing same animation",a.animation):h.queue(a.animation),!1;if(!a.allowRepeats&&h.is.occurring())return h.debug("Animation is already occurring, will not execute repeated animation",a.animation),!1;h.debug("New animation started, completing previous early",a.animation),l.complete()}h.can.animate()?h.set.animating(a.animation):h.error(t.noAnimation,a.animation,u)},reset:function(){h.debug("Resetting animation to beginning conditions"),h.remove.animationCallbacks(),h.restore.conditions(),h.remove.animating()},queue:function(e){h.debug("Queueing animation of",e),h.queuing=!0,d.one(o+".queue"+r,function(){h.queuing=!1,h.repaint(),h.animate.apply(this,a)})},complete:function(e){h.debug("Animation complete",a.animation),h.remove.completeCallback(),h.remove.failSafe(),h.is.looping()||(h.is.outward()?(h.verbose("Animation is outward, hiding element"),h.restore.conditions(),h.hide()):h.is.inward()?(h.verbose("Animation is outward, showing element"),h.restore.conditions(),h.show()):(h.verbose("Static animation completed"),h.restore.conditions(),a.onComplete.call(u)))},force:{visible:function(){var e=d.attr("style"),t=h.get.userStyle(),n=h.get.displayType(),i=t+"display: "+n+" !important;",t=d.css("display"),e=e===k||""===e;t!==n?(h.verbose("Overriding default display to show element",n),d.attr("style",i)):e&&d.removeAttr("style")},hidden:function(){var e=d.attr("style"),t=d.css("display"),e=e===k||""===e;"none"===t||h.is.hidden()?e&&d.removeAttr("style"):(h.verbose("Overriding default display to hide element"),d.css("display","none"))}},has:{direction:function(e){var n=!1;return"string"==typeof(e=e||a.animation)&&(e=e.split(" "),w.each(e,function(e,t){t!==c.inward&&t!==c.outward||(n=!0)})),n},inlineDisplay:function(){var e=d.attr("style")||"";return w.isArray(e.match(/display.*?;/,""))}},set:{animating:function(e){h.remove.completeCallback(),e=e||a.animation,e=h.get.animationClass(e),h.save.animation(e),h.force.visible(),h.remove.hidden(),h.remove.direction(),h.start.animation(e)},duration:function(e,t){!(t="number"==typeof(t=t||a.duration)?t+"ms":t)&&0!==t||(h.verbose("Setting animation duration",t),d.css({"animation-duration":t}))},direction:function(e){(e=e||h.get.direction())==c.inward?h.set.inward():h.set.outward()},looping:function(){h.debug("Transition set to loop"),d.addClass(c.looping)},hidden:function(){d.addClass(c.transition).addClass(c.hidden)},inward:function(){h.debug("Setting direction to inward"),d.removeClass(c.outward).addClass(c.inward)},outward:function(){h.debug("Setting direction to outward"),d.removeClass(c.inward).addClass(c.outward)},visible:function(){d.addClass(c.transition).addClass(c.visible)}},start:{animation:function(e){e=e||h.get.animationClass(),h.debug("Starting tween",e),d.addClass(e).one(o+".complete"+r,h.complete),a.useFailSafe&&h.add.failSafe(),h.set.duration(a.duration),a.onStart.call(u)}},save:{animation:function(e){h.cache||(h.cache={}),h.cache.animation=e},displayType:function(e){"none"!==e&&d.data(i.displayType,e)},transitionExists:function(e,t){w.fn.transition.exists[e]=t,h.verbose("Saving existence of transition",e,t)}},restore:{conditions:function(){var e=h.get.currentAnimation();e&&(d.removeClass(e),h.verbose("Removing animation class",h.cache)),h.remove.duration()}},add:{failSafe:function(){var e=h.get.duration();h.timer=setTimeout(function(){d.triggerHandler(o)},e+a.failSafeDelay),h.verbose("Adding fail safe timer",h.timer)}},remove:{animating:function(){d.removeClass(c.animating)},animationCallbacks:function(){h.remove.queueCallback(),h.remove.completeCallback()},queueCallback:function(){d.off(".queue"+r)},completeCallback:function(){d.off(".complete"+r)},display:function(){d.css("display","")},direction:function(){d.removeClass(c.inward).removeClass(c.outward)},duration:function(){d.css("animation-duration","")},failSafe:function(){h.verbose("Removing fail safe timer",h.timer),h.timer&&clearTimeout(h.timer)},hidden:function(){d.removeClass(c.hidden)},visible:function(){d.removeClass(c.visible)},looping:function(){h.debug("Transitions are no longer looping"),h.is.looping()&&(h.reset(),d.removeClass(c.looping))},transition:function(){d.removeClass(c.visible).removeClass(c.hidden)}},get:{settings:function(e,t,n){return"object"==typeof e?w.extend(!0,{},w.fn.transition.settings,e):"function"==typeof n?w.extend({},w.fn.transition.settings,{animation:e,onComplete:n,duration:t}):"string"==typeof t||"number"==typeof t?w.extend({},w.fn.transition.settings,{animation:e,duration:t}):"object"==typeof t?w.extend({},w.fn.transition.settings,t,{animation:e}):"function"==typeof t?w.extend({},w.fn.transition.settings,{animation:e,onComplete:t}):w.extend({},w.fn.transition.settings,{animation:e})},animationClass:function(e){var t=e||a.animation,e=h.can.transition()&&!h.has.direction()?h.get.direction()+" ":"";return c.animating+" "+c.transition+" "+e+t},currentAnimation:function(){return!(!h.cache||h.cache.animation===k)&&h.cache.animation},currentDirection:function(){return h.is.inward()?c.inward:c.outward},direction:function(){return h.is.hidden()||!h.is.visible()?c.inward:c.outward},animationDirection:function(e){var n;return"string"==typeof(e=e||a.animation)&&(e=e.split(" "),w.each(e,function(e,t){t===c.inward?n=c.inward:t===c.outward&&(n=c.outward)})),n||!1},duration:function(e){return"string"==typeof(e=!1===(e=e||a.duration)?d.css("animation-duration")||0:e)?-1<e.indexOf("ms")?parseFloat(e):1e3*parseFloat(e):e},displayType:function(){return a.displayType||(d.data(i.displayType)===k&&h.can.transition(!0),d.data(i.displayType))},userStyle:function(e){return(e=e||d.attr("style")||"").replace(/display.*?;/,"")},transitionExists:function(e){return w.fn.transition.exists[e]},animationStartEvent:function(){var e,t=C.createElement("div"),n={animation:"animationstart",OAnimation:"oAnimationStart",MozAnimation:"mozAnimationStart",WebkitAnimation:"webkitAnimationStart"};for(e in n)if(t.style[e]!==k)return n[e];return!1},animationEndEvent:function(){var e,t=C.createElement("div"),n={animation:"animationend",OAnimation:"oAnimationEnd",MozAnimation:"mozAnimationEnd",WebkitAnimation:"webkitAnimationEnd"};for(e in n)if(t.style[e]!==k)return n[e];return!1}},can:{transition:function(e){var t,n,i,o,r=a.animation,s=h.get.transitionExists(r);if(s===k||e){if(h.verbose("Determining whether animation exists"),o=d.attr("class"),n=d.prop("tagName"),e=(t=w("<"+n+" />").addClass(o).insertAfter(d)).addClass(r).removeClass(c.inward).removeClass(c.outward).addClass(c.animating).addClass(c.transition).css("animationName"),n=t.addClass(c.inward).css("animationName"),o=t.attr("class",o).removeAttr("style").removeClass(c.hidden).removeClass(c.visible).show().css("display"),h.verbose("Determining final display state",o),h.save.displayType(o),t.remove(),e!=n)h.debug("Direction exists for animation",r),i=!0;else{if("none"==e||!e)return void h.debug("No animation defined in css",r);h.debug("Static animation found",r,o),i=!1}h.save.transitionExists(r,i)}return s!==k?s:i},animate:function(){return h.can.transition()!==k}},is:{animating:function(){return d.hasClass(c.animating)},inward:function(){return d.hasClass(c.inward)},outward:function(){return d.hasClass(c.outward)},looping:function(){return d.hasClass(c.looping)},occurring:function(e){return e="."+(e=e||a.animation).replace(" ","."),0<d.filter(e).length},visible:function(){return d.is(":visible")},hidden:function(){return"hidden"===d.css("visibility")},supported:function(){return!1!==o}},hide:function(){h.verbose("Hiding element"),h.is.animating()&&h.reset(),u.blur(),h.remove.display(),h.remove.visible(),h.set.hidden(),h.force.hidden(),a.onHide.call(u),a.onComplete.call(u)},show:function(e){h.verbose("Showing element",e),h.remove.hidden(),h.set.visible(),h.force.visible(),a.onShow.call(u),a.onComplete.call(u)},toggle:function(){h.is.visible()?h.hide():h.show()},stop:function(){h.debug("Stopping current animation"),d.triggerHandler(o)},stopAll:function(){h.debug("Stopping all animation"),h.remove.queueCallback(),d.triggerHandler(o)},clear:{queue:function(){h.debug("Clearing animation queue"),h.remove.queueCallback()}},enable:function(){h.verbose("Starting animation"),d.removeClass(c.disabled)},disable:function(){h.debug("Stopping animation"),d.addClass(c.disabled)},setting:function(e,t){if(h.debug("Changing setting",e,t),w.isPlainObject(e))w.extend(!0,a,e);else{if(t===k)return a[e];a[e]=t}},internal:function(e,t){if(w.isPlainObject(e))w.extend(!0,h,e);else{if(t===k)return h[e];h[e]=t}},debug:function(){a.debug&&(a.performance?h.performance.log(arguments):(h.debug=Function.prototype.bind.call(console.info,console,a.name+":"),h.debug.apply(console,arguments)))},verbose:function(){a.verbose&&a.debug&&(a.performance?h.performance.log(arguments):(h.verbose=Function.prototype.bind.call(console.info,console,a.name+":"),h.verbose.apply(console,arguments)))},error:function(){h.error=Function.prototype.bind.call(console.error,console,a.name+":"),h.error.apply(console,arguments)},performance:{log:function(e){var t,n;a.performance&&(n=(t=(new Date).getTime())-(m||t),m=t,g.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:u,"Execution Time":n})),clearTimeout(h.performance.timer),h.performance.timer=setTimeout(h.performance.display,500)},display:function(){var e=a.name+":",n=0;m=!1,clearTimeout(h.performance.timer),w.each(g,function(e,t){n+=t["Execution Time"]}),e+=" "+n+"ms",f&&(e+=" '"+f+"'"),1<s.length&&(e+=" ("+s.length+")"),(console.group!==k||console.table!==k)&&0<g.length&&(console.groupCollapsed(e),console.table?console.table(g):w.each(g,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),g=[]}},invoke:function(i,e,t){var o,r,n,s=l;return e=e||y,t=u||t,"string"==typeof i&&s!==k&&(i=i.split(/[\. ]/),o=i.length-1,w.each(i,function(e,t){var n=e!=o?t+i[e+1].charAt(0).toUpperCase()+i[e+1].slice(1):i;if(w.isPlainObject(s[n])&&e!=o)s=s[n];else{if(s[n]!==k)return r=s[n],!1;{if(!w.isPlainObject(s[t])||e==o)return s[t]!==k&&(r=s[t]),!1;s=s[t]}}})),w.isFunction(r)?n=r.apply(t,e):r!==k&&(n=r),w.isArray(p)?p.push(n):p!==k?p=[p,n]:n!==k&&(p=n),r!==k&&r}};h.initialize()}),p!==k?p:this},w.fn.transition.exists={},w.fn.transition.settings={name:"Transition",debug:!1,verbose:!1,performance:!0,namespace:"transition",interval:0,reverse:"auto",onStart:function(){},onComplete:function(){},onShow:function(){},onHide:function(){},useFailSafe:!0,failSafeDelay:100,allowRepeats:!1,displayType:!1,animation:"fade",duration:!1,queue:!0,metadata:{displayType:"display"},className:{animating:"animating",disabled:"disabled",hidden:"hidden",inward:"in",loading:"loading",looping:"looping",outward:"out",transition:"transition",visible:"visible"},error:{noAnimation:"There is no css animation matching the one you specified. Please make sure your css is vendor prefixed, and you have included transition css.",repeated:"That animation is already occurring, cancelling repeated animation",method:"The method you called is not defined",support:"This browser does not support CSS animations"}}}(jQuery,window,document),function(_,A,j){"use strict";_.api=_.fn.api=function(y){var x,e=_.isFunction(this)?_(A):_(this),w=e.selector||"",C=(new Date).getTime(),k=[],S=y,T="string"==typeof S,E=[].slice.call(arguments,1);return e.each(function(){var r,n,e,s,a=_.isPlainObject(y)?_.extend(!0,{},_.fn.api.settings,y):_.extend({},_.fn.api.settings),t=a.namespace,i=a.metadata,o=a.selector,l=a.error,c=a.className,d="."+t,u="module-"+t,h=_(this),p=h.closest(o.form),f=a.stateContext?_(a.stateContext):h,m=this,g=f[0],v=h.data(u),b={initialize:function(){T||b.bind.events(),b.instantiate()},instantiate:function(){b.verbose("Storing instance of module",b),v=b,h.data(u,v)},destroy:function(){b.verbose("Destroying previous module for",m),h.removeData(u).off(d)},bind:{events:function(){var e=b.get.event();e?(b.verbose("Attaching API events to element",e),h.on(e+d,b.event.trigger)):"now"==a.on&&(b.debug("Querying API endpoint immediately"),b.query())}},decode:{json:function(e){if(e!==j&&"string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}},read:{cachedResponse:function(e){var t;if(A.Storage!==j)return t=sessionStorage.getItem(e),b.debug("Using cached response",e,t),b.decode.json(t),!1;b.error(l.noStorage)}},write:{cachedResponse:function(e,t){t&&""===t?b.debug("Response empty, not caching",t):A.Storage!==j?(_.isPlainObject(t)&&(t=JSON.stringify(t)),sessionStorage.setItem(e,t),b.verbose("Storing cached response for url",e,t)):b.error(l.noStorage)}},query:function(){if(b.is.disabled())b.debug("Element is disabled API request aborted");else{if(b.is.loading()){if(!a.interruptRequests)return void b.debug("Cancelling request, previous request is still pending");b.debug("Interrupting previous request"),b.abort()}if(a.defaultData&&_.extend(!0,a.urlData,b.get.defaultData()),a.serializeForm&&(a.data=b.add.formData(a.data)),!1===b.get.settings())return b.cancelled=!0,void b.error(l.beforeSend);if(b.cancelled=!1,(n=b.get.templatedURL())||b.is.mocked()){if((n=b.add.urlData(n))||b.is.mocked()){if(r=_.extend(!0,{},a,{type:a.method||a.type,data:e,url:a.base+n,beforeSend:a.beforeXHR,success:function(){},failure:function(){},complete:function(){}}),b.debug("Querying URL",r.url),b.verbose("Using AJAX settings",r),"local"===a.cache&&b.read.cachedResponse(n))return b.debug("Response returned from local cache"),b.request=b.create.request(),void b.request.resolveWith(g,[b.read.cachedResponse(n)]);a.throttle?a.throttleFirstRequest||b.timer?(b.debug("Throttling request",a.throttle),clearTimeout(b.timer),b.timer=setTimeout(function(){b.timer&&delete b.timer,b.debug("Sending throttled request",e,r.method),b.send.request()},a.throttle)):(b.debug("Sending request",e,r.method),b.send.request(),b.timer=setTimeout(function(){},a.throttle)):(b.debug("Sending request",e,r.method),b.send.request())}}else b.error(l.missingURL)}},should:{removeError:function(){return!0===a.hideError||"auto"===a.hideError&&!b.is.form()}},is:{disabled:function(){return 0<h.filter(o.disabled).length},form:function(){return h.is("form")||f.is("form")},mocked:function(){return a.mockResponse||a.mockResponseAsync},input:function(){return h.is("input")},loading:function(){return b.request&&"pending"==b.request.state()},abortedRequest:function(e){return e&&e.readyState!==j&&0===e.readyState?(b.verbose("XHR request determined to be aborted"),!0):(b.verbose("XHR request was not aborted"),!1)},validResponse:function(e){return"json"!==a.dataType&&"jsonp"!==a.dataType||!_.isFunction(a.successTest)?(b.verbose("Response is not JSON, skipping validation",a.successTest,e),!0):(b.debug("Checking JSON returned success",a.successTest,e),a.successTest(e)?(b.debug("Response passed success test",e),!0):(b.debug("Response failed success test",e),!1))}},was:{cancelled:function(){return b.cancelled||!1},succesful:function(){return b.request&&"resolved"==b.request.state()},failure:function(){return b.request&&"rejected"==b.request.state()},complete:function(){return b.request&&("resolved"==b.request.state()||"rejected"==b.request.state())}},add:{urlData:function(o,r){var e,t;return o&&(e=o.match(a.regExp.required),t=o.match(a.regExp.optional),r=r||a.urlData,e&&(b.debug("Looking for required URL variables",e),_.each(e,function(e,t){var n=-1!==t.indexOf("$")?t.substr(2,t.length-3):t.substr(1,t.length-2),i=_.isPlainObject(r)&&r[n]!==j?r[n]:h.data(n)!==j?h.data(n):f.data(n)!==j?f.data(n):r[n];if(i===j)return b.error(l.requiredParameter,n,o),o=!1;b.verbose("Found required variable",n,i),i=a.encodeParameters?b.get.urlEncodedValue(i):i,o=o.replace(t,i)})),t&&(b.debug("Looking for optional URL variables",e),_.each(t,function(e,t){var n=-1!==t.indexOf("$")?t.substr(3,t.length-4):t.substr(2,t.length-3),i=_.isPlainObject(r)&&r[n]!==j?r[n]:h.data(n)!==j?h.data(n):f.data(n)!==j?f.data(n):r[n];o=i!==j?(b.verbose("Optional variable Found",n,i),o.replace(t,i)):(b.verbose("Optional variable not found",n),-1!==o.indexOf("/"+t)?o.replace("/"+t,""):o.replace(t,""))}))),o},formData:function(e){var t=_.fn.serializeObject!==j,n=t?p.serializeObject():p.serialize();return e=e||a.data,e=_.isPlainObject(e)?t?(b.debug("Extending existing data with form data",e,n),_.extend(!0,{},e,n)):(b.error(l.missingSerialize),b.debug("Cant extend data. Replacing data with form data",e,n),n):(b.debug("Adding form data",n),n)}},send:{request:function(){b.set.loading(),b.request=b.create.request(),b.is.mocked()?b.mockedXHR=b.create.mockedXHR():b.xhr=b.create.xhr(),a.onRequest.call(g,b.request,b.xhr)}},event:{trigger:function(e){b.query(),"submit"!=e.type&&"click"!=e.type||e.preventDefault()},xhr:{always:function(){},done:function(e,t,n){var i=this,o=(new Date).getTime()-s,r=a.loadingDuration-o,o=!!_.isFunction(a.onResponse)&&a.onResponse.call(i,_.extend(!0,{},e)),r=0<r?r:0;o&&(b.debug("Modified API response in onResponse callback",a.onResponse,o,e),e=o),0<r&&b.debug("Response completed early delaying state change by",r),setTimeout(function(){b.is.validResponse(e)?b.request.resolveWith(i,[e,n]):b.request.rejectWith(i,[n,"invalid"])},r)},fail:function(e,t,n){var i=this,o=(new Date).getTime()-s,o=a.loadingDuration-o;0<(o=0<o?o:0)&&b.debug("Response completed early delaying state change by",o),setTimeout(function(){b.is.abortedRequest(e)?b.request.rejectWith(i,[e,"aborted",n]):b.request.rejectWith(i,[e,"error",t,n])},o)}},request:{done:function(e,t){b.debug("Successful API Response",e),"local"===a.cache&&n&&(b.write.cachedResponse(n,e),b.debug("Saving server response locally",b.cache)),a.onSuccess.call(g,e,h,t)},complete:function(e,t){var n,i;b.was.succesful()?(i=e,n=t):i=b.get.responseFromXHR(n=e),b.remove.loading(),a.onComplete.call(g,i,h,n)},fail:function(e,t,n){var i=b.get.responseFromXHR(e),o=b.get.errorFromRequest(i,t,n);"aborted"==t?(b.debug("XHR Aborted (Most likely caused by page navigation or CORS Policy)",t,n),a.onAbort.call(g,t,h,e)):"invalid"==t?b.debug("JSON did not pass success test. A server-side error has most likely occurred",i):"error"==t&&e!==j&&(b.debug("XHR produced a server error",t,n),200!=e.status&&n!==j&&""!==n&&b.error(l.statusMessage+n,r.url),a.onError.call(g,o,h,e)),a.errorDuration&&"aborted"!==t&&(b.debug("Adding error state"),b.set.error(),b.should.removeError()&&setTimeout(b.remove.error,a.errorDuration)),b.debug("API Request failed",o,e),a.onFailure.call(g,i,h,e)}}},create:{request:function(){return _.Deferred().always(b.event.request.complete).done(b.event.request.done).fail(b.event.request.fail)},mockedXHR:function(){var e,t=_.Deferred().always(b.event.xhr.complete).done(b.event.xhr.done).fail(b.event.xhr.fail);return a.mockResponse?(e=_.isFunction(a.mockResponse)?(b.debug("Using mocked callback returning response",a.mockResponse),a.mockResponse.call(g,a)):(b.debug("Using specified response",a.mockResponse),a.mockResponse),t.resolveWith(g,[e,!1,{responseText:e}])):_.isFunction(a.mockResponseAsync)&&(e=function(e){b.debug("Async callback returned response",e),e?t.resolveWith(g,[e,!1,{responseText:e}]):t.rejectWith(g,[{responseText:e},!1,!1])},b.debug("Using async mocked response",a.mockResponseAsync),a.mockResponseAsync.call(g,a,e)),t},xhr:function(){var e=_.ajax(r).always(b.event.xhr.always).done(b.event.xhr.done).fail(b.event.xhr.fail);return b.verbose("Created server request",e),e}},set:{error:function(){b.verbose("Adding error state to element",f),f.addClass(c.error)},loading:function(){b.verbose("Adding loading state to element",f),f.addClass(c.loading),s=(new Date).getTime()}},remove:{error:function(){b.verbose("Removing error state from element",f),f.removeClass(c.error)},loading:function(){b.verbose("Removing loading state from element",f),f.removeClass(c.loading)}},get:{responseFromXHR:function(e){return!!_.isPlainObject(e)&&("json"==a.dataType||"jsonp"==a.dataType?b.decode.json(e.responseText):e.responseText)},errorFromRequest:function(e,t,n){return _.isPlainObject(e)&&e.error!==j?e.error:a.error[t]!==j?a.error[t]:n},request:function(){return b.request||!1},xhr:function(){return b.xhr||!1},settings:function(){var e=a.beforeSend.call(g,a);return e&&(e.success!==j&&(b.debug("Legacy success callback detected",e),e.onSuccess=e.success),e.failure!==j&&(b.debug("Legacy failure callback detected",e),b.error(l.legacyParameters,e.failure),e.onFailure=e.failure),e.complete!==j&&(b.debug("Legacy complete callback detected",e),b.error(l.legacyParameters,e.complete),e.onComplete=e.complete)),e===j&&b.error(l.noReturnedValue),e!==j?e:a},urlEncodedValue:function(e){var t=A.decodeURIComponent(e),n=A.encodeURIComponent(e);return t!==e?(b.debug("URL value is already encoded, avoiding double encoding",e),e):(b.verbose("Encoding value using encodeURIComponent",e,n),n)},defaultData:function(){var e={};return _.isWindow(m)||(b.is.input()?e.value=h.val():b.is.form()&&(e.text=h.text())),e},event:function(){return _.isWindow(m)||"now"==a.on?(b.debug("API called without element, no events attached"),!1):"auto"==a.on?h.is("input")?m.oninput!==j?"input":m.onpropertychange!==j?"propertychange":"keyup":h.is("form")?"submit":"click":a.on},templatedURL:function(e){if(e=e||h.data(i.action)||a.action||!1,n=h.data(i.url)||a.url||!1)return b.debug("Using specified url",n),n;if(e){if(b.debug("Looking up url for action",e,a.api),a.api[e]===j&&!b.is.mocked())return void b.error(l.missingAction,a.action,a.api);n=a.api[e]}else b.is.form()&&(n=h.attr("action")||f.attr("action")||!1,b.debug("No url or action specified, defaulting to form action",n));return n}},abort:function(){var e=b.get.xhr();e&&"resolved"!==e.state()&&(b.debug("Cancelling API request"),e.abort())},reset:function(){b.remove.error(),b.remove.loading()},setting:function(e,t){if(b.debug("Changing setting",e,t),_.isPlainObject(e))_.extend(!0,a,e);else{if(t===j)return a[e];a[e]=t}},internal:function(e,t){if(_.isPlainObject(e))_.extend(!0,b,e);else{if(t===j)return b[e];b[e]=t}},debug:function(){a.debug&&(a.performance?b.performance.log(arguments):(b.debug=Function.prototype.bind.call(console.info,console,a.name+":"),b.debug.apply(console,arguments)))},verbose:function(){a.verbose&&a.debug&&(a.performance?b.performance.log(arguments):(b.verbose=Function.prototype.bind.call(console.info,console,a.name+":"),b.verbose.apply(console,arguments)))},error:function(){b.error=Function.prototype.bind.call(console.error,console,a.name+":"),b.error.apply(console,arguments)},performance:{log:function(e){var t,n;a.performance&&(n=(t=(new Date).getTime())-(C||t),C=t,k.push({Name:e[0],Arguments:[].slice.call(e,1)||"","Execution Time":n})),clearTimeout(b.performance.timer),b.performance.timer=setTimeout(b.performance.display,500)},display:function(){var e=a.name+":",n=0;C=!1,clearTimeout(b.performance.timer),_.each(k,function(e,t){n+=t["Execution Time"]}),e+=" "+n+"ms",w&&(e+=" '"+w+"'"),(console.group!==j||console.table!==j)&&0<k.length&&(console.groupCollapsed(e),console.table?console.table(k):_.each(k,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),k=[]}},invoke:function(i,e,t){var o,r,n,s=v;return e=e||E,t=m||t,"string"==typeof i&&s!==j&&(i=i.split(/[\. ]/),o=i.length-1,_.each(i,function(e,t){var n=e!=o?t+i[e+1].charAt(0).toUpperCase()+i[e+1].slice(1):i;if(_.isPlainObject(s[n])&&e!=o)s=s[n];else{if(s[n]!==j)return r=s[n],!1;{if(!_.isPlainObject(s[t])||e==o)return s[t]!==j?r=s[t]:b.error(l.method,i),!1;s=s[t]}}})),_.isFunction(r)?n=r.apply(t,e):r!==j&&(n=r),_.isArray(x)?x.push(n):x!==j?x=[x,n]:n!==j&&(x=n),r}};T?(v===j&&b.initialize(),b.invoke(S)):(v!==j&&v.invoke("destroy"),b.initialize())}),x!==j?x:this},_.api.settings={name:"API",namespace:"api",debug:!1,verbose:!1,performance:!0,api:{},cache:!0,interruptRequests:!0,on:"auto",stateContext:!1,loadingDuration:0,hideError:"auto",errorDuration:2e3,encodeParameters:!0,action:!1,url:!1,base:"",urlData:{},defaultData:!0,serializeForm:!1,throttle:0,throttleFirstRequest:!0,method:"get",data:{},dataType:"json",mockResponse:!1,mockResponseAsync:!1,beforeSend:function(e){return e},beforeXHR:function(e){},onRequest:function(e,t){},onResponse:!1,onSuccess:function(e,t){},onComplete:function(e,t){},onFailure:function(e,t){},onError:function(e,t){},onAbort:function(e,t){},successTest:!1,error:{beforeSend:"The before send function has aborted the request",error:"There was an error with your request",exitConditions:"API Request Aborted. Exit conditions met",JSONParse:"JSON could not be parsed during error handling",legacyParameters:"You are using legacy API success callback names",method:"The method you called is not defined",missingAction:"API action used but no url was defined",missingSerialize:"jquery-serialize-object is required to add form data to an existing data object",missingURL:"No URL specified for api event",noReturnedValue:"The beforeSend callback must return a settings object, beforeSend ignored.",noStorage:"Caching responses locally requires session storage",parseError:"There was an error parsing your request",requiredParameter:"Missing a required URL parameter: ",statusMessage:"Server gave an error: ",timeout:"Your request timed out"},regExp:{required:/\{\$*[A-z0-9]+\}/g,optional:/\{\/\$*[A-z0-9]+\}/g},className:{loading:"loading",error:"error"},selector:{disabled:".disabled",form:"form"},metadata:{action:"action",url:"url"}}}(jQuery,window,void document),function(C,e,k){"use strict";C.fn.state=function(p){var f,m=C(this),g=m.selector||"",v=(0 in e.documentElement,(new Date).getTime()),b=[],y=p,x="string"==typeof y,w=[].slice.call(arguments,1);return m.each(function(){var o=C.isPlainObject(p)?C.extend(!0,{},C.fn.state.settings,p):C.extend({},C.fn.state.settings),a=o.error,n=o.metadata,t=o.className,e=o.namespace,i=o.states,r=o.text,s="."+e,l=e+"-module",c=C(this),d=this,u=c.data(l),h={initialize:function(){h.verbose("Initializing module"),o.automatic&&h.add.defaults(),o.context&&""!==g?C(o.context).on(g,"mouseenter"+s,h.change.text).on(g,"mouseleave"+s,h.reset.text).on(g,"click"+s,h.toggle.state):c.on("mouseenter"+s,h.change.text).on("mouseleave"+s,h.reset.text).on("click"+s,h.toggle.state),h.instantiate()},instantiate:function(){h.verbose("Storing instance of module",h),u=h,c.data(l,h)},destroy:function(){h.verbose("Destroying previous module",u),c.off(s).removeData(l)},refresh:function(){h.verbose("Refreshing selector cache"),c=C(d)},add:{defaults:function(){var n=p&&C.isPlainObject(p.states)?p.states:{};C.each(o.defaults,function(e,t){h.is[e]!==k&&h.is[e]()&&(h.verbose("Adding default states",e,d),C.extend(o.states,t,n))})}},is:{active:function(){return c.hasClass(t.active)},loading:function(){return c.hasClass(t.loading)},inactive:function(){return!c.hasClass(t.active)},state:function(e){return t[e]!==k&&c.hasClass(t[e])},enabled:function(){return!c.is(o.filter.active)},disabled:function(){return c.is(o.filter.active)},textEnabled:function(){return!c.is(o.filter.text)},button:function(){return c.is(".button:not(a, .submit)")},input:function(){return c.is("input")},progress:function(){return c.is(".ui.progress")}},allow:function(e){h.debug("Now allowing state",e),i[e]=!0},disallow:function(e){h.debug("No longer allowing",e),i[e]=!1},allows:function(e){return i[e]||!1},enable:function(){c.removeClass(t.disabled)},disable:function(){c.addClass(t.disabled)},setState:function(e){h.allows(e)&&c.addClass(t[e])},removeState:function(e){h.allows(e)&&c.removeClass(t[e])},toggle:{state:function(){var e;if(h.allows("active")&&h.is.enabled()){if(h.refresh(),C.fn.api!==k)if(e=c.api("get request"),c.api("was cancelled"))h.debug("API Request cancelled by beforesend"),o.activateTest=function(){return!1},o.deactivateTest=function(){return!1};else if(e)return void h.listenTo(e);h.change.state()}}},listenTo:function(e){h.debug("API request detected, waiting for state signal",e),e&&(r.loading&&h.update.text(r.loading),C.when(e).then(function(){"resolved"==e.state()?(h.debug("API request succeeded"),o.activateTest=function(){return!0},o.deactivateTest=function(){return!0}):(h.debug("API request failed"),o.activateTest=function(){return!1},o.deactivateTest=function(){return!1}),h.change.state()}))},change:{state:function(){h.debug("Determining state change direction"),h.is.inactive()?h.activate():h.deactivate(),o.sync&&h.sync(),o.onChange.call(d)},text:function(){h.is.textEnabled()&&(h.is.disabled()?(h.verbose("Changing text to disabled text",r.hover),h.update.text(r.disabled)):h.is.active()?r.hover?(h.verbose("Changing text to hover text",r.hover),h.update.text(r.hover)):r.deactivate&&(h.verbose("Changing text to deactivating text",r.deactivate),h.update.text(r.deactivate)):r.hover?(h.verbose("Changing text to hover text",r.hover),h.update.text(r.hover)):r.activate&&(h.verbose("Changing text to activating text",r.activate),h.update.text(r.activate)))}},activate:function(){o.activateTest.call(d)&&(h.debug("Setting state to active"),c.addClass(t.active),h.update.text(r.active),o.onActivate.call(d))},deactivate:function(){o.deactivateTest.call(d)&&(h.debug("Setting state to inactive"),c.removeClass(t.active),h.update.text(r.inactive),o.onDeactivate.call(d))},sync:function(){h.verbose("Syncing other buttons to current state"),h.is.active()?m.not(c).state("activate"):m.not(c).state("deactivate")},get:{text:function(){return o.selector.text?c.find(o.selector.text).text():c.html()},textFor:function(e){return r[e]||!1}},flash:{text:function(e,t,n){var i=h.get.text();h.debug("Flashing text message",e,t),e=e||o.text.flash,t=t||o.flashDuration,n=n||function(){},h.update.text(e),setTimeout(function(){h.update.text(i),n.call(d)},t)}},reset:{text:function(){var e=r.active||c.data(n.storedText),t=r.inactive||c.data(n.storedText);h.is.textEnabled()&&(h.is.active()&&e?(h.verbose("Resetting active text",e),h.update.text(e)):t&&(h.verbose("Resetting inactive text",e),h.update.text(t)))}},update:{text:function(e){var t=h.get.text();e&&e!==t?(h.debug("Updating text",e),o.selector.text?c.data(n.storedText,e).find(o.selector.text).text(e):c.data(n.storedText,e).html(e)):h.debug("Text is already set, ignoring update",e)}},setting:function(e,t){if(h.debug("Changing setting",e,t),C.isPlainObject(e))C.extend(!0,o,e);else{if(t===k)return o[e];o[e]=t}},internal:function(e,t){if(C.isPlainObject(e))C.extend(!0,h,e);else{if(t===k)return h[e];h[e]=t}},debug:function(){o.debug&&(o.performance?h.performance.log(arguments):(h.debug=Function.prototype.bind.call(console.info,console,o.name+":"),h.debug.apply(console,arguments)))},verbose:function(){o.verbose&&o.debug&&(o.performance?h.performance.log(arguments):(h.verbose=Function.prototype.bind.call(console.info,console,o.name+":"),h.verbose.apply(console,arguments)))},error:function(){h.error=Function.prototype.bind.call(console.error,console,o.name+":"),h.error.apply(console,arguments)},performance:{log:function(e){var t,n;o.performance&&(n=(t=(new Date).getTime())-(v||t),v=t,b.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:d,"Execution Time":n})),clearTimeout(h.performance.timer),h.performance.timer=setTimeout(h.performance.display,500)},display:function(){var e=o.name+":",n=0;v=!1,clearTimeout(h.performance.timer),C.each(b,function(e,t){n+=t["Execution Time"]}),e+=" "+n+"ms",g&&(e+=" '"+g+"'"),(console.group!==k||console.table!==k)&&0<b.length&&(console.groupCollapsed(e),console.table?console.table(b):C.each(b,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),b=[]}},invoke:function(i,e,t){var o,r,n,s=u;return e=e||w,t=d||t,"string"==typeof i&&s!==k&&(i=i.split(/[\. ]/),o=i.length-1,C.each(i,function(e,t){var n=e!=o?t+i[e+1].charAt(0).toUpperCase()+i[e+1].slice(1):i;if(C.isPlainObject(s[n])&&e!=o)s=s[n];else{if(s[n]!==k)return r=s[n],!1;{if(!C.isPlainObject(s[t])||e==o)return s[t]!==k?r=s[t]:h.error(a.method,i),!1;s=s[t]}}})),C.isFunction(r)?n=r.apply(t,e):r!==k&&(n=r),C.isArray(f)?f.push(n):f!==k?f=[f,n]:n!==k&&(f=n),r}};x?(u===k&&h.initialize(),h.invoke(y)):(u!==k&&u.invoke("destroy"),h.initialize())}),f!==k?f:this},C.fn.state.settings={name:"State",debug:!1,verbose:!1,namespace:"state",performance:!0,onActivate:function(){},onDeactivate:function(){},onChange:function(){},activateTest:function(){return!0},deactivateTest:function(){return!0},automatic:!0,sync:!1,flashDuration:1e3,filter:{text:".loading, .disabled",active:".disabled"},context:!1,error:{beforeSend:"The before send function has cancelled state change",method:"The method you called is not defined."},metadata:{promise:"promise",storedText:"stored-text"},className:{active:"active",disabled:"disabled",error:"error",loading:"loading",success:"success",warning:"warning"},selector:{text:!1},defaults:{input:{disabled:!0,loading:!0,active:!0},button:{disabled:!0,loading:!0,active:!0},progress:{active:!0,success:!0,warning:!0,error:!0}},states:{active:!0,disabled:!0,error:!0,loading:!0,success:!0,warning:!0},text:{disabled:!1,flash:!1,hover:!1,active:!1,inactive:!1,activate:!1,deactivate:!1}}}(jQuery,(window,document)),function(T,E,_,A){"use strict";T.fn.visibility=function(v){var b,e=T(this),y=e.selector||"",x=(new Date).getTime(),w=[],C=v,k="string"==typeof C,S=[].slice.call(arguments,1);return e.each(function(){var e,t,o=T.isPlainObject(v)?T.extend(!0,{},T.fn.visibility.settings,v):T.extend({},T.fn.visibility.settings),n=o.className,i=o.namespace,a=o.error,r=o.metadata,s="."+i,l="module-"+i,c=T(E),d=T(this),u=T(o.context),h=(d.selector,d.data(l)),p=E.requestAnimationFrame||E.mozRequestAnimationFrame||E.webkitRequestAnimationFrame||E.msRequestAnimationFrame||function(e){setTimeout(e,0)},f=this,m=!1,g={initialize:function(){g.debug("Initializing",o),g.setup.cache(),g.should.trackChanges()&&("image"==o.type&&g.setup.image(),"fixed"==o.type&&g.setup.fixed(),o.observeChanges&&g.observeChanges(),g.bind.events()),g.save.position(),g.is.visible()||g.error(a.visible,d),o.initialCheck&&g.checkVisibility(),g.instantiate()},instantiate:function(){g.debug("Storing instance",g),d.data(l,g),h=g},destroy:function(){g.verbose("Destroying previous module"),t&&t.disconnect(),c.off("load"+s,g.event.load).off("resize"+s,g.event.resize),u.off("scrollchange"+s,g.event.scrollchange),d.off(s).removeData(l)},observeChanges:function(){"MutationObserver"in E&&((t=new MutationObserver(function(e){g.verbose("DOM tree modified, updating visibility calculations"),g.timer=setTimeout(function(){g.verbose("DOM tree modified, updating sticky menu"),g.refresh()},100)})).observe(f,{childList:!0,subtree:!0}),g.debug("Setting up mutation observer",t))},bind:{events:function(){g.verbose("Binding visibility events to scroll and resize"),o.refreshOnLoad&&c.on("load"+s,g.event.load),c.on("resize"+s,g.event.resize),u.off("scroll"+s).on("scroll"+s,g.event.scroll).on("scrollchange"+s,g.event.scrollchange)}},event:{resize:function(){g.debug("Window resized"),o.refreshOnResize&&p(g.refresh)},load:function(){g.debug("Page finished loading"),p(g.refresh)},scroll:function(){o.throttle?(clearTimeout(g.timer),g.timer=setTimeout(function(){u.triggerHandler("scrollchange"+s,[u.scrollTop()])},o.throttle)):p(function(){u.triggerHandler("scrollchange"+s,[u.scrollTop()])})},scrollchange:function(e,t){g.checkVisibility(t)}},precache:function(e,t){for(var n=(e=!(e instanceof Array)?[e]:e).length,i=0,o=[],r=_.createElement("img"),s=function(){++i>=e.length&&T.isFunction(t)&&t()};n--;)(r=_.createElement("img")).onload=s,r.onerror=s,r.src=e[n],o.push(r)},enableCallbacks:function(){g.debug("Allowing callbacks to occur"),m=!1},disableCallbacks:function(){g.debug("Disabling all callbacks temporarily"),m=!0},should:{trackChanges:function(){return k?(g.debug("One time query, no need to bind events"),!1):(g.debug("Callbacks being attached"),!0)}},setup:{cache:function(){g.cache={occurred:{},screen:{},element:{}}},image:function(){var e=d.data(r.src);e&&(g.verbose("Lazy loading image",e),o.once=!0,o.observeChanges=!1,o.onOnScreen=function(){g.debug("Image on screen",f),g.precache(e,function(){g.set.image(e)})})},fixed:function(){g.debug("Setting up fixed"),o.once=!1,o.observeChanges=!1,o.initialCheck=!0,o.refreshOnLoad=!0,v.transition||(o.transition=!1),g.create.placeholder(),g.debug("Added placeholder",e),o.onTopPassed=function(){g.debug("Element passed, adding fixed position",d),g.show.placeholder(),g.set.fixed(),o.transition&&T.fn.transition!==A&&d.transition(o.transition,o.duration)},o.onTopPassedReverse=function(){g.debug("Element returned to position, removing fixed",d),g.hide.placeholder(),g.remove.fixed()}}},create:{placeholder:function(){g.verbose("Creating fixed position placeholder"),e=d.clone(!1).css("display","none").addClass(n.placeholder).insertAfter(d)}},show:{placeholder:function(){g.verbose("Showing placeholder"),e.css("display","block").css("visibility","hidden")}},hide:{placeholder:function(){g.verbose("Hiding placeholder"),e.css("display","none").css("visibility","")}},set:{fixed:function(){g.verbose("Setting element to fixed position"),d.addClass(n.fixed).css({position:"fixed",top:o.offset+"px",left:"auto",zIndex:"1"})},image:function(e){d.attr("src",e),o.transition?T.fn.transition!==A?d.transition(o.transition,o.duration):d.fadeIn(o.duration):d.show()}},is:{onScreen:function(){return g.get.elementCalculations().onScreen},offScreen:function(){return g.get.elementCalculations().offScreen},visible:function(){return!(!g.cache||!g.cache.element)&&!(0===g.cache.element.width&&0===g.cache.element.offset.top)}},refresh:function(){g.debug("Refreshing constants (width/height)"),"fixed"==o.type&&(g.remove.fixed(),g.remove.occurred()),g.reset(),g.save.position(),o.checkOnRefresh&&g.checkVisibility(),o.onRefresh.call(f)},reset:function(){g.verbose("Reseting all cached values"),T.isPlainObject(g.cache)&&(g.cache.screen={},g.cache.element={})},checkVisibility:function(e){g.verbose("Checking visibility of element",g.cache.element),!m&&g.is.visible()&&(g.save.scroll(e),g.save.calculations(),g.passed(),g.passingReverse(),g.topVisibleReverse(),g.bottomVisibleReverse(),g.topPassedReverse(),g.bottomPassedReverse(),g.onScreen(),g.offScreen(),g.passing(),g.topVisible(),g.bottomVisible(),g.topPassed(),g.bottomPassed(),o.onUpdate&&o.onUpdate.call(f,g.get.elementCalculations()))},passed:function(e,t){var n=g.get.elementCalculations();if(e&&t)o.onPassed[e]=t;else{if(e!==A)return g.get.pixelsPassed(e)>n.pixelsPassed;n.passing&&T.each(o.onPassed,function(e,t){n.bottomVisible||n.pixelsPassed>g.get.pixelsPassed(e)?g.execute(t,e):o.once||g.remove.occurred(t)})}},onScreen:function(e){var t=g.get.elementCalculations(),n=e||o.onOnScreen;if(e&&(g.debug("Adding callback for onScreen",e),o.onOnScreen=e),t.onScreen?g.execute(n,"onScreen"):o.once||g.remove.occurred("onScreen"),e!==A)return t.onOnScreen},offScreen:function(e){var t=g.get.elementCalculations(),n=e||o.onOffScreen;if(e&&(g.debug("Adding callback for offScreen",e),o.onOffScreen=e),t.offScreen?g.execute(n,"offScreen"):o.once||g.remove.occurred("offScreen"),e!==A)return t.onOffScreen},passing:function(e){var t=g.get.elementCalculations(),n=e||o.onPassing;if(e&&(g.debug("Adding callback for passing",e),o.onPassing=e),t.passing?g.execute(n,"passing"):o.once||g.remove.occurred("passing"),e!==A)return t.passing},topVisible:function(e){var t=g.get.elementCalculations(),n=e||o.onTopVisible,i="topVisible";if(e&&(g.debug("Adding callback for top visible",e),o.onTopVisible=e),t.topVisible?g.execute(n,i):o.once||g.remove.occurred(i),e===A)return t.topVisible},bottomVisible:function(e){var t=g.get.elementCalculations(),n=e||o.onBottomVisible,i="bottomVisible";if(e&&(g.debug("Adding callback for bottom visible",e),o.onBottomVisible=e),t.bottomVisible?g.execute(n,i):o.once||g.remove.occurred(i),e===A)return t.bottomVisible},topPassed:function(e){var t=g.get.elementCalculations(),n=e||o.onTopPassed;if(e&&(g.debug("Adding callback for top passed",e),o.onTopPassed=e),t.topPassed?g.execute(n,"topPassed"):o.once||g.remove.occurred("topPassed"),e===A)return t.topPassed},bottomPassed:function(e){var t=g.get.elementCalculations(),n=e||o.onBottomPassed,i="bottomPassed";if(e&&(g.debug("Adding callback for bottom passed",e),o.onBottomPassed=e),t.bottomPassed?g.execute(n,i):o.once||g.remove.occurred(i),e===A)return t.bottomPassed},passingReverse:function(e){var t=g.get.elementCalculations(),n=e||o.onPassingReverse,i="passingReverse";if(e&&(g.debug("Adding callback for passing reverse",e),o.onPassingReverse=e),t.passing?o.once||g.remove.occurred(i):g.get.occurred("passing")&&g.execute(n,i),e!==A)return!t.passing},topVisibleReverse:function(e){var t=g.get.elementCalculations(),n=e||o.onTopVisibleReverse,i="topVisibleReverse";if(e&&(g.debug("Adding callback for top visible reverse",e),o.onTopVisibleReverse=e),t.topVisible?o.once||g.remove.occurred(i):g.get.occurred("topVisible")&&g.execute(n,i),e===A)return!t.topVisible},bottomVisibleReverse:function(e){var t=g.get.elementCalculations(),n=e||o.onBottomVisibleReverse,i="bottomVisibleReverse";if(e&&(g.debug("Adding callback for bottom visible reverse",e),o.onBottomVisibleReverse=e),t.bottomVisible?o.once||g.remove.occurred(i):g.get.occurred("bottomVisible")&&g.execute(n,i),e===A)return!t.bottomVisible},topPassedReverse:function(e){var t=g.get.elementCalculations(),n=e||o.onTopPassedReverse,i="topPassedReverse";if(e&&(g.debug("Adding callback for top passed reverse",e),o.onTopPassedReverse=e),t.topPassed?o.once||g.remove.occurred(i):g.get.occurred("topPassed")&&g.execute(n,i),e===A)return!t.onTopPassed},bottomPassedReverse:function(e){var t=g.get.elementCalculations(),n=e||o.onBottomPassedReverse,i="bottomPassedReverse";if(e&&(g.debug("Adding callback for bottom passed reverse",e),o.onBottomPassedReverse=e),t.bottomPassed?o.once||g.remove.occurred(i):g.get.occurred("bottomPassed")&&g.execute(n,i),e===A)return!t.bottomPassed},execute:function(e,t){var n=g.get.elementCalculations(),i=g.get.screenCalculations();(e=e||!1)&&(o.continuous?(g.debug("Callback being called continuously",t,n),e.call(f,n,i)):g.get.occurred(t)||(g.debug("Conditions met",t,n),e.call(f,n,i))),g.save.occurred(t)},remove:{fixed:function(){g.debug("Removing fixed position"),d.removeClass(n.fixed).css({position:"",top:"",left:"",zIndex:""})},occurred:function(e){var t;e?(t=g.cache.occurred)[e]!==A&&!0===t[e]&&(g.debug("Callback can now be called again",e),g.cache.occurred[e]=!1):g.cache.occurred={}}},save:{calculations:function(){g.verbose("Saving all calculations necessary to determine positioning"),g.save.direction(),g.save.screenCalculations(),g.save.elementCalculations()},occurred:function(e){e&&(g.cache.occurred[e]!==A&&!0===g.cache.occurred[e]||(g.verbose("Saving callback occurred",e),g.cache.occurred[e]=!0))},scroll:function(e){e=e+o.offset||u.scrollTop()+o.offset,g.cache.scroll=e},direction:function(){var e=g.get.scroll(),t=g.get.lastScroll(),t=t<e&&t?"down":e<t&&t?"up":"static";return g.cache.direction=t,g.cache.direction},elementPosition:function(){var e=g.cache.element,t=g.get.screenSize();return g.verbose("Saving element position"),e.fits=e.height<t.height,e.offset=d.offset(),e.width=d.outerWidth(),e.height=d.outerHeight(),g.cache.element=e},elementCalculations:function(){var e=g.get.screenCalculations(),t=g.get.elementPosition();return o.includeMargin?(t.margin={},t.margin.top=parseInt(d.css("margin-top"),10),t.margin.bottom=parseInt(d.css("margin-bottom"),10),t.top=t.offset.top-t.margin.top,t.bottom=t.offset.top+t.height+t.margin.bottom):(t.top=t.offset.top,t.bottom=t.offset.top+t.height),t.topVisible=e.bottom>=t.top,t.topPassed=e.top>=t.top,t.bottomVisible=e.bottom>=t.bottom,t.bottomPassed=e.top>=t.bottom,t.pixelsPassed=0,t.percentagePassed=0,t.onScreen=t.topVisible&&!t.bottomPassed,t.passing=t.topPassed&&!t.bottomPassed,t.offScreen=!t.onScreen,t.passing&&(t.pixelsPassed=e.top-t.top,t.percentagePassed=(e.top-t.top)/t.height),g.cache.element=t,g.verbose("Updated element calculations",t),t},screenCalculations:function(){var e=g.get.scroll();return g.save.direction(),g.cache.screen.top=e,g.cache.screen.bottom=e+g.cache.screen.height,g.cache.screen},screenSize:function(){g.verbose("Saving window position"),g.cache.screen={height:u.height()}},position:function(){g.save.screenSize(),g.save.elementPosition()}},get:{pixelsPassed:function(e){var t=g.get.elementCalculations();return-1<e.search("%")?t.height*(parseInt(e,10)/100):parseInt(e,10)},occurred:function(e){return g.cache.occurred!==A&&g.cache.occurred[e]||!1},direction:function(){return g.cache.direction===A&&g.save.direction(),g.cache.direction},elementPosition:function(){return g.cache.element===A&&g.save.elementPosition(),g.cache.element},elementCalculations:function(){return g.cache.element===A&&g.save.elementCalculations(),g.cache.element},screenCalculations:function(){return g.cache.screen===A&&g.save.screenCalculations(),g.cache.screen},screenSize:function(){return g.cache.screen===A&&g.save.screenSize(),g.cache.screen},scroll:function(){return g.cache.scroll===A&&g.save.scroll(),g.cache.scroll},lastScroll:function(){return g.cache.screen===A?(g.debug("First scroll event, no last scroll could be found"),!1):g.cache.screen.top}},setting:function(e,t){if(T.isPlainObject(e))T.extend(!0,o,e);else{if(t===A)return o[e];o[e]=t}},internal:function(e,t){if(T.isPlainObject(e))T.extend(!0,g,e);else{if(t===A)return g[e];g[e]=t}},debug:function(){o.debug&&(o.performance?g.performance.log(arguments):(g.debug=Function.prototype.bind.call(console.info,console,o.name+":"),g.debug.apply(console,arguments)))},verbose:function(){o.verbose&&o.debug&&(o.performance?g.performance.log(arguments):(g.verbose=Function.prototype.bind.call(console.info,console,o.name+":"),g.verbose.apply(console,arguments)))},error:function(){g.error=Function.prototype.bind.call(console.error,console,o.name+":"),g.error.apply(console,arguments)},performance:{log:function(e){var t,n;o.performance&&(n=(t=(new Date).getTime())-(x||t),x=t,w.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:f,"Execution Time":n})),clearTimeout(g.performance.timer),g.performance.timer=setTimeout(g.performance.display,500)},display:function(){var e=o.name+":",n=0;x=!1,clearTimeout(g.performance.timer),T.each(w,function(e,t){n+=t["Execution Time"]}),e+=" "+n+"ms",y&&(e+=" '"+y+"'"),(console.group!==A||console.table!==A)&&0<w.length&&(console.groupCollapsed(e),console.table?console.table(w):T.each(w,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),w=[]}},invoke:function(i,e,t){var o,r,n,s=h;return e=e||S,t=f||t,"string"==typeof i&&s!==A&&(i=i.split(/[\. ]/),o=i.length-1,T.each(i,function(e,t){var n=e!=o?t+i[e+1].charAt(0).toUpperCase()+i[e+1].slice(1):i;if(T.isPlainObject(s[n])&&e!=o)s=s[n];else{if(s[n]!==A)return r=s[n],!1;{if(!T.isPlainObject(s[t])||e==o)return s[t]!==A?r=s[t]:g.error(a.method,i),!1;s=s[t]}}})),T.isFunction(r)?n=r.apply(t,e):r!==A&&(n=r),T.isArray(b)?b.push(n):b!==A?b=[b,n]:n!==A&&(b=n),r}};k?(h===A&&g.initialize(),h.save.scroll(),h.save.calculations(),g.invoke(C)):(h!==A&&h.invoke("destroy"),g.initialize())}),b!==A?b:this},T.fn.visibility.settings={name:"Visibility",namespace:"visibility",debug:!1,verbose:!1,performance:!0,observeChanges:!0,initialCheck:!0,refreshOnLoad:!0,refreshOnResize:!0,checkOnRefresh:!0,once:!0,continuous:!1,offset:0,includeMargin:!1,context:E,throttle:!1,type:!1,transition:"fade in",duration:1e3,onPassed:{},onOnScreen:!1,onOffScreen:!1,onPassing:!1,onTopVisible:!1,onBottomVisible:!1,onTopPassed:!1,onBottomPassed:!1,onPassingReverse:!1,onTopVisibleReverse:!1,onBottomVisibleReverse:!1,onTopPassedReverse:!1,onBottomPassedReverse:!1,onUpdate:!1,onRefresh:function(){},metadata:{src:"src"},className:{fixed:"fixed",placeholder:"placeholder"},error:{method:"The method you called is not defined.",visible:"Element is hidden, you must call refresh after element becomes visible"}}}(jQuery,window,document),function(n,e,i){"use strict";var b=2*Math.PI,y=Math.PI/2;function x(e){e=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(e,t,n,i){return t+t+n+n+i+i});e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return e?[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]:null}function w(e,t,n,i){return Math.round(n+(i-n)*e/t)}function o(e,t){t=function(){for(var e=arguments,t=e[0],n=1,i=e.length;n<i;n++){var o,r=e[n];for(o in r)r.hasOwnProperty(o)&&(t[o]=r[o])}return t}({},r.defaults,t=t||{}),this.indOption=t,(e="string"==typeof e?i.querySelector(e):e).length&&(e=e[0]),this.container=e;var n=i.createElement("canvas");e.appendChild(n),this.canElm=n,this.ctx=n.getContext("2d"),this.current_value=t.initValue||t.minValue||0}function r(e,t){t=new o(e,t);return t.init(),t}o.prototype={constructor:r,init:function(){var s,e=this.indOption,t=this.canElm,n=this.ctx,i=2*(e.radius+e.barWidth),o=i/2;return this.formatter="function"==typeof e.format?e.format:(s=e.format,function(e){if(!s)return e.toString();for(var t=(e=e||0).toString().split("").reverse(),n=s.split("").reverse(),i=0,o=0,r=n.length;i<r&&t.length;i++)"#"==n[i]&&(n[o=i]=t.shift());return n.splice(o+1,n.lastIndexOf("#")-o,t.reverse().join("")),n.reverse().join("")}),this.maxLength=e.percentage?4:this.formatter(e.maxValue).length,t.width=i,t.height=i,n.strokeStyle=e.barBgColor,n.lineWidth=e.barWidth,n.beginPath(),n.arc(o,o,e.radius,0,2*Math.PI),n.stroke(),this.imgData=n.getImageData(0,0,i,i),this.value(this.current_value),this},value:function(e){if(void 0===e||isNaN(e))return this.current_value;e=parseInt(e);var t=this.ctx,n=this.indOption,i=n.barColor,o=2*(n.radius+n.barWidth),r=n.minValue,s=n.maxValue,a=o/2;e=e<r?r:s<e?s:e;var l,c,d=Math.round(100*(e-r)/(s-r)*100)/100,s=n.percentage?d+"%":this.formatter(e);if(this.current_value=e,t.putImageData(this.imgData,0,0),"object"==typeof i)for(var u=Object.keys(i),h=1,p=u.length;h<p;h++){var f=u[h-1],m=u[h],g=i[f],v=i[m],v=e==f?g:e==m?v:f<e&&e<m&&(n.interpolate?(l=e,c=f,f=m,m=g,g=-1!=(g=v).indexOf("#")?x(g):g.match(/\d+/g),m=-1!=m.indexOf("#")?x(m):m.match(/\d+/g),f-=c,c=l-c,g&&m?"rgb("+w(c,f,m[0],g[0])+","+w(c,f,m[1],g[1])+","+w(c,f,m[2],g[2])+")":null):v);if(0!=v){i=v;break}}return t.strokeStyle=i,n.roundCorner&&(t.lineCap="round"),t.beginPath(),t.arc(a,a,n.radius,-y,b*d/100-y,!1),t.stroke(),n.displayNumber&&(r=t.font.split(" "),d=n.fontWeight,o=n.fontSize||o/(this.maxLength-(Math.floor(1.4*this.maxLength/4)-1)),r=n.fontFamily||r[r.length-1],t.fillStyle=n.fontColor||i,t.font=d+" "+o+"px "+r,t.textAlign="center",t.textBaseline="middle",t.fillText(s,a,a)),this},animate:function(e){var t=this.indOption,n=this.current_value||t.minValue,i=this,o=Math.ceil((t.maxValue-t.minValue)/(t.frameNum||(t.percentage?100:500))),r=e<n;return this.intvFunc&&clearInterval(this.intvFunc),this.intvFunc=setInterval(function(){if(!r&&e<=n||r&&n<=e){if(i.current_value==n)return void clearInterval(i.intvFunc);n=e}i.value(n),n!=e&&(n+=r?-o:o)},t.frameTime),this},option:function(e,t){if(void 0===t)return this.option[e];-1!=["radius","barWidth","barBgColor","format","maxValue","percentage"].indexOf(e)&&(this.indOption[e]=t,this.init().value(this.current_value)),this.indOption[e]=t}},r.defaults={radius:50,barWidth:5,barBgColor:"#eeeeee",barColor:"#99CC33",format:null,frameTime:10,frameNum:null,fontColor:null,fontFamily:null,fontWeight:"bold",fontSize:null,interpolate:!0,percentage:!1,displayNumber:!0,roundCorner:!1,minValue:0,maxValue:100,initValue:0},e.radialIndicator=r,n&&(n.fn.radialIndicator=function(t){return this.each(function(){var e=r(this,t);n.data(this,"radialIndicator",e)})})}(window.jQuery,window,document),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e:e(jQuery)}(function(e){e.event.special.mresize={add:function(){var t=e(this);t.data("mresize")||("static"===t.css("position")&&t.css("position","relative"),t.append("<div class='resize' style='position:absolute; width:auto; height:auto; top:0; right:0; bottom:0; left:0; margin:0; padding:0; overflow:hidden; visibility:hidden; z-index:-1'><iframe style='width:100%; height:0; border:0; visibility:visible; margin:0' /><iframe style='width:0; height:100%; border:0; visibility:visible; margin:0' /></div>").data("mresize",{w:t.width(),h:t.height(),t:null,throttle:100}).find(".resize iframe").each(function(){e(this.contentWindow||this).on("resize",function(){var e=t.data("mresize");e.w===t.width()&&e.h===t.height()||(e.t&&clearTimeout(e.t),e.t=setTimeout(function(){t.triggerHandler("mresize"),e.w=t.width(),e.h=t.height()},e.throttle))})}))},remove:function(){e(this).removeData("mresize").find(".resize").remove()}}}),function(c){var r={init:function(t){return this.each(function(){var s=c(this);s.data("uploadifive",{inputs:{},inputCount:0,fileID:0,queue:{count:0,selected:0,replaced:0,errors:0,queued:0,cancelled:0},uploads:{current:0,attempts:0,successful:0,errors:0,count:0}});var e,a=s.data("uploadifive"),l=a.settings=c.extend({auto:!0,buttonClass:!1,buttonText:StrackLang.Select_Files,checkScript:!1,dnd:!0,dropTarget:!1,fileObjName:"Filedata",fileSizeLimit:0,fileType:!1,formData:{},height:20,itemTemplate:!1,method:"post",multi:!0,overrideEvents:[],queueID:!1,queueSizeLimit:0,removeCompleted:!1,simUploadLimit:0,truncateLength:0,uploadLimit:0,uploadScript:"uploadifive.php",width:100,token:""},t);if(isNaN(l.fileSizeLimit)?(e=1.024*parseInt(l.fileSizeLimit),-1<l.fileSizeLimit.indexOf("KB")?l.fileSizeLimit=1e3*e:-1<l.fileSizeLimit.indexOf("MB")?l.fileSizeLimit=1e6*e:-1<l.fileSizeLimit.indexOf("GB")&&(l.fileSizeLimit=1e9*e)):l.fileSizeLimit=1024*l.fileSizeLimit,a.inputTemplate=c('<input type="file">').css({"font-size":l.height+"px",opacity:0,position:"absolute",right:"-3px",top:"-3px","z-index":999}),a.createInput=function(){var e=a.inputTemplate.clone(),n=e.name="input"+a.inputCount++;l.multi&&e.attr("multiple",!0),l.fileType&&e.attr("accept",l.fileType),e.bind("change",function(){a.queue.selected=0,a.queue.replaced=0,a.queue.errors=0,a.queue.queued=0;var e=this.files.length;if(a.queue.selected=e,a.queue.count+e>l.queueSizeLimit&&0!==l.queueSizeLimit)c.inArray("onError",l.overrideEvents)<0&&alert("The maximum number of queue items has been reached ("+l.queueSizeLimit+").  Please select fewer files."),"function"==typeof l.onError&&l.onError.call(s,"QUEUE_LIMIT_EXCEEDED");else{for(var t=0;t<e;t++)file=this.files[t],a.addQueueItem(file);a.inputs[n]=this,a.createInput()}l.auto&&r.upload.call(s),"function"==typeof l.onSelect&&l.onSelect.call(s,a.queue)}),a.currentInput&&a.currentInput.hide(),a.button.append(e),a.currentInput=e},a.destroyInput=function(e){c(a.inputs[e]).remove(),delete a.inputs[e],a.inputCount--},a.drop=function(e){a.queue.selected=0,a.queue.replaced=0,a.queue.errors=0,a.queue.queued=0;var t=e.dataTransfer,n=t.name="input"+a.inputCount++,i=t.files.length;if(a.queue.selected=i,a.queue.count+i>l.queueSizeLimit&&0!==l.queueSizeLimit)c.inArray("onError",l.overrideEvents)<0&&alert("The maximum number of queue items has been reached ("+l.queueSizeLimit+").  Please select fewer files."),"function"==typeof l.onError&&l.onError.call(s,"QUEUE_LIMIT_EXCEEDED");else{for(var o=0;o<i;o++)file=t.files[o],a.addQueueItem(file);a.inputs[n]=t}l.auto&&r.upload.call(s),"function"==typeof l.onDrop&&l.onDrop.call(s,t.files,t.files.length),e.preventDefault(),e.stopPropagation()},a.fileExistsInQueue=function(e){for(var t in a.inputs){input=a.inputs[t],limit=input.files.length;for(var n=0;n<limit;n++)if(existingFile=input.files[n],existingFile.name==e.name&&!existingFile.complete)return!0}return!1},a.removeExistingFile=function(e){for(var t in a.inputs){input=a.inputs[t],limit=input.files.length;for(var n=0;n<limit;n++)existingFile=input.files[n],existingFile.name!=e.name||existingFile.complete||(a.queue.replaced++,r.cancel.call(s,existingFile,!0))}},0==l.itemTemplate?a.queueItem=c('<div class="uploadifive-queue-item">                        <a class="close" href="#">X</a>                        <div><span class="filename"></span><span class="fileinfo"></span></div>                        <div class="progress">                            <div class="progress-bar"></div>                        </div>                    </div>'):a.queueItem=c(l.itemTemplate),a.addQueueItem=function(e){var t;c.inArray("onAddQueueItem",l.overrideEvents)<0&&(a.removeExistingFile(e),e.queueItem=a.queueItem.clone(),e.queueItem.attr("id",l.id+"-file-"+a.fileID++),e.queueItem.find(".close").bind("click",function(){return r.cancel.call(s,e),!1}),(t=e.name).length>l.truncateLength&&0!=l.truncateLength&&(t=t.substring(0,l.truncateLength)+"..."),e.queueItem.find(".filename").html(t),e.queueItem.data("file",e),a.queueEl.append(e.queueItem)),"function"==typeof l.onAddQueueItem&&l.onAddQueueItem.call(s,e),e.size>l.fileSizeLimit&&0!=l.fileSizeLimit?a.error("FILE_SIZE_LIMIT_EXCEEDED",e):(a.queue.queued++,a.queue.count++)},a.removeQueueItem=function(e,t,n){n=n||0;t=t?0:500;e.queueItem&&(" - Completed"!=e.queueItem.find(".fileinfo").html()&&e.queueItem.find(".fileinfo").html(" - Cancelled"),e.queueItem.find(".progress-bar").width(0),e.queueItem.delay(n).fadeOut(t,function(){c(this).remove()}),delete e.queueItem,a.queue.count--)},a.filesToUpload=function(){var e,t=0;for(e in a.inputs){input=a.inputs[e],limit=input.files.length;for(var n=0;n<limit;n++)file=input.files[n],file.skip||file.complete||t++}return t},a.checkExists=function(t){if(c.inArray("onCheck",l.overrideEvents)<0){c.ajaxSetup({async:!1});var e=c.extend(l.formData,{filename:t.name});if(c.post(l.checkScript,e,function(e){t.exists=parseInt(e)}),t.exists&&!confirm("A file named "+t.name+" already exists in the upload folder.\nWould you like to replace it?"))return r.cancel.call(s,t),!0}return"function"==typeof l.onCheck&&l.onCheck.call(s,t,t.exists),!1},a.uploadFile=function(o,r){if(!o.skip&&!o.complete&&!o.uploading)if(o.uploading=!0,a.uploads.current++,a.uploads.attempted++,xhr=o.xhr=new XMLHttpRequest,"function"==typeof FormData||"object"==typeof FormData){var e=new FormData;for(i in e.append(l.fileObjName,o),l.formData)e.append(i,l.formData[i]);xhr.open(l.method,l.uploadScript,!0),xhr.upload.addEventListener("progress",function(e){e.lengthComputable&&a.progress(e,o)},!1),xhr.setRequestHeader("token",l.token),xhr.addEventListener("load",function(e){4==this.readyState&&(o.uploading=!1,200==this.status?"Invalid file type."!==o.xhr.responseText?a.uploadComplete(e,o,r):a.error(o.xhr.responseText,o,r):404==this.status?a.error("404_FILE_NOT_FOUND",o,r):403==this.status?a.error("403_FORBIDDEN",o,r):a.error("Unknown Error",o,r))}),xhr.send(e)}else{var t=new FileReader;t.onload=function(e){var t="-------------------------"+(new Date).getTime(),n="\r\n",i="";for(key in i+="--"+t+n,i+='Content-Disposition: form-data; name="'+l.fileObjName+'"',o.name&&(i+='; filename="'+o.name+'"'),i+=n,i+="Content-Type: application/octet-stream\r\n\r\n",i+=e.target.result+n,l.formData)i+="--"+t+n,i+='Content-Disposition: form-data; name="'+key+'"'+n+n,i+=l.formData[key]+n;i+="--"+t+"--"+n,xhr.upload.addEventListener("progress",function(e){a.progress(e,o)},!1),xhr.addEventListener("load",function(e){o.uploading=!1,404==this.status?a.error("404_FILE_NOT_FOUND",o,r):"Invalid file type."!=o.xhr.responseText?a.uploadComplete(e,o,r):a.error(o.xhr.responseText,o,r)},!1);e=l.uploadScript;"get"==l.method&&(e+=c(l.formData).param()),xhr.open(l.method,l.uploadScript,!0),xhr.setRequestHeader("Content-Type","multipart/form-data; boundary="+t),xhr.setRequestHeader("token",l.token),"function"==typeof l.onUploadFile&&l.onUploadFile.call(s,o),xhr.sendAsBinary(i)},t.readAsBinaryString(o)}},a.progress=function(e,t){var n;c.inArray("onProgress",l.overrideEvents)<0&&(e.lengthComputable&&(n=Math.round(e.loaded/e.total*100)),t.queueItem.find(".fileinfo").html(" - "+n+"%"),t.queueItem.find(".progress-bar").css("width",n+"%")),"function"==typeof l.onProgress&&l.onProgress.call(s,t,e)},a.error=function(e,t,n){if(c.inArray("onError",l.overrideEvents)<0){switch(e){case"404_FILE_NOT_FOUND":errorMsg="404 Error";break;case"403_FORBIDDEN":errorMsg="403 Forbidden";break;case"FORBIDDEN_FILE_TYPE":errorMsg="Forbidden File Type";break;case"FILE_SIZE_LIMIT_EXCEEDED":errorMsg="File Too Large";break;default:errorMsg="Unknown Error"}t.queueItem.addClass("error").find(".fileinfo").html(" - "+errorMsg),t.queueItem.find(".progress").remove()}"function"==typeof l.onError&&l.onError.call(s,e,t),t.skip=!0,"404_FILE_NOT_FOUND"==e?a.uploads.errors++:a.queue.errors++,n&&r.upload.call(s,null,!0)},a.uploadComplete=function(e,t,n){c.inArray("onUploadComplete",l.overrideEvents)<0&&(t.queueItem.find(".progress-bar").css("width","100%"),t.queueItem.find(".fileinfo").html(" - Completed"),t.queueItem.find(".progress").slideUp(250),t.queueItem.addClass("complete")),"function"==typeof l.onUploadComplete&&l.onUploadComplete.call(s,t,t.xhr.responseText),l.removeCompleted&&setTimeout(function(){r.cancel.call(s,t)},300),t.complete=!0,a.uploads.successful++,a.uploads.count++,a.uploads.current--,delete t.xhr,n&&r.upload.call(s,null,!0)},a.queueComplete=function(){"function"==typeof l.onQueueComplete&&l.onQueueComplete.call(s,a.uploads)},!(window.File&&window.FileList&&window.Blob&&(window.FileReader||window.FormData)))return"function"==typeof l.onFallback&&l.onFallback.call(s),!1;l.id="uploadifive-"+s.attr("id"),a.button=c('<div id="'+l.id+'" class="uploadifive-button">'+l.buttonText+"</div>"),l.buttonClass&&a.button.addClass(l.buttonClass),a.button.css({height:l.height,"line-height":l.height+"px",overflow:"hidden",position:"relative","text-align":"center",width:l.width}),s.before(a.button).appendTo(a.button).hide(),a.createInput.call(s),l.queueID?a.queueEl=c("#"+l.queueID):(l.queueID=l.id+"-queue",a.queueEl=c('<div id="'+l.queueID+'" class="uploadifive-queue" />'),a.button.after(a.queueEl)),l.dnd&&((e=l.dropTarget?c(l.dropTarget):a.queueEl.get(0)).addEventListener("dragleave",function(e){e.preventDefault(),e.stopPropagation()},!1),e.addEventListener("dragenter",function(e){e.preventDefault(),e.stopPropagation()},!1),e.addEventListener("dragover",function(e){e.preventDefault(),e.stopPropagation()},!1),e.addEventListener("drop",a.drop,!1)),XMLHttpRequest.prototype.sendAsBinary||(XMLHttpRequest.prototype.sendAsBinary=function(e){e=Array.prototype.map.call(e,function(e){return 255&e.charCodeAt(0)}),e=new Uint8Array(e);this.send(e.buffer)}),"function"==typeof l.onInit&&l.onInit.call(s)})},debug:function(){return this.each(function(){console.log(c(this).data("uploadifive"))})},clearQueue:function(){this.each(function(){var e,t=c(this),n=t.data("uploadifive"),o=n.settings;for(e in n.inputs)for(input=n.inputs[e],limit=input.files.length,i=0;i<limit;i++)file=input.files[i],r.cancel.call(t,file);"function"==typeof o.onClearQueue&&o.onClearQueue.call(t,c("#"+n.settings.queueID))})},addQueueItem:function(e){this.each(function(){c(this).data("uploadifive").addQueueItem(e)})},cancel:function(i,o){this.each(function(){var e=c(this),t=e.data("uploadifive"),n=t.settings;"string"==typeof i&&(isNaN(i)||(fileID="uploadifive-"+c(this).attr("id")+"-file-"+i),i=c("#"+fileID).data("file")),i.skip=!0,t.filesCancelled++,i.uploading&&(t.uploads.current--,i.uploading=!1,i.xhr.abort(),delete i.xhr,r.upload.call(e)),c.inArray("onCancel",n.overrideEvents)<0&&t.removeQueueItem(i,o),"function"==typeof n.onCancel&&n.onCancel.call(e,i)})},upload:function(o,r){this.each(function(){var e,t=c(this),n=t.data("uploadifive"),i=n.settings;o?n.uploadFile.call(t,o):n.uploads.count+n.uploads.current<i.uploadLimit||0==i.uploadLimit?(r||(n.uploads.attempted=0,n.uploads.successsful=0,n.uploads.errors=0,e=n.filesToUpload(),"function"==typeof i.onUpload&&i.onUpload.call(t,e)),c("#"+i.queueID).find(".uploadifive-queue-item").not(".error, .complete").each(function(){return _file=c(this).data("file"),!(n.uploads.current>=i.simUploadLimit&&0!==i.simUploadLimit||n.uploads.current>=i.uploadLimit&&0!==i.uploadLimit||n.uploads.count>=i.uploadLimit&&0!==i.uploadLimit)&&void(i.checkScript?(_file.checking=!0,skipFile=n.checkExists(_file),_file.checking=!1,skipFile||n.uploadFile(_file,!0)):n.uploadFile(_file,!0))}),0==c("#"+i.queueID).find(".uploadifive-queue-item").not(".error, .complete").size()&&n.queueComplete()):0==n.uploads.current&&(c.inArray("onError",i.overrideEvents)<0&&0<n.filesToUpload()&&0!=i.uploadLimit&&alert("The maximum upload limit has been reached."),"function"==typeof i.onError&&i.onError.call(t,"UPLOAD_LIMIT_EXCEEDED",n.filesToUpload()))})},destroy:function(){this.each(function(){var e=c(this),t=e.data("uploadifive"),n=t.settings;r.clearQueue.call(e),n.queueID||c("#"+n.queueID).remove(),e.siblings("input").remove(),e.show().insertBefore(t.button),t.button.remove(),"function"==typeof n.onDestroy&&n.onDestroy.call(e)})},settings:function(t,n,i){this.each(function(){var e=c(this).data("uploadifive").settings;t&&n&&(e[t][n]=i)})}};c.fn.uploadifive=function(e){return r[e]?r[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void c.error("The method "+e+" does not exist in $.uploadify"):r.init.apply(this,arguments)}}(jQuery),function(e,t){"function"==typeof define&&define.amd?define([],t):"object"==typeof module&&module.exports?module.exports=t():e.CSV=t()}(this,function(){"use strict";var r=["|","^"],n=[",",";","\t","|","^"],i=["\r\n","\r","\n"];var y=Array.isArray||function(e){return"[object Array]"===toString.call(e)};function u(e){return"string"==typeof e}function o(e,t){return null!=e?e:t}function h(e,t){for(var n=0,i=e.length;n<i&&!1!==t(e[n],n);n+=1);}function s(e){return e.replace(/"/g,'\\"')}function a(e){return"attrs["+e+"]"}function l(e,t){return isNaN(Number(e))?0==(e=e)||1==e?"Boolean("+a(t)+" == true)":"String("+a(t)+")":"Number("+a(t)+")"}function x(n,i,e,o){var r=[],r=3==arguments.length?(i?y(i)?h(e,function(e,t){u(i[t])?i[t]=i[t].toLowerCase():n[i[t]]=i[t],r.push("deserialize[cast["+t+"]]("+a(t)+")")}):h(e,function(e,t){r.push(l(e,t))}):h(e,function(e,t){r.push(a(t))}),"return ["+r.join(",")+"]"):(i?y(i)?h(e,function(e,t){u(i[t])?i[t]=i[t].toLowerCase():n[i[t]]=i[t],r.push('"'+s(o[t])+'": deserialize[cast['+t+"]]("+a(t)+")")}):h(e,function(e,t){r.push('"'+s(o[t])+'": '+l(e,t))}):h(e,function(e,t){r.push('"'+s(o[t])+'": '+a(t))}),"return {"+r.join(",")+"}");return new Function("attrs","deserialize","cast",r)}function c(n,e){var i,o=0;return h(e,function(e){var t=e;-1!=r.indexOf(e)&&(t="\\"+t),(t=n.match(new RegExp(t,"g")))&&t.length>o&&(o=t.length,i=e)}),i||e[0]}var d=(e.prototype.set=function(e,t){return this.options[e]=t},e.prototype.isParser=function(){return"parse"==this.mode},e.prototype.isEncoder=function(){return"encode"==this.mode},e.prototype.parse=function(e){if("parse"==this.mode){if(0===this.data.trim().length)return[];var t,n,i,o=this.data,r=this.options,s=r.header,a={cell:"",line:[]},l=this.deserialize;e||(i=[],e=function(e){i.push(e)}),1==r.lineDelimiter.length&&(v=g);var c,d,u,h=o.length,p=r.cellDelimiter.charCodeAt(0),f=r.lineDelimiter.charCodeAt(r.lineDelimiter.length-1);for(m(),d=c=0;c<h;c++)u=o.charCodeAt(c),t.cell&&(t.cell=!1,34==u)?t.escaped=!0:t.escaped&&34==u?t.quote=!t.quote:(t.escaped&&t.quote||!t.escaped)&&(u==p?(g(a.cell+o.slice(d,c)),d=c+1):u==f&&(v(a.cell+o.slice(d,c)),d=c+1,(1<a.line.length||""!==a.line[0])&&b(),a.line=[]));return i||this}function m(){t={escaped:!1,quote:!1,cell:!0}}function g(e){a.line.push(t.escaped?e.slice(1,-1).replace(/""/g,'"'):e),a.cell="",m()}function v(e){g(e.slice(0,1-r.lineDelimiter.length))}function b(){s?y(s)?(n=x(l,r.cast,a.line,s),(b=function(){w(e,n,a.line,l,r.cast)})()):s=a.line:(n=n||x(l,r.cast,a.line),(b=function(){w(e,n,a.line,l,r.cast)})())}},e.prototype.deserialize={string:function(e){return String(e)},number:function(e){return Number(e)},boolean:function(e){return Boolean(e)}},e.prototype.serialize={object:function(n){var i=this,e=Object.keys(n),o=Array(e.length);return h(e,function(e,t){o[t]=i[p(n[e])](n[e])}),o},array:function(e){var n=this,i=Array(e.length);return h(e,function(e,t){i[t]=n[p(e)](e)}),i},string:function(e){return'"'+String(e).replace(/"/g,'""')+'"'},null:function(e){return""},primitive:function(e){return e}},e.prototype.encode=function(o){if("encode"==this.mode){if(0==this.data.length)return"";var t,n,e=this.data,i=this.options,r=i.header,s=e[0],a=this.serialize,l=0;o||(n=Array(e.length),o=function(e,t){n[t+l]=e}),r&&(y(r)||(r=t=Object.keys(s)),o(d(a.array(r)),0),l=1);var c,r=p(s);return"array"==r?(y(i.cast)?(c=Array(i.cast.length),h(i.cast,function(e,t){u(e)?c[t]=e.toLowerCase():(c[t]=e,a[e]=e)})):(c=Array(s.length),h(s,function(e,t){c[t]=p(e)})),h(e,function(e,t){var n=Array(c.length);h(e,function(e,t){n[t]=a[c[t]](e)}),o(d(n),t)})):"object"==r&&(t=Object.keys(s),y(i.cast)?(c=Array(i.cast.length),h(i.cast,function(e,t){u(e)?c[t]=e.toLowerCase():(c[t]=e,a[e]=e)})):(c=Array(t.length),h(t,function(e,t){c[t]=p(s[e])})),h(e,function(n,e){var i=Array(t.length);h(t,function(e,t){i[t]=a[c[t]](n[e])}),o(d(i),e)})),n?n.join(i.lineDelimiter):this}function d(e){return e.join(i.cellDelimiter)}},e.prototype.forEach=function(e){return this[this.mode](e)},e);function e(e,t){if(t=t||{},y(e))this.mode="encode";else{if(!u(e))throw new Error("Incompatible format!");this.mode="parse"}this.data=e,this.options={header:o(t.header,!1),cast:o(t.cast,!0)};e=t.lineDelimiter||t.line,t=t.cellDelimiter||t.delimiter;this.isParser()?(this.options.lineDelimiter=e||c(this.data,i),this.options.cellDelimiter=t||c(this.data,n),this.data=function(e,t){e.slice(-t.length)!=t&&(e+=t);return e}(this.data,this.options.lineDelimiter)):this.isEncoder()&&(this.options.lineDelimiter=e||"\r\n",this.options.cellDelimiter=t||",")}function w(e,t,n,i,o){e(new t(n,i,o))}function p(e){return y(e)?"array":"function"==(n=typeof(t=e))||"object"==n&&t?"object":u(e)?"string":null==e?"null":"primitive";var t,n}return d.parse=function(e,t){return new d(e,t).parse()},d.encode=function(e,t){return new d(e,t).encode()},d.forEach=function(e,t,n){return 2==arguments.length&&(n=t),new d(e,t).forEach(n)},d}),function(he){function pe(e,t){return this instanceof pe?(he.isPlainObject(e)?t=e:(t=t||{}).alias=e,this.el=void 0,this.opts=he.extend(!0,{},this.defaults,t),this.noMasksCache=t&&void 0!==t.definitions,this.userOptions=t||{},this.events={},void c(this.opts.alias,t,this.opts)):new pe(e,t)}function c(e,t,n){var i=n.aliases[e];return i?(i.alias&&c(i.alias,void 0,n),he.extend(!0,n,i),he.extend(!0,n,t),!0):(null===n.mask&&(n.mask=e),!1)}function r(C,o){function r(e){function t(e,t,n,i){this.matches=[],this.isGroup=e||!1,this.isOptional=t||!1,this.isQuantifier=n||!1,this.isAlternator=i||!1,this.quantifier={min:1,max:1}}function o(e,t,n){var i=C.definitions[t];n=void 0!==n?n:e.matches.length;var o=e.matches[n-1];if(i&&!u){i.placeholder=he.isFunction(i.placeholder)?i.placeholder(C):i.placeholder;for(var r=i.prevalidator,s=r?r.length:0,a=1;a<i.cardinality;a++){var l=a<=s?r[a-1]:[],c=l.validator,l=l.cardinality;e.matches.splice(n++,0,{fn:c?"string"==typeof c?new RegExp(c):new function(){this.test=c}:new RegExp("."),cardinality:l||1,optionality:e.isOptional,newBlockMarker:void 0===o||o.def!==(i.definitionSymbol||t),casing:i.casing,def:i.definitionSymbol||t,placeholder:i.placeholder,mask:t}),o=e.matches[n-1]}e.matches.splice(n++,0,{fn:i.validator?"string"==typeof i.validator?new RegExp(i.validator):new function(){this.test=i.validator}:new RegExp("."),cardinality:i.cardinality,optionality:e.isOptional,newBlockMarker:void 0===o||o.def!==(i.definitionSymbol||t),casing:i.casing,def:i.definitionSymbol||t,placeholder:i.placeholder,mask:t})}else e.matches.splice(n++,0,{fn:null,cardinality:0,optionality:e.isOptional,newBlockMarker:void 0===o||o.def!==t,casing:null,def:C.staticDefinitionSymbol||t,placeholder:void 0!==C.staticDefinitionSymbol?t:void 0,mask:t}),u=!1}function r(e,t){e.isGroup&&(e.isGroup=!1,o(e,C.groupmarker.start,0),!0!==t&&o(e,C.groupmarker.end))}function n(e,t,n,i){0<t.matches.length&&(void 0===i||i)&&r(t.matches[t.matches.length-1]),o(t,e)}function i(){if(0<p.length){if(a=p[p.length-1],n(v,a,0,!a.isAlternator),a.isAlternator){m=p.pop();for(var e=0;e<m.matches.length;e++)m.matches[e].isGroup=!1;0<p.length?(a=p[p.length-1]).matches.push(m):h.matches.push(m)}}else n(v,h)}for(var s,a,l,c,d=/(?:[?*+]|\{[0-9\+\*]+(?:,[0-9\+\*]*)?\})|[^.?*+^${[]()|\\]+|./g,u=!1,h=new t,p=[],f=[];b=d.exec(e);)if(v=b[0],u)i();else switch(v.charAt(0)){case C.escapeChar:u=!0;break;case C.optionalmarker.end:case C.groupmarker.end:if(void 0!==(s=p.pop()))if(0<p.length){if((a=p[p.length-1]).matches.push(s),a.isAlternator){for(var m=p.pop(),g=0;g<m.matches.length;g++)m.matches[g].isGroup=!1;0<p.length?(a=p[p.length-1]).matches.push(m):h.matches.push(m)}}else h.matches.push(s);else i();break;case C.optionalmarker.start:p.push(new t(!1,!0));break;case C.groupmarker.start:p.push(new t(!0));break;case C.quantifiermarker.start:var v,b,y=new t(!1,!1,!0),x=(v=v.replace(/[{}]/g,"")).split(","),w=isNaN(x[0])?x[0]:parseInt(x[0]),x=1===x.length?w:isNaN(x[1])?x[1]:parseInt(x[1]);y.quantifier={min:w="*"===x||"+"===x?"*"===x?0:1:w,max:x},0<p.length?((b=(x=p[p.length-1].matches).pop()).isGroup||((c=new t(!0)).matches.push(b),b=c),x.push(b),x.push(y)):((b=h.matches.pop()).isGroup||((c=new t(!0)).matches.push(b),b=c),h.matches.push(b),h.matches.push(y));break;case C.alternatormarker:(l=0<p.length?(a=p[p.length-1]).matches.pop():h.matches.pop()).isAlternator?p.push(l):((m=new t(!1,!1,!1,!0)).matches.push(l),p.push(m));break;default:i()}for(;0<p.length;)r(s=p.pop(),!0),h.matches.push(s);return 0<h.matches.length&&(r(l=h.matches[h.matches.length-1]),f.push(h)),C.numericInput&&function e(t){for(var n in t.matches=t.matches.reverse(),t.matches){var i,o=parseInt(n);t.matches[n].isQuantifier&&t.matches[o+1]&&t.matches[o+1].isGroup&&(i=t.matches[n],t.matches.splice(n,1),t.matches.splice(o+1,0,i)),void 0!==t.matches[n].matches?t.matches[n]=e(t.matches[n]):t.matches[n]=((n=t.matches[n])===C.optionalmarker.start?n=C.optionalmarker.end:n===C.optionalmarker.end?n=C.optionalmarker.start:n===C.groupmarker.start?n=C.groupmarker.end:n===C.groupmarker.end&&(n=C.groupmarker.start),n)}return t}(f[0]),f}function e(e,t){var n,i;if(null!==e&&""!==e)return 1===e.length&&!1===C.greedy&&0!==C.repeat&&(C.placeholder=""),(0<C.repeat||"*"===C.repeat||"+"===C.repeat)&&(n="*"===C.repeat?0:"+"===C.repeat?1:C.repeat,e=C.groupmarker.start+e+C.groupmarker.end+C.quantifiermarker.start+n+","+C.repeat+C.quantifiermarker.end),void 0===pe.prototype.masksCache[e]||!0===o?(i={mask:e,maskToken:r(e),validPositions:{},_buffer:void 0,buffer:void 0,tests:{},metadata:t},!0!==o&&(pe.prototype.masksCache[C.numericInput?e.split("").reverse().join(""):e]=i,i=he.extend(!0,{},pe.prototype.masksCache[C.numericInput?e.split("").reverse().join(""):e]))):i=he.extend(!0,{},pe.prototype.masksCache[C.numericInput?e.split("").reverse().join(""):e]),i}function n(e){return e.toString()}var t;if(he.isFunction(C.mask)&&(C.mask=C.mask(C)),he.isArray(C.mask)){if(1<C.mask.length){C.keepStatic=null===C.keepStatic||C.keepStatic;var i="(";return he.each(C.numericInput?C.mask.reverse():C.mask,function(e,t){1<i.length&&(i+=")|("),i+=n(void 0===t.mask||he.isFunction(t.mask)?t:t.mask)}),e(i+=")",C.mask)}C.mask=C.mask.pop()}return t=C.mask?void 0===C.mask.mask||he.isFunction(C.mask.mask)?e(n(C.mask),C.mask):e(n(C.mask.mask),C.mask):t}function fe(t,R,E){function n(e,t,n){t=t||0;var i,o,r,s=[],a=0,l=A();do{}while(!0===e&&R.validPositions[a]?(o=(i=R.validPositions[a]).match,r=i.locator.slice(),s.push(!0===n?i.input:O(a,o))):(o=(i=j(a,r,a-1)).match,r=i.locator.slice(),(!1===E.jitMasking||a<l||isFinite(E.jitMasking)&&E.jitMasking>a)&&s.push(O(a,o))),a++,(void 0===J||a-1<J)&&null!==o.fn||null===o.fn&&""!==o.def||a<=t);return""===s[s.length-1]&&s.pop(),s}function _(e){var t=R;!(t.buffer=void 0)!==e&&(t.tests={},t._buffer=void 0,t.validPositions={},t.p=0)}function A(e,t,n){var i,o=-1,r=-1,s=n||R.validPositions;for(i in void 0===e&&(e=-1),s){var a=parseInt(i);s[a]&&(t||null!==s[a].match.fn)&&(a<=e&&(o=a),e<=a&&(r=a))}return-1!==o&&1<e-o||r<e?o:r}function b(e,t,n,i){if(i||E.insertMode&&void 0!==R.validPositions[e]&&void 0===n){for(var o=he.extend(!0,{},R.validPositions),r=A(),s=e;s<=r;s++)delete R.validPositions[s];R.validPositions[e]=t;var a=!0,l=R.validPositions,c=!1;for(s=f=e;s<=r;s++){var d=o[s];if(void 0!==d)for(var u=f,h=-1;u<k()&&(null==d.match.fn&&l[s]&&(!0===l[s].match.optionalQuantifier||!0===l[s].match.optionality)||null!=d.match.fn);){if(null===d.match.fn||!E.keepStatic&&l[s]&&(void 0!==l[s+1]&&1<x(s+1,l[s].locator.slice(),s).length||void 0!==l[s].alternation)?u++:u=S(f),!1===c&&o[u]&&o[u].match.def===d.match.def){R.validPositions[u]=he.extend(!0,{},o[u]),R.validPositions[u].input=d.input,f=u,a=!0;break}if(m(u,d.match.def)){var p=P(u,d.input,!0,!0),a=!1!==p,f=p.caret||p.insert?A():u,c=!0;if(a)break}else{if(a=null==d.match.fn,h===u)break;h=u}}if(!a)break}if(!a)return R.validPositions=he.extend(!0,{},o),_(!0),0}else R.validPositions[e]=t;return _(!0),1}function y(e,t,n,i){var o,r=e,s=he.extend(!0,{},R.validPositions),a=!1;for(R.p=e,o=t-1;r<=o;o--)void 0===R.validPositions[o]||!0!==n&&(function(e){var t=R.validPositions[e];if(void 0!==t&&null===t.match.fn){t=R.validPositions[e-1],e=R.validPositions[e+1];return void 0!==t&&void 0!==e}}(o)||!1===E.canClearPosition(R,o,A(),i,E))||delete R.validPositions[o];for(_(!0),o=r+1;o<=A();){for(;void 0!==R.validPositions[r];)r++;var l=R.validPositions[r];o<r&&(o=r+1),void 0===R.validPositions[o]&&p(o)||void 0!==l?o++:(l=j(o),!1===a&&s[r]&&s[r].match.def===l.match.def?(R.validPositions[r]=he.extend(!0,{},s[r]),R.validPositions[r].input=l.input,delete R.validPositions[o],o++):m(r,l.match.def)?!1!==P(r,l.input||O(o),!0)&&(delete R.validPositions[o],o++,a=!0):p(o)||(o++,r--),r++)}_(!0)}function j(e,t,n){var i=R.validPositions[e];if(void 0===i)for(var o=x(e,t,n),n=A(),r=R.validPositions[n]||x(0)[0],s=void 0!==r.alternation?r.locator[r.alternation].toString().split(","):[],a=0;a<o.length&&!((i=o[a]).match&&(E.greedy&&!0!==i.match.optionalQuantifier||(!1===i.match.optionality||!1===i.match.newBlockMarker)&&!0!==i.match.optionalQuantifier)&&(void 0===r.alternation||r.alternation!==i.alternation||void 0!==i.locator[r.alternation]&&h(i.locator[r.alternation].toString().split(","),s)));a++);return i}function l(e){return(R.validPositions[e]||x(e)[0]).match}function m(e,t){for(var n=!1,i=x(e),o=0;o<i.length;o++)if(i[o].match&&i[o].match.def===t){n=!0;break}return n}function L(e,i){var o,r;return(R.tests[e]||R.validPositions[e])&&he.each(R.tests[e]||[R.validPositions[e]],function(e,t){var n=t.alternation?t.locator[t.alternation].toString().indexOf(i):-1;(void 0===r||n<r)&&-1!==n&&(o=t,r=n)}),o}function x(A,e,t){function j(T,E,e,t){function _(e,n,t){function r(n,i){var o=0===he.inArray(n,i.matches);return o||he.each(i.matches,function(e,t){return(!0!==t.isQuantifier||!(o=r(n,i.matches[e-1])))&&void 0}),o}if(1e4<O)throw"Inputmask: There is probably an error in your mask definition or in the code. Create an issue on github with an example of the mask you are using. "+R.mask;if(O===A&&void 0===e.matches)return D.push({match:e,locator:n.reverse(),cd:N}),!0;if(void 0!==e.matches){if(e.isGroup&&t!==e){if(e=_(T.matches[he.inArray(e,T.matches)+1],n))return!0}else if(e.isOptional){var i=e;if(e=j(e,E,n,t)){if(!r(P=D[D.length-1].match,i))return!0;I=!0,O=A}}else if(e.isAlternator){var o,s=e,a=[],i=D.slice(),l=n.length,c=0<E.length?E.shift():-1;if(-1===c||"string"==typeof c){var d=O,u=E.slice(),h=[];if("string"==typeof c)h=c.split(",");else for(m=0;m<s.matches.length;m++)h.push(m);for(var p=0;p<h.length;p++){var f,m=parseInt(h[p]);D=[],E=(S=L(O,S=m))?S.locator.slice(S.alternation+1):[],!0!==(e=_(s.matches[m]||T.matches[m],[m].concat(n),t)||e)&&void 0!==e&&h[h.length-1]<s.matches.length&&(f=he.inArray(e,T.matches)+1,T.matches.length>f&&((e=_(T.matches[f],[f].concat(n.slice(1,n.length)),t))&&(h.push(f.toString()),he.each(D,function(e,t){t.alternation=n.length-1})))),o=D.slice(),O=d,D=[];for(var g=0;g<u.length;g++)E[g]=u[g];for(var v=0;v<o.length;v++){var b=o[v];b.alternation=b.alternation||l;for(var y=0;y<a.length;y++){var x=a[y];if(b.match.def===x.match.def&&("string"!=typeof c||-1!==he.inArray(b.locator[b.alternation].toString(),h))){b.match.mask===x.match.mask&&(o.splice(v,1),v--),-1===x.locator[b.alternation].toString().indexOf(b.locator[b.alternation])&&(x.locator[b.alternation]=x.locator[b.alternation]+","+b.locator[b.alternation],x.alternation=b.alternation);break}}}a=a.concat(o)}"string"==typeof c&&(a=he.map(a,function(e,t){if(isFinite(t)){var n=e.alternation,i=e.locator[n].toString().split(",");e.locator[n]=void 0,e.alternation=void 0;for(var o=0;o<i.length;o++)-1!==he.inArray(i[o],h)&&(void 0!==e.locator[n]?(e.locator[n]+=",",e.locator[n]+=i[o]):e.locator[n]=parseInt(i[o]),e.alternation=n);if(void 0!==e.locator[n])return e}})),D=i.concat(a),O=A,I=0<D.length}else e=_(s.matches[c]||T.matches[c],[c].concat(n),t);if(e)return!0}else if(e.isQuantifier&&t!==T.matches[he.inArray(e,T.matches)-1])for(var w=e,C=0<E.length?E.shift():0;C<(isNaN(w.quantifier.max)?C+1:w.quantifier.max)&&O<=A;C++){var k=T.matches[he.inArray(w,T.matches)-1];if(e=_(k,[C].concat(n),k)){if((P=D[D.length-1].match).optionalQuantifier=C>w.quantifier.min-1,r(P,k)){if(C>w.quantifier.min-1){I=!0,O=A;break}return!0}return!0}}else if(e=j(e,E,n,t))return!0}else O++;var S}for(var n=0<E.length?E.shift():0;n<T.matches.length;n++)if(!0!==T.matches[n].isQuantifier){var i=_(T.matches[n],[n].concat(e),t);if(i&&O===A)return i;if(A<O)break}}var P,n,i,o=R.maskToken,O=e?t:0,r=e||[0],D=[],I=!1,N=e?e.join(""):"";if(-1<A){if(void 0===e){for(var s,a=A-1;void 0===(s=R.validPositions[a]||R.tests[a])&&-1<a;)a--;void 0!==s&&-1<a&&(n=s,i=[],void 0===(n=!he.isArray(n)?[n]:n)[0].alternation?i=n[0].locator.slice():he.each(n,function(e,t){if(""!==t.def)if(0===i.length)i=t.locator.slice();else for(var n=0;n<i.length;n++)t.locator[n]&&-1===i[n].toString().indexOf(t.locator[n])&&(i[n]+=","+t.locator[n])}),N=(r=i).join(""),O=a)}if(R.tests[A]&&R.tests[A][0].cd===N)return R.tests[A];for(var l=r.shift();l<o.length;l++)if(j(o[l],r,[l])&&O===A||A<O)break}return 0!==D.length&&!I||D.push({match:{fn:null,cardinality:0,optionality:!0,casing:null,def:""},locator:[]}),R.tests[A]=he.extend(!0,[],D),R.tests[A]}function c(){return void 0===R._buffer&&(R._buffer=n(!1,1)),R._buffer}function w(e){if(void 0===R.buffer||!0===e){if(!0===e)for(var t in R.tests)void 0===R.validPositions[t]&&delete R.tests[t];R.buffer=n(!0,A(),!0)}return R.buffer}function C(e,t,n){var i;if(!0===e)_(),e=0,t=n.length;else for(i=e;i<t;i++)delete R.validPositions[i],delete R.tests[i];for(i=e;i<t;i++)_(!0),n[i]!==E.skipOptionalPartCharacter&&P(i,n[i],!0,!0)}function h(e,t){for(var n=E.greedy?t:t.slice(0,1),i=!1,o=0;o<e.length;o++)if(-1!==he.inArray(e[o],n)){i=!0;break}return i}function P(g,e,t,n){function v(e){return Z?1<e.begin-e.end||e.begin-e.end==1&&E.insertMode:1<e.end-e.begin||e.end-e.begin==1&&E.insertMode}function i(u,h,p,f){var m=!1;return he.each(x(u),function(e,t){for(var n,i=t.match,o=h?1:0,r="",s=i.cardinality;o<s;s--)r+=(n=u-(s-1),void 0===R.validPositions[n]?O(n):R.validPositions[n].input);if(h&&(r+=h),w(!0),!1!==(m=null!=i.fn?i.fn.test(r,R,u,p,E,v(g)):(h===i.def||h===E.skipOptionalPartCharacter)&&""!==i.def&&{c:i.placeholder||i.def,pos:u})){var a=(a=void 0!==m.c?m.c:h)===E.skipOptionalPartCharacter&&null===i.fn?i.placeholder||i.def:a,l=u,c=w();if(void 0!==m.remove&&(he.isArray(m.remove)||(m.remove=[m.remove]),he.each(m.remove.sort(function(e,t){return t-e}),function(e,t){y(t,t+1,!0)})),void 0!==m.insert&&(he.isArray(m.insert)||(m.insert=[m.insert]),he.each(m.insert.sort(function(e,t){return e-t}),function(e,t){P(t.pos,t.c,!1,f)})),m.refreshFromBuffer){var d=m.refreshFromBuffer;if(C((p=!0)===d?d:d.start,d.end,c),void 0===m.pos&&void 0===m.c)return m.pos=A(),!1;if((l=void 0!==m.pos?m.pos:u)!==u)return m=he.extend(m,P(l,a,!0,f)),!1}else if(!0!==m&&void 0!==m.pos&&m.pos!==u&&(l=m.pos,C(u,l,w().slice()),l!==u))return m=he.extend(m,P(l,a,!0)),!1;return!0!==m&&void 0===m.pos&&void 0===m.c||(0<e&&_(!0),b(l,he.extend({},t,{input:function(e,t){switch(t.casing){case"upper":e=e.toUpperCase();break;case"lower":e=e.toLowerCase()}return e}(a,i)}),f,v(g))||(m=!1)),!1}}),m}t=!0===t;var o=g;void 0!==g.begin&&(o=Z&&!v(g)?g.end:g.begin);for(var r,s=!1,a=he.extend(!0,{},R.validPositions),l=o-1;-1<l&&!R.validPositions[l];l--);for(l++;l<o;l++)void 0===R.validPositions[l]&&(!1===E.jitMasking||E.jitMasking>l)&&((r=j(l)).match.def===E.radixPointDefinitionSymbol||!p(l,!0)||he.inArray(E.radixPoint,w())<l&&r.match.fn&&r.match.fn.test(O(l),R,l,!1,E))&&i(A(l,!0)+1,r.match.placeholder||(null==r.match.fn?r.match.def:""!==O(l)?O(l):w()[l]),!0,n);if(v(g)&&(D(void 0,pe.keyCode.DELETE,g),o=R.p),o<k()&&(s=i(o,e,t,n),(!t||!0===n)&&!1===s)){var c=R.validPositions[o];if(!c||null!==c.match.fn||c.match.def!==e&&e!==E.skipOptionalPartCharacter){if((E.insertMode||void 0===R.validPositions[S(o)])&&!p(o,!0)){c=j(o).match;i(o,c=c.placeholder||c.def,t,n);for(var d=o+1,u=S(o);d<=u;d++)if(!1!==(s=i(d,e,t,n))){(function(e,t){for(var n,i,o,r=R.validPositions[t].locator,s=r.length,a=e;a<t;a++)void 0!==R.validPositions[a]||p(a,!0)||(n=x(a),i=n[0],o=-1,he.each(n,function(e,t){for(var n=0;n<s&&void 0!==t.locator[n]&&h(t.locator[n].toString().split(","),r[n].toString().split(","));n++)o<n&&(o=n,i=t)}),b(a,he.extend({},i,{input:i.match.placeholder||i.match.def}),!0))})(o,d),o=d;break}}}else s={caret:S(o)}}return!0===(s=!1===s&&E.keepStatic?function(e,t,n,i){for(var o,r,s,a,l,c,d=he.extend(!0,{},R.validPositions),u=he.extend(!0,{},R.tests),h=A();0<=h&&(!(a=R.validPositions[h])||void 0===a.alternation||(o=h,r=R.validPositions[o].alternation,j(o).locator[a.alternation]===a.locator[a.alternation]));h--);if(void 0!==r)for(var p in o=parseInt(o),R.validPositions)if(p=parseInt(p),a=R.validPositions[p],o<=p&&void 0!==a.alternation){0===o?(c=[],he.each(R.tests[o],function(e,t){void 0!==t.locator[r]&&(c=c.concat(t.locator[r].toString().split(",")))})):c=R.validPositions[o].locator[r].toString().split(",");var f=void 0!==a.locator[r]?a.locator[r]:c[0];0<f.length&&(f=f.split(",")[0]);for(var m=0;m<c.length;m++){var g=[],v=0,b=0;if(f<c[m]){for(var y,x,w=p;0<=w;w--)if(void 0!==(y=R.validPositions[w])){var C=L(w,c[m]);R.validPositions[w].match.def!==C.match.def&&(g.push(R.validPositions[w].input),R.validPositions[w]=C,R.validPositions[w].input=O(w),null===R.validPositions[w].match.fn&&b++,y=C),x=y.locator[r],y.locator[r]=parseInt(c[m]);break}if(f!==y.locator[r]){for(T=p+1;T<A(void 0,!0)+1;T++)(l=R.validPositions[T])&&null!=l.match.fn?g.push(l.input):T<e&&v++,delete R.validPositions[T],delete R.tests[T];for(_(!0),E.keepStatic=!E.keepStatic,s=!0;0<g.length;){var k=g.shift();if(k!==E.skipOptionalPartCharacter&&!(s=P(A(void 0,!0)+1,k,!1,i)))break}if(y.alternation=r,y.locator[r]=x,s){for(var S=A(e)+1,T=p+1;T<A()+1;T++)(void 0===(l=R.validPositions[T])||null==l.match.fn)&&T<e&&b++;s=P(S<(e+=b-v)?S:e,t,n,i)}if(E.keepStatic=!E.keepStatic,s)return s;_(),R.validPositions=he.extend(!0,{},d),R.tests=he.extend(!0,{},u)}}}break}return!1}(o,e,t,n):s)&&(s={pos:o}),void 0===(s=he.isFunction(E.postValidation)&&!1!==s&&!t&&!0!==n?!!E.postValidation(w(!0),s,E)&&s:s).pos&&(s.pos=o),!1===s&&(_(!0),R.validPositions=he.extend(!0,{},a)),s}function p(e,t){var n;return t?""===(n=j(e).match).def&&(n=l(e)):n=l(e),null!=n.fn?n.fn:!0!==t&&-1<e&&!E.keepStatic&&void 0===R.validPositions[e]&&2<x(e).length}function k(){-1===(J=void 0!==le?le.maxLength:void 0)&&(J=void 0);for(var e=A(),t=R.validPositions[e],n=void 0!==t?t.locator.slice():void 0,i=e+1;void 0===t||null!==t.match.fn||null===t.match.fn&&""!==t.match.def;i++)n=(t=j(i,n,i-1)).locator.slice();e=""!==l(i-1).def?i:i-1;return void 0===J||e<J?e:J}function S(e,t){var n=k();if(n<=e)return n;for(var i=e;++i<n&&(!0===t&&(!0!==l(i).newBlockMarker||!p(i))||!0!==t&&!p(i)&&(!0!==E.nojumps||E.nojumpsThreshold>i)););return i}function f(e,t){var n=e;if(n<=0)return 0;for(;0<--n&&(!0===t&&!0!==l(n).newBlockMarker||!0!==t&&!p(n)););return n}function g(e,t,n,i,o){var r,s;i&&he.isFunction(E.onBeforeWrite)&&((r=E.onBeforeWrite(i,t,n,E))&&(r.refreshFromBuffer&&(C(!0===(s=r.refreshFromBuffer)?s:s.start,s.end,r.buffer||t),t=w(!0)),void 0!==n&&(n=void 0!==r.caret?r.caret:n))),e.inputmask._valueSet(t.join("")),void 0===n||void 0!==i&&"blur"===i.type||v(e,n),!0===o&&(te=!0,he(e).trigger("input"))}function O(e,t){if(void 0!==(t=t||l(e)).placeholder)return t.placeholder;if(null!==t.fn)return E.placeholder.charAt(e%E.placeholder.length);if(-1<e&&!E.keepStatic&&void 0===R.validPositions[e]){var n,i=x(e),o=[];if(2<i.length)for(var r=0;r<i.length;r++)if(!0!==i[r].match.optionality&&!0!==i[r].match.optionalQuantifier&&(null===i[r].match.fn||void 0===n||!1!==i[r].match.fn.test(n.match.def,R,e,!0,E))&&(o.push(i[r]),null===i[r].match.fn&&(n=i[r]),1<o.length))return E.placeholder.charAt(e%E.placeholder.length)}return t.def}function d(o,e,r,t){var s,n,i=t.slice(),a="",l=0;_(),R.p=S(-1),r||(!0!==E.autoUnmask?(n=c().slice(0,S(-1)).join(""),(t=i.join("").match(new RegExp("^"+pe.escapeRegex(n),"g")))&&0<t.length&&(i.splice(0,t.length*n.length),l=S(l))):l=S(l)),he.each(i,function(e,t){var n,i;void 0!==t&&((i=new he.Event("keypress")).which=t.charCodeAt(0),a+=t,t=j((n=A(void 0,!0))+1,(t=R.validPositions[n])?t.locator.slice():void 0,n),!function(){var e=!1,t=c().slice(l,S(l)).join("").indexOf(a);if(-1!==t&&!p(l))for(var e=!0,n=c().slice(l,l+t),i=0;i<n.length;i++)if(" "!==n[i]){e=!1;break}return e}()||r||E.autoUnmask?(t=r?e:null==t.match.fn&&t.match.optionality&&n+1<R.p?n+1:R.p,s=I.call(o,i,!0,!1,r,t),l=t+1,a=""):s=I.call(o,i,!0,!1,!0,n+1),!r&&he.isFunction(E.onBeforeWrite)&&((s=E.onBeforeWrite(i,w(),s.forwardPosition,E))&&s.refreshFromBuffer)&&(C(!0===(i=s.refreshFromBuffer)?i:i.start,i.end,s.buffer),_(!0),s.caret&&(R.p=s.caret)))}),e&&g(o,w(),document.activeElement===o?S(A(0)):void 0,new he.Event("checkval"))}function i(e){if(e&&void 0===e.inputmask)return e.value;var t,n=[],i=R.validPositions;for(t in i)i[t].match&&null!=i[t].match.fn&&n.push(i[t].input);var o=0===n.length?null:(Z?n.reverse():n).join("");return null!==o&&(e=(Z?w().slice().reverse():w()).join(""),he.isFunction(E.onUnMask)&&(o=E.onUnMask(e,o,E)||o)),o}function v(e,t,n,i){function o(e){return e=!0!==i&&Z&&"number"==typeof e&&(!E.greedy||""!==E.placeholder)?w().join("").length-e:e}if("number"!=typeof t)return e.setSelectionRange?(t=e.selectionStart,n=e.selectionEnd):window.getSelection?(r=window.getSelection().getRangeAt(0)).commonAncestorContainer.parentNode!==e&&r.commonAncestorContainer!==e||(t=r.startOffset,n=r.endOffset):document.selection&&document.selection.createRange&&(n=(t=0-(r=document.selection.createRange()).duplicate().moveStart("character",-e.inputmask._valueGet().length))+r.text.length),{begin:o(t),end:o(n)};t=o(t),n="number"==typeof(n=o(n))?n:t;var r,s,a=parseInt(((e.ownerDocument.defaultView||window).getComputedStyle?(e.ownerDocument.defaultView||window).getComputedStyle(e,null):e.currentStyle).fontSize)*n;e.scrollLeft=a>e.scrollWidth?a:0,me||!1!==E.insertMode||t!==n||n++,e.setSelectionRange?(e.selectionStart=t,e.selectionEnd=n):window.getSelection?(r=document.createRange(),void 0!==e.firstChild&&null!==e.firstChild||(s=document.createTextNode(""),e.appendChild(s)),r.setStart(e.firstChild,t<e.inputmask._valueGet().length?t:e.inputmask._valueGet().length),r.setEnd(e.firstChild,n<e.inputmask._valueGet().length?n:e.inputmask._valueGet().length),r.collapse(!0),(s=window.getSelection()).removeAllRanges(),s.addRange(r)):e.createTextRange&&((r=e.createTextRange()).collapse(!0),r.moveEnd("character",n),r.moveStart("character",t),r.select())}function s(e){for(var t,n=w(),i=n.length,o=A(),r={},s=R.validPositions[o],a=void 0!==s?s.locator.slice():void 0,l=o+1;l<n.length;l++)a=(t=j(l,a,l-1)).locator.slice(),r[l]=he.extend(!0,{},t);var c=s&&void 0!==s.alternation?s.locator[s.alternation]:void 0;for(l=i-1;o<l&&(((t=r[l]).match.optionality||t.match.optionalQuantifier||c&&(c!==r[l].locator[s.alternation]&&null!=t.match.fn||null===t.match.fn&&t.locator[s.alternation]&&h(t.locator[s.alternation].toString().split(","),c.toString().split(","))&&""!==x(l)[0].def))&&n[l]===O(l,t.match));l--)i--;return e?{l:i,def:r[i]?r[i].match:void 0}:i}function u(e){for(var t=s(),n=e.length-1;t<n&&!p(n);n--);return e.splice(t,n+1-t),e}function T(e){if(he.isFunction(E.isComplete))return E.isComplete(e,E);if("*"!==E.repeat){var t=!1,n=s(!0),i=f(n.l);if(void 0===n.def||n.def.newBlockMarker||n.def.optionality||n.def.optionalQuantifier)for(var t=!0,o=0;o<=i;o++){var r=j(o).match;if(null!==r.fn&&void 0===R.validPositions[o]&&!0!==r.optionality&&!0!==r.optionalQuantifier||null===r.fn&&e[o]!==O(o,r)){t=!1;break}}return t}}function o(e){function t(){return this.inputmask?this.inputmask.opts.autoUnmask?this.inputmask.unmaskedvalue():-1!==A()||!0!==E.nullable?document.activeElement===this&&E.clearMaskOnLostFocus?(Z?u(w().slice()).reverse():u(w().slice())).join(""):i.call(this):"":i.call(this)}function n(e){o.call(this,e),this.inputmask&&he(this).trigger("setvalue")}var i,o,r,s,a,l;e.inputmask.__valueGet||(Object.getOwnPropertyDescriptor?("function"!=typeof Object.getPrototypeOf&&(Object.getPrototypeOf="object"==typeof"test".__proto__?function(e){return e.__proto__}:function(e){return e.constructor.prototype}),(r=Object.getPrototypeOf?Object.getOwnPropertyDescriptor(Object.getPrototypeOf(e),"value"):void 0)&&r.get&&r.set?(i=r.get,o=r.set,Object.defineProperty(e,"value",{get:t,set:n,configurable:!0})):"INPUT"!==e.tagName&&(i=function(){return this.textContent},o=function(e){this.textContent=e},Object.defineProperty(e,"value",{get:t,set:n,configurable:!0}))):document.__lookupGetter__&&e.__lookupGetter__("value")&&(i=e.__lookupGetter__("value"),o=e.__lookupSetter__("value"),e.__defineGetter__("value",t),e.__defineSetter__("value",n)),e.inputmask.__valueGet=i,e.inputmask._valueGet=function(e){return Z&&!0!==e?i.call(this.el).split("").reverse().join(""):i.call(this.el)},e.inputmask.__valueSet=o,e.inputmask._valueSet=function(e,t){o.call(this.el,null==e?"":!0!==t&&Z?e.split("").reverse().join(""):e)},void 0===i&&(i=function(){return this.value},o=function(e){this.value=e},s=e.type,!he.valHooks||void 0!==he.valHooks[s]&&!0===he.valHooks[s].inputmaskpatch||(a=he.valHooks[s]&&he.valHooks[s].get?he.valHooks[s].get:function(e){return e.value},l=he.valHooks[s]&&he.valHooks[s].set?he.valHooks[s].set:function(e,t){return e.value=t,e},he.valHooks[s]={get:function(e){if(e.inputmask){if(e.inputmask.opts.autoUnmask)return e.inputmask.unmaskedvalue();var t=a(e);return-1!==A(void 0,void 0,e.inputmask.maskset.validPositions)||!0!==E.nullable?t:""}return a(e)},set:function(e,t){var n=he(e),t=l(e,t);return e.inputmask&&n.trigger("setvalue"),t},inputmaskpatch:!0}),oe.on(e,"mouseenter",function(e){var t=he(this);this.inputmask._valueGet()!==w().join("")&&t.trigger("setvalue")})))}function D(r,e,t,n){var i;(E.numericInput||Z)&&(e===pe.keyCode.BACKSPACE?e=pe.keyCode.DELETE:e===pe.keyCode.DELETE&&(e=pe.keyCode.BACKSPACE),Z)&&(i=t.end,t.end=t.begin,t.begin=i),e===pe.keyCode.BACKSPACE&&(t.end-t.begin<1||!1===E.insertMode)?(t.begin=f(t.begin),void 0===R.validPositions[t.begin]||R.validPositions[t.begin].input!==E.groupSeparator&&R.validPositions[t.begin].input!==E.radixPoint||t.begin--):e===pe.keyCode.DELETE&&t.begin===t.end&&(t.end=p(t.end)?t.end+1:S(t.end)+1,void 0===R.validPositions[t.begin]||R.validPositions[t.begin].input!==E.groupSeparator&&R.validPositions[t.begin].input!==E.radixPoint||t.end++),y(t.begin,t.end,!1,n),!0!==n&&function(){if(E.keepStatic){_(!0);for(var e=[],t=he.extend(!0,{},R.validPositions),n=A();0<=n;n--){var i=R.validPositions[n];if(i&&(null!=i.match.fn&&e.push(i.input),delete R.validPositions[n],void 0!==i.alternation&&i.locator[i.alternation]===j(n).locator[i.alternation]))break}if(-1<n)for(;0<e.length;){R.p=S(A());var o=new he.Event("keypress");o.which=e.pop().charCodeAt(0),I.call(r,o,!0,!1,!1,R.p)}else R.validPositions=he.extend(!0,{},t)}}();e=A(t.begin);e<t.begin?(-1===e&&_(),R.p=S(e)):!0!==n&&(R.p=t.begin)}function a(e){var t,n,i=e,o=this,r=he(o),s=i.keyCode,a=v(o);s===pe.keyCode.BACKSPACE||s===pe.keyCode.DELETE||ve&&s===pe.keyCode.BACKSPACE_SAFARI||i.ctrlKey&&s===pe.keyCode.X&&(t="cut",n=document.createElement("input"),(t=(e="on"+t)in n)||(n.setAttribute(e,"return;"),t="function"==typeof n[e]),n=null,!t)?(i.preventDefault(),D(o,s,a),g(o,w(),R.p,i,K!==w().join("")),o.inputmask._valueGet()===c().join("")?r.trigger("cleared"):!0===T(w())&&r.trigger("complete"),E.showTooltip&&(o.title=E.tooltip||R.mask)):s===pe.keyCode.END||s===pe.keyCode.PAGE_DOWN?(i.preventDefault(),t=S(A()),E.insertMode||t!==k()||i.shiftKey||t--,v(o,i.shiftKey?a.begin:t,t,!0)):s===pe.keyCode.HOME&&!i.shiftKey||s===pe.keyCode.PAGE_UP?(i.preventDefault(),v(o,0,i.shiftKey?a.begin:0,!0)):(E.undoOnEscape&&s===pe.keyCode.ESCAPE||90===s&&i.ctrlKey)&&!0!==i.altKey?(d(o,!0,!1,K.split("")),r.trigger("click")):s!==pe.keyCode.INSERT||i.shiftKey||i.ctrlKey?!0===E.tabThrough&&s===pe.keyCode.TAB?(!0===i.shiftKey?(null===l(a.begin).fn&&(a.begin=S(a.begin)),a.end=f(a.begin,!0),a.begin=f(a.end,!0)):(a.begin=S(a.begin,!0),a.end=S(a.begin,!0),a.end<k()&&a.end--),a.begin<k()&&(i.preventDefault(),v(o,a.begin,a.end))):!1!==E.insertMode||i.shiftKey||(s===pe.keyCode.RIGHT?setTimeout(function(){var e=v(o);v(o,e.begin)},0):s===pe.keyCode.LEFT&&setTimeout(function(){var e=v(o);v(o,Z?e.begin+1:e.begin-1)},0)):(E.insertMode=!E.insertMode,v(o,E.insertMode||a.begin!==k()?a.begin:a.begin-1)),E.onKeyDown.call(this,i,w(),v(o).begin,E),ne=-1!==he.inArray(s,E.ignorables)}function I(e,t,n,i,o){var r=e,s=he(this),a=r.which||r.charCode||r.keyCode;if(!(!0===t||r.ctrlKey&&r.altKey)&&(r.ctrlKey||r.metaKey||ne))return a===pe.keyCode.ENTER&&K!==w().join("")&&(K=w().join(""),setTimeout(function(){s.trigger("change")},0)),!0;if(a){46===a&&!1===r.shiftKey&&","===E.radixPoint&&(a=44);e=t?{begin:o,end:o}:v(this),o=String.fromCharCode(a);R.writeOutBuffer=!0;var l,c,d,u=P(e,o,i);if(!1!==u&&(l=u.pos,_(!0),l=void 0!==u.caret?u.caret:(i=R.validPositions,!E.keepStatic&&(void 0!==i[l+1]&&1<x(l+1,i[l].locator.slice(),l).length||void 0!==i[l].alternation)?l+1:S(l)),R.p=l),!1!==n&&(c=this,setTimeout(function(){E.onKeyValidation.call(c,a,u,E)},0),R.writeOutBuffer&&!1!==u&&(g(this,d=w(),E.numericInput&&void 0===u.caret?f(l):l,r,!0!==t),!0!==t&&setTimeout(function(){!0===T(d)&&s.trigger("complete")},0))),E.showTooltip&&(this.title=E.tooltip||R.mask),r.preventDefault(),t)return u.forwardPosition=l,u}}function r(e){var t,n=e,e=n.originalEvent||n,i=he(this),o=this.inputmask._valueGet(!0),r=v(this);Z&&(t=r.end,r.end=r.begin,r.begin=t);var s=o.substr(0,r.begin),a=o.substr(r.end,o.length);s===(Z?c().reverse():c()).slice(0,r.begin).join("")&&(s=""),a===(Z?c().reverse():c()).slice(r.end).join("")&&(a=""),Z&&(t=s,s=a,a=t),window.clipboardData&&window.clipboardData.getData?o=s+window.clipboardData.getData("Text")+a:e.clipboardData&&e.clipboardData.getData&&(o=s+e.clipboardData.getData("text/plain")+a);a=o;if(he.isFunction(E.onBeforePaste)){if(!1===(a=E.onBeforePaste(o,E)))return n.preventDefault();a=a||o}return d(this,!1,!1,Z?a.split("").reverse():a.toString().split("")),g(this,w(),S(A()),n,!0),!0===T(w())&&i.trigger("complete"),n.preventDefault()}function N(e){var t=e,n=this.inputmask._valueGet();if(w().join("")!==n){var i=v(this),n=n.replace(new RegExp("("+pe.escapeRegex(c().join(""))+")*"),"");if(ge){var o=n.replace(w().join(""),"");if(1===o.length){e=new he.Event("keypress");return e.which=o.charCodeAt(0),I.call(this,e,!0,!0,!1,R.validPositions[i.begin-1]?i.begin:i.begin-1),!1}}if(i.begin>n.length&&(v(this,n.length),i=v(this)),w().length-n.length!=1||n.charAt(i.begin)===w()[i.begin]||n.charAt(i.begin+1)===w()[i.begin]||p(i.begin)){for(var i=A()+1,r=w().slice(i).join("");null===n.match(pe.escapeRegex(r)+"$");)r=r.slice(1);d(this,!0,!1,n=(n=n.replace(r,"")).split("")),!0===T(w())&&he(this).trigger("complete")}else t.keyCode=pe.keyCode.BACKSPACE,a.call(this,t);t.preventDefault()}}function M(e){e=this.inputmask._valueGet();d(this,!0,!1,(he.isFunction(E.onBeforeMask)&&E.onBeforeMask(e,E)||e).split("")),K=w().join(""),(E.clearMaskOnLostFocus||E.clearIncomplete)&&this.inputmask._valueGet()===c().join("")&&this.inputmask._valueSet("")}function F(e){var t=this,e=t.inputmask._valueGet();E.showMaskOnFocus&&(!E.showMaskOnHover||E.showMaskOnHover&&""===e)?t.inputmask._valueGet()!==w().join("")&&g(t,w(),S(A())):!1===ie&&v(t,S(A())),!0===E.positionCaretOnTab&&setTimeout(function(){v(t,S(A()))},0),K=w().join("")}function q(e){var t;ie=!1,E.clearMaskOnLostFocus&&document.activeElement!==this&&(t=w().slice(),(e=this.inputmask._valueGet())!==this.getAttribute("placeholder")&&""!==e&&(-1===A()&&e===c().join("")?t=[]:u(t),g(this,t)))}function z(e){var n=this;setTimeout(function(){var e,t;document.activeElement!==n||(e=v(n)).begin===e.end&&(!function(e){if(E.radixFocus&&""!==E.radixPoint){var t=R.validPositions;if(void 0===t[e]||t[e].input===O(e)){if(e<S(-1))return 1;var n=he.inArray(E.radixPoint,w());if(-1!==n){for(var i in t)if(n<i&&t[i].input!==O(i))return;return 1}}}}(e.begin)?(t=e.begin)<(e=S(A(t,!0)))?v(n,p(t)||p(t-1)?t:S(t)):((""!==(t=O(e))&&w()[e]!==t||!p(e,!0)&&l(e).def===t)&&(e=S(e)),v(n,e)):v(n,E.numericInput?S(he.inArray(E.radixPoint,w())):he.inArray(E.radixPoint,w())))},0)}function H(e){var t=this;setTimeout(function(){v(t,0,S(A()))},0)}function B(e){var t=e,n=he(this),i=v(this),e=t.originalEvent||t,o=window.clipboardData||e.clipboardData,e=Z?w().slice(i.end,i.begin):w().slice(i.begin,i.end);o.setData("text",(Z?e.reverse():e).join("")),document.execCommand&&document.execCommand("copy"),D(this,pe.keyCode.DELETE,i),g(this,w(),R.p,t,K!==w().join("")),this.inputmask._valueGet()===c().join("")&&n.trigger("cleared"),E.showTooltip&&(this.title=E.tooltip||R.mask)}function $(e){var t,n=e,i=he(this);this.inputmask&&(e=this.inputmask._valueGet(),t=w().slice(),K!==t.join("")&&setTimeout(function(){i.trigger("change"),K=t.join("")},0),""!==e&&(E.clearMaskOnLostFocus&&(-1===A()&&e===c().join("")?t=[]:u(t)),!1===T(t)&&(setTimeout(function(){i.trigger("incomplete")},0),E.clearIncomplete&&(_(),t=E.clearMaskOnLostFocus?[]:c().slice())),g(this,t,void 0,n)))}function V(e){ie=!0,document.activeElement!==this&&E.showMaskOnHover&&this.inputmask._valueGet()!==w().join("")&&g(this,w())}function U(e){K!==w().join("")&&ce.trigger("change"),E.clearMaskOnLostFocus&&-1===A()&&le.inputmask._valueGet&&le.inputmask._valueGet()===c().join("")&&le.inputmask._valueSet(""),E.removeMaskOnSubmit&&(le.inputmask._valueSet(le.inputmask.unmaskedvalue(),!0),setTimeout(function(){g(le,w())},0))}function W(e){setTimeout(function(){ce.trigger("setvalue")},0)}function X(e){E.lock_input=!0}function Y(e){E.lock_input=!1;E.lock_input||N.apply(this,arguments)}function Q(e){E.lock_input||N.apply(this,arguments)}function G(e){var t,n;ce=he(le=e),E.showTooltip&&(le.title=E.tooltip||R.mask),"rtl"!==le.dir&&!E.rightAlign||(le.style.textAlign="right"),"rtl"!==le.dir&&!E.numericInput||(le.dir="ltr",le.removeAttribute("dir"),le.inputmask.isRTL=!0,Z=!0),oe.off(le),o(le),n=E,e=(t=le).getAttribute("type"),(n="INPUT"===t.tagName&&-1!==he.inArray(e,n.supportsInputType)||t.isContentEditable||"TEXTAREA"===t.tagName)||"INPUT"!==t.tagName||((t=document.createElement("input")).setAttribute("type",e),n="text"===t.type,t=null),n&&(oe.on(le,"submit",U),oe.on(le,"reset",W),oe.on(le,"mouseenter",V),oe.on(le,"blur",$),oe.on(le,"focus",F),oe.on(le,"mouseleave",q),oe.on(le,"click",z),oe.on(le,"dblclick",H),oe.on(le,"paste",r),oe.on(le,"dragdrop",r),oe.on(le,"drop",r),oe.on(le,"cut",B),oe.on(le,"complete",E.oncomplete),oe.on(le,"incomplete",E.onincomplete),oe.on(le,"cleared",E.oncleared),oe.on(le,"compositionstart",X),oe.on(le,"compositionend",Y),oe.on(le,"keydown",a),oe.on(le,"keypress",I),oe.on(le,"input",Q),oe.on(le,"setvalue",M)),""===le.inputmask._valueGet()&&!1!==E.clearMaskOnLostFocus&&document.activeElement!==le||(n=he.isFunction(E.onBeforeMask)&&E.onBeforeMask(le.inputmask._valueGet(),E)||le.inputmask._valueGet(),d(le,!0,!1,n.split("")),n=w().slice(),K=n.join(""),!1===T(n)&&E.clearIncomplete&&_(),E.clearMaskOnLostFocus&&document.activeElement!==le&&(-1===A()?n=[]:u(n)),g(le,n),document.activeElement===le&&v(le,S(A())))}var K,J,Z=!1,ee=!1,te=!1,ne=!1,ie=!0,oe={on:function(t,n,o){function i(t){if(e=t,void 0===this.inputmask&&"FORM"!==this.nodeName){var n=he.data(this,"_inputmask_opts");n?new pe(n).mask(this):oe.off(this)}else{if("setvalue"===e.type||!(this.disabled||this.readOnly&&!("keydown"===e.type&&e.ctrlKey&&67===e.keyCode||!1===E.tabThrough&&e.keyCode===pe.keyCode.TAB))){switch(e.type){case"input":if(!0===te)return te=!1,e.preventDefault();break;case"keydown":te=ee=!1;break;case"keypress":if(!0===ee)return e.preventDefault();ee=!0;break;case"click":var i=this;return setTimeout(function(){o.apply(i,arguments)},0),!1}n=o.apply(this,arguments);return!1===n&&(e.preventDefault(),e.stopPropagation()),n}e.preventDefault()}}t.inputmask.events[n]=t.inputmask.events[n]||[],t.inputmask.events[n].push(i),-1!==he.inArray(n,["submit","reset"])?null!=t.form&&he(t.form).on(n,i):he(t).on(n,i)},off:function(i,e){var t;i.inputmask&&i.inputmask.events&&(e?(t=[])[e]=i.inputmask.events[e]:t=i.inputmask.events,he.each(t,function(e,t){for(;0<t.length;){var n=t.pop();-1!==he.inArray(e,["submit","reset"])?null!=i.form&&he(i.form).off(e,n):he(i).off(e,n)}delete i.inputmask.events[e]}))}};if(void 0!==t)switch(t.action){case"isComplete":return le=t.el,T(w());case"unmaskedvalue":return void 0!==(le=t.el)&&void 0!==le.inputmask?(R=le.inputmask.maskset,E=le.inputmask.opts,Z=le.inputmask.isRTL):(re=t.value,E.numericInput&&(Z=!0),re=(he.isFunction(E.onBeforeMask)&&E.onBeforeMask(re,E)||re).split(""),d(void 0,!1,!1,Z?re.reverse():re),he.isFunction(E.onBeforeWrite)&&E.onBeforeWrite(void 0,w(),0,E)),i(le);case"mask":le=t.el,R=le.inputmask.maskset,E=le.inputmask.opts,Z=le.inputmask.isRTL,K=w().join(""),G(le);break;case"format":return E.numericInput&&(Z=!0),re=(he.isFunction(E.onBeforeMask)&&E.onBeforeMask(t.value,E)||t.value).split(""),d(void 0,!1,!1,Z?re.reverse():re),he.isFunction(E.onBeforeWrite)&&E.onBeforeWrite(void 0,w(),0,E),t.metadata?{value:(Z?w().slice().reverse():w()).join(""),metadata:fe({action:"getmetadata"},R,E)}:(Z?w().slice().reverse():w()).join("");case"isValid":E.numericInput&&(Z=!0),t.value?(re=t.value.split(""),d(void 0,!1,!0,Z?re.reverse():re)):t.value=w().join("");for(var re=w(),se=s(),ae=re.length-1;se<ae&&!p(ae);ae--);return re.splice(se,ae+1-se),T(re)&&t.value===w().join("");case"getemptymask":return c().join("");case"remove":var le=t.el,ce=he(le);R=le.inputmask.maskset,E=le.inputmask.opts,le.inputmask._valueSet(i(le)),oe.off(le),Object.getOwnPropertyDescriptor&&Object.getPrototypeOf?Object.getOwnPropertyDescriptor(Object.getPrototypeOf(le),"value")&&le.inputmask.__valueGet&&Object.defineProperty(le,"value",{get:le.inputmask.__valueGet,set:le.inputmask.__valueSet,configurable:!0}):document.__lookupGetter__&&le.__lookupGetter__("value")&&le.inputmask.__valueGet&&(le.__defineGetter__("value",le.inputmask.__valueGet),le.__defineSetter__("value",le.inputmask.__valueSet)),le.inputmask=void 0;break;case"getmetadata":if(he.isArray(R.metadata)){for(var de,ue=A(void 0,!0);0<=ue;ue--)if(R.validPositions[ue]&&void 0!==R.validPositions[ue].alternation){de=R.validPositions[ue].alternation;break}return void 0!==de?R.metadata[R.validPositions[ue].locator[de]]:[]}return R.metadata}}pe.prototype={defaults:{lock_input:!1,placeholder:"_",optionalmarker:{start:"[",end:"]"},quantifiermarker:{start:"{",end:"}"},groupmarker:{start:"(",end:")"},alternatormarker:"|",escapeChar:"\\",mask:null,oncomplete:he.noop,onincomplete:he.noop,oncleared:he.noop,repeat:0,greedy:!0,autoUnmask:!1,removeMaskOnSubmit:!1,clearMaskOnLostFocus:!0,insertMode:!0,clearIncomplete:!1,aliases:{},alias:null,onKeyDown:he.noop,onBeforeMask:null,onBeforePaste:function(e,t){return he.isFunction(t.onBeforeMask)?t.onBeforeMask(e,t):e},onBeforeWrite:null,onUnMask:null,showMaskOnFocus:!0,showMaskOnHover:!0,onKeyValidation:he.noop,skipOptionalPartCharacter:" ",showTooltip:!1,tooltip:void 0,numericInput:!1,rightAlign:!1,undoOnEscape:!0,radixPoint:"",radixPointDefinitionSymbol:void 0,groupSeparator:"",radixFocus:!1,nojumps:!1,nojumpsThreshold:0,keepStatic:null,positionCaretOnTab:!1,tabThrough:!1,supportsInputType:["text","tel","password"],definitions:{9:{validator:"[0-9]",cardinality:1,definitionSymbol:"*"},a:{validator:"[A-Za-z]",cardinality:1,definitionSymbol:"*"},"*":{validator:"[0-9A-Za-z-_一-龥]",cardinality:1}},ignorables:[8,9,13,19,27,33,34,35,36,37,38,39,40,45,46,93,112,113,114,115,116,117,118,119,120,121,122,123],isComplete:null,canClearPosition:he.noop,postValidation:null,staticDefinitionSymbol:void 0,jitMasking:!1,nullable:!0},masksCache:{},mask:function(e){var o=this;return e=(e="string"==typeof e?document.getElementById(e)||document.querySelectorAll(e):e).nodeName?[e]:e,he.each(e,function(e,t){var n=he.extend(!0,{},o.opts);!function(n,e,i){function t(e,t){null!==(t=void 0!==t?t:n.getAttribute("data-inputmask-"+e))&&("string"==typeof t&&(0===e.indexOf("on")?t=window[t]:"false"===t?t=!1:"true"===t&&(t=!0)),i[e]=t)}var o,r,s,a,l=n.getAttribute("data-inputmask");if(l&&""!==l&&(l=l.replace(new RegExp("'","g"),'"'),r=JSON.parse("{"+l+"}")),r)for(a in s=void 0,r)if("alias"===a.toLowerCase()){s=r[a];break}for(o in t("alias",s),i.alias&&c(i.alias,i,e),e){if(r)for(a in s=void 0,r)if(a.toLowerCase()===o.toLowerCase()){s=r[a];break}t(o,s)}he.extend(!0,e,i)}(t,n,he.extend(!0,{},o.userOptions));var i=r(n,o.noMasksCache);void 0!==i&&(void 0!==t.inputmask&&t.inputmask.remove(),t.inputmask=new pe,t.inputmask.opts=n,t.inputmask.noMasksCache=o.noMasksCache,t.inputmask.userOptions=he.extend(!0,{},o.userOptions),(t.inputmask.el=t).inputmask.maskset=i,t.inputmask.isRTL=!1,he.data(t,"_inputmask_opts",n),fe({action:"mask",el:t}))}),e&&e[0]&&e[0].inputmask||this},option:function(e,t){return"string"==typeof e?this.opts[e]:"object"==typeof e?(he.extend(this.userOptions,e),this.el&&!0!==t&&this.mask(this.el),this):void 0},unmaskedvalue:function(e){return fe({action:"unmaskedvalue",el:this.el,value:e},this.el&&this.el.inputmask?this.el.inputmask.maskset:r(this.opts,this.noMasksCache),this.opts)},remove:function(){return this.el?(fe({action:"remove",el:this.el}),this.el.inputmask=void 0,this.el):void 0},getemptymask:function(){return fe({action:"getemptymask"},this.maskset||r(this.opts,this.noMasksCache),this.opts)},hasMaskedValue:function(){return!this.opts.autoUnmask},isComplete:function(){return fe({action:"isComplete",el:this.el},this.maskset||r(this.opts,this.noMasksCache),this.opts)},getmetadata:function(){return fe({action:"getmetadata"},this.maskset||r(this.opts,this.noMasksCache),this.opts)},isValid:function(e){return fe({action:"isValid",value:e},this.maskset||r(this.opts,this.noMasksCache),this.opts)},format:function(e,t){return fe({action:"format",value:e,metadata:t},this.maskset||r(this.opts,this.noMasksCache),this.opts)}},pe.extendDefaults=function(e){he.extend(!0,pe.prototype.defaults,e)},pe.extendDefinitions=function(e){he.extend(!0,pe.prototype.defaults.definitions,e)},pe.extendAliases=function(e){he.extend(!0,pe.prototype.defaults.aliases,e)},pe.format=function(e,t,n){return pe(t).format(e,n)},pe.unmask=function(e,t){return pe(t).unmaskedvalue(e)},pe.isValid=function(e,t){return pe(t).isValid(e)},pe.remove=function(e){he.each(e,function(e,t){t.inputmask&&t.inputmask.remove()})},pe.escapeRegex=function(e){return e.replace(new RegExp("(\\"+["/",".","*","+","?","|","(",")","[","]","{","}","\\","$","^"].join("|\\")+")","gim"),"\\$1")},pe.keyCode={ALT:18,BACKSPACE:8,BACKSPACE_SAFARI:127,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91,X:88};var t=navigator.userAgent,me=/mobile/i.test(t),ge=/iemobile/i.test(t),ve=/iphone/i.test(t)&&!ge;/android.*safari.*/i.test(t),window.Inputmask=pe}(jQuery),function(o,r){void 0===o.fn.inputmask&&(o.fn.inputmask=function(e,t){var n,i=this[0];if(void 0===t&&(t={}),"string"!=typeof e)return"object"==typeof e?(n=new r(e),void 0===e.mask&&void 0===e.alias?this.each(function(){return void 0!==this.inputmask?this.inputmask.option(e):void n.mask(this)}):this.each(function(){n.mask(this)})):void 0===e?this.each(function(){(n=new r(t)).mask(this)}):void 0;switch(e){case"unmaskedvalue":return i&&i.inputmask?i.inputmask.unmaskedvalue():o(i).val();case"remove":return this.each(function(){this.inputmask&&this.inputmask.remove()});case"getemptymask":return i&&i.inputmask?i.inputmask.getemptymask():"";case"hasMaskedValue":return!(!i||!i.inputmask)&&i.inputmask.hasMaskedValue();case"isComplete":return!i||!i.inputmask||i.inputmask.isComplete();case"getmetadata":return i&&i.inputmask?i.inputmask.getmetadata():void 0;case"setvalue":o(i).val(t),i&&void 0!==i.inputmask&&o(i).triggerHandler("setvalue");break;case"option":if("string"!=typeof t)return this.each(function(){return void 0!==this.inputmask?this.inputmask.option(t):void 0});if(i&&void 0!==i.inputmask)return i.inputmask.option(t);break;default:return t.alias=e,n=new r(t),this.each(function(){n.mask(this)})}}),o.fn.inputmask}(jQuery,Inputmask),function(r,s){s.extendDefinitions({h:{validator:"[01][0-9]|2[0-3]",cardinality:2,prevalidator:[{validator:"[0-2]",cardinality:1}]},s:{validator:"[0-5][0-9]",cardinality:2,prevalidator:[{validator:"[0-5]",cardinality:1}]},d:{validator:"0[1-9]|[12][0-9]|3[01]",cardinality:2,prevalidator:[{validator:"[0-3]",cardinality:1}]},m:{validator:"0[1-9]|1[012]",cardinality:2,prevalidator:[{validator:"[01]",cardinality:1}]},y:{validator:"(19|20)\\d{2}",cardinality:4,prevalidator:[{validator:"[12]",cardinality:1},{validator:"(19|20)",cardinality:2},{validator:"(19|20)\\d",cardinality:3}]}}),s.extendAliases({"dd/mm/yyyy":{mask:"1/2/y",placeholder:"dd/mm/yyyy",regex:{val1pre:new RegExp("[0-3]"),val1:new RegExp("0[1-9]|[12][0-9]|3[01]"),val2pre:function(e){e=s.escapeRegex.call(this,e);return new RegExp("((0[1-9]|[12][0-9]|3[01])"+e+"[01])")},val2:function(e){e=s.escapeRegex.call(this,e);return new RegExp("((0[1-9]|[12][0-9])"+e+"(0[1-9]|1[012]))|(30"+e+"(0[13-9]|1[012]))|(31"+e+"(0[13578]|1[02]))")}},leapday:"29/02/",separator:"/",yearrange:{minyear:1900,maxyear:2099},isInYearRange:function(e,t,n){if(isNaN(e))return!1;var i=parseInt(e.concat(t.toString().slice(e.length))),e=parseInt(e.concat(n.toString().slice(e.length)));return!isNaN(i)&&(t<=i&&i<=n)||!isNaN(e)&&(t<=e&&e<=n)},determinebaseyear:function(e,t,n){var i=(new Date).getFullYear();if(i<e)return e;if(t<i){for(var o=t.toString().slice(0,2),r=t.toString().slice(2,4);t<o+n;)o--;r=o+r;return r<e?e:r}if(e<=i&&i<=t){for(var s=i.toString().slice(0,2);t<s+n;)s--;r=s+n;return r<e?e:r}return i},onKeyDown:function(e,t,n,i){var o=r(this);e.ctrlKey&&e.keyCode===s.keyCode.RIGHT&&(e=new Date,o.val(e.getDate().toString()+(e.getMonth()+1).toString()+e.getFullYear().toString()),o.trigger("setvalue"))},getFrontValue:function(e,t,n){for(var i=0,o=0,r=0;r<e.length&&"2"!==e.charAt(r);r++){var s=n.definitions[e.charAt(r)];s?(i+=o,o=s.cardinality):o++}return t.join("").substr(i,o)},definitions:{1:{validator:function(e,t,n,i,o){var r=o.regex.val1.test(e);return i||r||e.charAt(1)!==o.separator&&-1==="-./".indexOf(e.charAt(1))||!(r=o.regex.val1.test("0"+e.charAt(0)))?r:(t.buffer[n-1]="0",{refreshFromBuffer:{start:n-1,end:n},pos:n,c:e.charAt(0)})},cardinality:2,prevalidator:[{validator:function(e,t,n,i,o){var r=e;isNaN(t.buffer[n+1])||(r+=t.buffer[n+1]);r=(1===r.length?o.regex.val1pre:o.regex.val1).test(r);if(!i&&!r){if(r=o.regex.val1.test(e+"0"))return t.buffer[n]=e,t.buffer[++n]="0",{pos:n,c:"0"};if(r=o.regex.val1.test("0"+e))return t.buffer[n]="0",{pos:++n}}return r},cardinality:1}]},2:{validator:function(e,t,n,i,o){var r=o.getFrontValue(t.mask,t.buffer,o);-1!==r.indexOf(o.placeholder[0])&&(r="01"+o.separator);var s=o.regex.val2(o.separator).test(r+e);if(!i&&!s&&(e.charAt(1)===o.separator||-1!=="-./".indexOf(e.charAt(1)))&&(s=o.regex.val2(o.separator).test(r+"0"+e.charAt(0))))return t.buffer[n-1]="0",{refreshFromBuffer:{start:n-1,end:n},pos:n,c:e.charAt(0)};if(o.mask.indexOf("2")===o.mask.length-1&&s){if(t.buffer.join("").substr(4,4)+e!==o.leapday)return!0;t=parseInt(t.buffer.join("").substr(0,4),10);return t%4==0&&(t%100!=0||t%400==0)}return s},cardinality:2,prevalidator:[{validator:function(e,t,n,i,o){isNaN(t.buffer[n+1])||(e+=t.buffer[n+1]);var r=o.getFrontValue(t.mask,t.buffer,o);-1!==r.indexOf(o.placeholder[0])&&(r="01"+o.separator);var s=(1===e.length?o.regex.val2pre(o.separator):o.regex.val2(o.separator)).test(r+e);return i||s||!(s=o.regex.val2(o.separator).test(r+"0"+e))?s:(t.buffer[n]="0",{pos:++n})},cardinality:1}]},y:{validator:function(e,t,n,i,o){if(o.isInYearRange(e,o.yearrange.minyear,o.yearrange.maxyear)){if(t.buffer.join("").substr(0,6)!==o.leapday)return!0;e=parseInt(e,10);return e%4==0&&(e%100!=0||e%400==0)}return!1},cardinality:4,prevalidator:[{validator:function(e,t,n,i,o){var r=o.isInYearRange(e,o.yearrange.minyear,o.yearrange.maxyear);if(!i&&!r){i=o.determinebaseyear(o.yearrange.minyear,o.yearrange.maxyear,e+"0").toString().slice(0,1);if(r=o.isInYearRange(i+e,o.yearrange.minyear,o.yearrange.maxyear))return t.buffer[n++]=i.charAt(0),{pos:n};if(i=o.determinebaseyear(o.yearrange.minyear,o.yearrange.maxyear,e+"0").toString().slice(0,2),r=o.isInYearRange(i+e,o.yearrange.minyear,o.yearrange.maxyear))return t.buffer[n++]=i.charAt(0),t.buffer[n++]=i.charAt(1),{pos:n}}return r},cardinality:1},{validator:function(e,t,n,i,o){var r=o.isInYearRange(e,o.yearrange.minyear,o.yearrange.maxyear);if(!i&&!r){i=o.determinebaseyear(o.yearrange.minyear,o.yearrange.maxyear,e).toString().slice(0,2);if(r=o.isInYearRange(e[0]+i[1]+e[1],o.yearrange.minyear,o.yearrange.maxyear))return t.buffer[n++]=i.charAt(1),{pos:n};if(i=o.determinebaseyear(o.yearrange.minyear,o.yearrange.maxyear,e).toString().slice(0,2),r=!!o.isInYearRange(i+e,o.yearrange.minyear,o.yearrange.maxyear)&&(t.buffer.join("").substr(0,6)!==o.leapday||(o=parseInt(e,10))%4==0&&(o%100!=0||o%400==0)))return t.buffer[n-1]=i.charAt(0),t.buffer[n++]=i.charAt(1),t.buffer[n++]=e.charAt(0),{refreshFromBuffer:{start:n-3,end:n},pos:n}}return r},cardinality:2},{validator:function(e,t,n,i,o){return o.isInYearRange(e,o.yearrange.minyear,o.yearrange.maxyear)},cardinality:3}]}},insertMode:!1,autoUnmask:!1},"mm/dd/yyyy":{placeholder:"mm/dd/yyyy",alias:"dd/mm/yyyy",regex:{val2pre:function(e){e=s.escapeRegex.call(this,e);return new RegExp("((0[13-9]|1[012])"+e+"[0-3])|(02"+e+"[0-2])")},val2:function(e){e=s.escapeRegex.call(this,e);return new RegExp("((0[1-9]|1[012])"+e+"(0[1-9]|[12][0-9]))|((0[13-9]|1[012])"+e+"30)|((0[13578]|1[02])"+e+"31)")},val1pre:new RegExp("[01]"),val1:new RegExp("0[1-9]|1[012]")},leapday:"02/29/",onKeyDown:function(e,t,n,i){var o=r(this);e.ctrlKey&&e.keyCode===s.keyCode.RIGHT&&(e=new Date,o.val((e.getMonth()+1).toString()+e.getDate().toString()+e.getFullYear().toString()),o.trigger("setvalue"))}},"yyyy/mm/dd":{mask:"y/1/2",placeholder:"yyyy/mm/dd",alias:"mm/dd/yyyy",leapday:"/02/29",onKeyDown:function(e,t,n,i){var o=r(this);e.ctrlKey&&e.keyCode===s.keyCode.RIGHT&&(e=new Date,o.val(e.getFullYear().toString()+(e.getMonth()+1).toString()+e.getDate().toString()),o.trigger("setvalue"))}},"dd.mm.yyyy":{mask:"1.2.y",placeholder:"dd.mm.yyyy",leapday:"29.02.",separator:".",alias:"dd/mm/yyyy"},"dd-mm-yyyy":{mask:"1-2-y",placeholder:"dd-mm-yyyy",leapday:"29-02-",separator:"-",alias:"dd/mm/yyyy"},"mm.dd.yyyy":{mask:"1.2.y",placeholder:"mm.dd.yyyy",leapday:"02.29.",separator:".",alias:"mm/dd/yyyy"},"mm-dd-yyyy":{mask:"1-2-y",placeholder:"mm-dd-yyyy",leapday:"02-29-",separator:"-",alias:"mm/dd/yyyy"},"yyyy.mm.dd":{mask:"y.1.2",placeholder:"yyyy.mm.dd",leapday:".02.29",separator:".",alias:"yyyy/mm/dd"},"yyyy-mm-dd":{mask:"y-1-2",placeholder:"yyyy-mm-dd",leapday:"-02-29",separator:"-",alias:"yyyy/mm/dd"},datetime:{mask:"1/2/y h:s",placeholder:"mm/dd/yyyy hh:mm",alias:"mm/dd/yyyy",regex:{hrspre:new RegExp("[012]"),hrs24:new RegExp("2[0-4]|1[3-9]"),hrs:new RegExp("[01][0-9]|2[0-4]"),ampm:new RegExp("^[a|p|A|P][m|M]"),mspre:new RegExp("[0-5]"),ms:new RegExp("[0-5][0-9]")},timeseparator:":",hourFormat:"24",definitions:{h:{validator:function(e,t,n,i,o){if("24"===o.hourFormat&&24===parseInt(e,10))return t.buffer[n-1]="0",{refreshFromBuffer:{start:n-1,end:n},c:t.buffer[n]="0"};var r=o.regex.hrs.test(e);if(!i&&!r&&(e.charAt(1)===o.timeseparator||-1!=="-.:".indexOf(e.charAt(1)))&&(r=o.regex.hrs.test("0"+e.charAt(0))))return t.buffer[n-1]="0",t.buffer[n]=e.charAt(0),{refreshFromBuffer:{start:++n-2,end:n},pos:n,c:o.timeseparator};if(r&&"24"!==o.hourFormat&&o.regex.hrs24.test(e)){e=parseInt(e,10);return t.buffer[n+5]=24===e?"a":"p",t.buffer[n+6]="m",(e-=12)<10?(t.buffer[n]=e.toString(),t.buffer[n-1]="0"):(t.buffer[n]=e.toString().charAt(1),t.buffer[n-1]=e.toString().charAt(0)),{refreshFromBuffer:{start:n-1,end:n+6},c:t.buffer[n]}}return r},cardinality:2,prevalidator:[{validator:function(e,t,n,i,o){var r=o.regex.hrspre.test(e);return i||r||!(r=o.regex.hrs.test("0"+e))?r:(t.buffer[n]="0",{pos:++n})},cardinality:1}]},s:{validator:"[0-5][0-9]",cardinality:2,prevalidator:[{validator:function(e,t,n,i,o){var r=o.regex.mspre.test(e);return i||r||!(r=o.regex.ms.test("0"+e))?r:(t.buffer[n]="0",{pos:++n})},cardinality:1}]},t:{validator:function(e,t,n,i,o){return o.regex.ampm.test(e+"m")},casing:"lower",cardinality:1}},insertMode:!1,autoUnmask:!1},datebox:{mask:"y-1-2 h:s",placeholder:"yyyy-mm-dd hh:mm",leapday:"-02-29",separator:"-",alias:"datetime"},datetime12:{mask:"1/2/y h:s t\\m",placeholder:"dd/mm/yyyy hh:mm xm",alias:"datetime",hourFormat:"12"},"mm/dd/yyyy hh:mm xm":{mask:"1/2/y h:s t\\m",placeholder:"mm/dd/yyyy hh:mm xm",alias:"datetime12",regex:{val2pre:function(e){e=s.escapeRegex.call(this,e);return new RegExp("((0[13-9]|1[012])"+e+"[0-3])|(02"+e+"[0-2])")},val2:function(e){e=s.escapeRegex.call(this,e);return new RegExp("((0[1-9]|1[012])"+e+"(0[1-9]|[12][0-9]))|((0[13-9]|1[012])"+e+"30)|((0[13578]|1[02])"+e+"31)")},val1pre:new RegExp("[01]"),val1:new RegExp("0[1-9]|1[012]")},leapday:"02/29/",onKeyDown:function(e,t,n,i){var o=r(this);e.ctrlKey&&e.keyCode===s.keyCode.RIGHT&&(e=new Date,o.val((e.getMonth()+1).toString()+e.getDate().toString()+e.getFullYear().toString()),o.trigger("setvalue"))}},"hh:mm t":{mask:"h:s t\\m",placeholder:"hh:mm xm",alias:"datetime",hourFormat:"12"},"h:s t":{mask:"h:s t\\m",placeholder:"hh:mm xm",alias:"datetime",hourFormat:"12"},"hh:mm:ss":{mask:"h:s:s",placeholder:"hh:mm:ss",alias:"datetime",autoUnmask:!1},"hh:mm":{mask:"h:s",placeholder:"hh:mm",alias:"datetime",autoUnmask:!1},date:{alias:"dd/mm/yyyy"},"mm/yyyy":{mask:"1/y",placeholder:"mm/yyyy",leapday:"donotuse",separator:"/",alias:"mm/dd/yyyy"},shamsi:{regex:{val2pre:function(e){e=s.escapeRegex.call(this,e);return new RegExp("((0[1-9]|1[012])"+e+"[0-3])")},val2:function(e){e=s.escapeRegex.call(this,e);return new RegExp("((0[1-9]|1[012])"+e+"(0[1-9]|[12][0-9]))|((0[1-9]|1[012])"+e+"30)|((0[1-6])"+e+"31)")},val1pre:new RegExp("[01]"),val1:new RegExp("0[1-9]|1[012]")},yearrange:{minyear:1300,maxyear:1499},mask:"y/1/2",leapday:"/12/30",placeholder:"yyyy/mm/dd",alias:"mm/dd/yyyy",clearIncomplete:!0}})}(jQuery,Inputmask),function(e){e.extendDefinitions({A:{validator:"[A-Za-zА-яЁёÀ-ÿµ]",cardinality:1,casing:"upper"},"&":{validator:"[0-9A-Za-zА-яЁёÀ-ÿµ]",cardinality:1,casing:"upper"},"#":{validator:"[0-9A-Fa-f]",cardinality:1,casing:"upper"}}),e.extendAliases({url:{definitions:{i:{validator:".",cardinality:1}},mask:"(\\http://)|(\\http\\s://)|(ftp://)|(ftp\\s://)i{+}",insertMode:!1,autoUnmask:!1},ip:{mask:"i[i[i]].i[i[i]].i[i[i]].i[i[i]]",definitions:{i:{validator:function(e,t,n,i,o){return e=-1<n-1&&"."!==t.buffer[n-1]?(e=t.buffer[n-1]+e,-1<n-2&&"."!==t.buffer[n-2]?t.buffer[n-2]+e:"0"+e):"00"+e,new RegExp("25[0-5]|2[0-4][0-9]|[01][0-9][0-9]").test(e)},cardinality:1}},onUnMask:function(e,t,n){return e}},email:{mask:"*{1,64}[.*{1,64}][.*{1,64}][.*{1,63}]@-{1,63}.-{1,63}[.-{1,63}][.-{1,63}]",greedy:!1,onBeforePaste:function(e,t){return(e=e.toLowerCase()).replace("mailto:","")},definitions:{"*":{validator:"[0-9A-Za-z!#$%&'*+/=?^_`{|}~-]",cardinality:1,casing:"lower"},"-":{validator:"[0-9A-Za-z-]",cardinality:1,casing:"lower"}},onUnMask:function(e,t,n){return e}},mac:{mask:"##:##:##:##:##:##"},range:{mask:"*{1,30}~*{1,30}",greedy:!1,definitions:{"*":{validator:"[0-9-]",cardinality:1,casing:"lower"}}},alphaDash:{mask:"*{1,64}",greedy:!1,definitions:{"*":{validator:"[a-z_A-Z0-9]",cardinality:1,casing:"lower"}}},resolution:{mask:"9{1,8}×9{1,8}"},phone:{mask:"+86-9{11}"},timecode:{mask:"##:##:##:##"},timecode_range:{mask:"##:##:##:##-##:##:##:##"},cropping:{mask:"*{1,6}[.*{1,6}]:*{1,6}[.*{1,6}]",greedy:!1,definitions:{"*":{validator:"[0-9]",cardinality:1,casing:"lower"}}},vin:{mask:"V{13}9{4}",definitions:{V:{validator:"[A-HJ-NPR-Za-hj-npr-z\\d]",cardinality:1,casing:"upper"}},clearIncomplete:!0,autoUnmask:!0}})}((jQuery,Inputmask)),function(p,f){f.extendAliases({numeric:{mask:function(i){function e(e){for(var t="",n=0;n<e.length;n++)t+=i.definitions[e.charAt(n)]||i.optionalmarker.start===e.charAt(n)||i.optionalmarker.end===e.charAt(n)||i.quantifiermarker.start===e.charAt(n)||i.quantifiermarker.end===e.charAt(n)||i.groupmarker.start===e.charAt(n)||i.groupmarker.end===e.charAt(n)||i.alternatormarker===e.charAt(n)?"\\"+e.charAt(n):e.charAt(n);return t}var t;0!==i.repeat&&isNaN(i.integerDigits)&&(i.integerDigits=i.repeat),i.repeat=0,i.groupSeparator===i.radixPoint&&("."===i.radixPoint?i.groupSeparator=",":","===i.radixPoint?i.groupSeparator=".":i.groupSeparator="")," "===i.groupSeparator&&(i.skipOptionalPartCharacter=void 0),i.autoGroup=i.autoGroup&&""!==i.groupSeparator,i.autoGroup&&("string"==typeof i.groupSize&&isFinite(i.groupSize)&&(i.groupSize=parseInt(i.groupSize)),isFinite(i.integerDigits))&&(n=Math.floor(i.integerDigits/i.groupSize),t=i.integerDigits%i.groupSize,i.integerDigits=parseInt(i.integerDigits)+(0==t?n-1:n),i.integerDigits<1&&(i.integerDigits="*")),1<i.placeholder.length&&(i.placeholder=i.placeholder.charAt(0)),i.radixFocus=i.radixFocus&&""!==i.placeholder&&!0===i.integerOptional,i.definitions[";"]=i.definitions["~"],i.definitions[";"].definitionSymbol="~",!0===i.numericInput&&(i.radixFocus=!1,i.digitsOptional=!1,isNaN(i.digits)&&(i.digits=2),i.decimalProtect=!1);var n=e(i.prefix);return n+="[+]",n+=!0===i.integerOptional?"~{1,"+i.integerDigits+"}":"~{"+i.integerDigits+"}",void 0!==i.digits&&(isNaN(i.digits)||0<parseInt(i.digits))&&(i.decimalProtect&&(i.radixPointDefinitionSymbol=":"),n+=i.digitsOptional?"["+(i.decimalProtect?":":i.radixPoint)+";{1,"+i.digits+"}]":(i.decimalProtect?":":i.radixPoint)+";{"+i.digits+"}"),n+="[-]",n+=e(i.suffix),i.greedy=!1,null!==i.min&&(i.min=i.min.toString().replace(new RegExp(f.escapeRegex(i.groupSeparator),"g"),""),","===i.radixPoint&&(i.min=i.min.replace(i.radixPoint,"."))),null!==i.max&&(i.max=i.max.toString().replace(new RegExp(f.escapeRegex(i.groupSeparator),"g"),""),","===i.radixPoint&&(i.max=i.max.replace(i.radixPoint,"."))),n},placeholder:"",greedy:!1,digits:"*",digitsOptional:!0,radixPoint:".",radixFocus:!0,groupSize:3,groupSeparator:"",autoGroup:!1,allowPlus:!0,allowMinus:!0,negationSymbol:{front:"-",back:""},integerDigits:"+",integerOptional:!0,prefix:"",suffix:"",rightAlign:!0,decimalProtect:!0,min:null,max:null,step:1,insertMode:!0,autoUnmask:!1,unmaskAsNumber:!1,postFormat:function(e,t,n){!0===n.numericInput&&(e=e.reverse(),isFinite(t)&&(t=e.join("").length-t-1));var i,o,r=!1;e.length>=n.suffix.length&&e.join("").indexOf(n.suffix)===e.length-n.suffix.length&&(e.length=e.length-n.suffix.length,r=!0);var s=!1,a=e[t=t>=e.length?e.length-1:t<n.prefix.length?n.prefix.length:t],l=e.slice();a===n.groupSeparator&&(l.splice(t--,1),a=l[t]),a!==n.radixPoint&&a!==n.negationSymbol.front&&a!==n.negationSymbol.back&&(l[t]="?");var c=d=l.join("");if(0<d.length&&n.autoGroup||-1!==d.indexOf(n.groupSeparator)){var d,l=f.escapeRegex(n.groupSeparator),s=0===d.indexOf(n.groupSeparator),l=(d=d.replace(new RegExp(l,"g"),"")).split(n.radixPoint);if((d=""===n.radixPoint?d:l[0])!==n.prefix+"?0"&&d.length>=n.groupSize+n.prefix.length)for(var u=new RegExp("([-+]?[\\d?]+)([\\d?]{"+n.groupSize+"})");u.test(d)&&""!==n.groupSeparator;)d=(d=d.replace(u,"$1"+n.groupSeparator+"$2")).replace(n.groupSeparator+n.groupSeparator,n.groupSeparator);""!==n.radixPoint&&1<l.length&&(d+=n.radixPoint+l[1])}for(s=c!==d,e.length=d.length,i=0,o=d.length;i<o;i++)e[i]=d.charAt(i);c=p.inArray("?",e);if(e[c=-1===c?p.inArray(a,e):c]=a,!s&&r)for(i=0,o=n.suffix.length;i<o;i++)e.push(n.suffix.charAt(i));return c=n.numericInput&&isFinite(t)?e.join("").length-c-1:c,n.numericInput&&(e=e.reverse(),p.inArray(n.radixPoint,e)<c&&e.join("").length-n.suffix.length!==c&&--c),{pos:c,refreshFromBuffer:s,buffer:e}},onBeforeWrite:function(e,t,n,i){var o;if(e&&("blur"===e.type||"checkval"===e.type||"keydown"===e.type)){var r=(i.numericInput?t.slice().reverse():t).join(""),s=r.replace(i.prefix,"");s=(s=s.replace(i.suffix,"")).replace(new RegExp(f.escapeRegex(i.groupSeparator),"g"),"");var a=null!==(a=(s=","===i.radixPoint?s.replace(i.radixPoint,"."):s).match(new RegExp("[-"+f.escapeRegex(i.negationSymbol.front)+"]","g")))&&1===a.length;if(s=(s=s.replace(new RegExp("[-"+f.escapeRegex(i.negationSymbol.front)+"]","g"),"")).replace(new RegExp(f.escapeRegex(i.negationSymbol.back)+"$"),""),""!==(s=(s=isNaN(i.placeholder)?s.replace(new RegExp(f.escapeRegex(i.placeholder),"g"),""):s)===i.negationSymbol.front?s+"0":s)&&isFinite(s)){var l=parseFloat(s),c=a?-1*l:l;if(null!==i.min&&isFinite(i.min)&&c<parseFloat(i.min)?(l=Math.abs(i.min),a=i.min<0,r=void 0):null!==i.max&&isFinite(i.max)&&c>parseFloat(i.max)&&(l=Math.abs(i.max),a=i.max<0,r=void 0),s=l.toString().replace(".",i.radixPoint).split(""),isFinite(i.digits)){var d=p.inArray(i.radixPoint,s),u=p.inArray(i.radixPoint,r);-1===d&&(s.push(i.radixPoint),d=s.length-1);for(var h=1;h<=i.digits;h++)i.digitsOptional||void 0!==s[d+h]&&s[d+h]!==i.placeholder.charAt(0)?-1!==u&&void 0!==r[u+h]&&(s[d+h]=s[d+h]||r[u+h]):s[d+h]="0";s[s.length-1]===i.radixPoint&&delete s[s.length-1]}if(l.toString()!==s&&l.toString()+"."!==s||a)return!a||0===l&&"blur"===e.type||(s.unshift(i.negationSymbol.front),s.push(i.negationSymbol.back)),s=(i.prefix+s.join("")).split(""),i.numericInput&&(s=s.reverse()),(o=i.postFormat(s,i.numericInput?n:n-1,i)).buffer&&(o.refreshFromBuffer=o.buffer.join("")!==t.join("")),o}}return i.autoGroup?((o=i.postFormat(t,i.numericInput?n:n-1,i)).caret=n<=i.prefix.length?o.pos:o.pos+1,o):void 0},regex:{integerPart:function(e){return new RegExp("["+f.escapeRegex(e.negationSymbol.front)+"+]?\\d+")},integerNPart:function(e){return new RegExp("[\\d"+f.escapeRegex(e.groupSeparator)+f.escapeRegex(e.placeholder.charAt(0))+"]+")}},signHandler:function(e,t,n,i,o){if(!i&&o.allowMinus&&"-"===e||o.allowPlus&&"+"===e){i=t.buffer.join("").match(o.regex.integerPart(o));if(i&&0<i[0].length)return t.buffer[i.index]===("-"===e?"+":o.negationSymbol.front)?"-"===e?""!==o.negationSymbol.back?{pos:i.index,c:o.negationSymbol.front,remove:i.index,caret:n,insert:{pos:t.buffer.length-o.suffix.length-1,c:o.negationSymbol.back}}:{pos:i.index,c:o.negationSymbol.front,remove:i.index,caret:n}:""!==o.negationSymbol.back?{pos:i.index,c:"+",remove:[i.index,t.buffer.length-o.suffix.length-1],caret:n}:{pos:i.index,c:"+",remove:i.index,caret:n}:t.buffer[i.index]===("-"===e?o.negationSymbol.front:"+")?"-"===e&&""!==o.negationSymbol.back?{remove:[i.index,t.buffer.length-o.suffix.length-1],caret:n-1}:{remove:i.index,caret:n-1}:"-"===e?""!==o.negationSymbol.back?{pos:i.index,c:o.negationSymbol.front,caret:n+1,insert:{pos:t.buffer.length-o.suffix.length,c:o.negationSymbol.back}}:{pos:i.index,c:o.negationSymbol.front,caret:n+1}:{pos:i.index,c:e,caret:n+1}}return!1},radixHandler:function(e,t,n,i,o){if(!i&&!0!==o.numericInput&&e===o.radixPoint&&void 0!==o.digits&&(isNaN(o.digits)||0<parseInt(o.digits))){i=p.inArray(o.radixPoint,t.buffer),e=t.buffer.join("").match(o.regex.integerPart(o));if(-1!==i&&t.validPositions[i])return t.validPositions[i-1]?{caret:i+1}:{pos:e.index,c:e[0],caret:i+1};if(!e||"0"===e[0]&&e.index+1!==n)return t.buffer[e?e.index:n]="0",{pos:(e?e.index:n)+1,c:o.radixPoint}}return!1},leadingZeroHandler:function(e,t,n,i,o,r){if(!i)if(!0===o.numericInput){var s=t.buffer.slice("").reverse();if("0"===s[o.prefix.length]&&void 0===t.validPositions[n-1])return{pos:n,remove:s.length-o.prefix.length-1}}else{i=p.inArray(o.radixPoint,t.buffer),s=t.buffer.slice(0,-1!==i?i:void 0).join("").match(o.regex.integerNPart(o));if(s&&(-1===i||n<=i)){i=-1===i?0:parseInt(t.buffer.slice(i+1).join(""));if(0===s[0].indexOf(""!==o.placeholder?o.placeholder.charAt(0):"0")&&(s.index+1===n||!0!==r&&0===i))return t.buffer.splice(s.index,1),{pos:s.index,remove:s.index};if("0"===e&&n<=s.index&&s[0]!==o.groupSeparator)return!1}}return!0},definitions:{"~":{validator:function(e,t,n,i,o,r){var s=o.signHandler(e,t,n,i,o);return s=!s&&(!(s=o.radixHandler(e,t,n,i,o))&&(!0===(s=(i?new RegExp("[0-9"+f.escapeRegex(o.groupSeparator)+"]"):new RegExp("[0-9]")).test(e))&&!0===(s=o.leadingZeroHandler(e,t,n,i,o,r))))?-1!==(r=p.inArray(o.radixPoint,t.buffer))&&(!1===o.digitsOptional||t.validPositions[n])&&!0!==o.numericInput&&r<n&&!i?{pos:n,remove:n}:{pos:n}:s},cardinality:1},"+":{validator:function(e,t,n,i,o){var r=o.signHandler(e,t,n,i,o);return r=!r&&(i&&o.allowMinus&&e===o.negationSymbol.front||o.allowMinus&&"-"===e||o.allowPlus&&"+"===e)?!(!i&&"-"===e)||(""!==o.negationSymbol.back?{pos:n,c:"-"===e?o.negationSymbol.front:"+",caret:n+1,insert:{pos:t.buffer.length,c:o.negationSymbol.back}}:{pos:n,c:"-"===e?o.negationSymbol.front:"+",caret:n+1}):r},cardinality:1,placeholder:""},"-":{validator:function(e,t,n,i,o){n=o.signHandler(e,t,n,i,o);return n=!n&&i&&o.allowMinus&&e===o.negationSymbol.back?!0:n},cardinality:1,placeholder:""},":":{validator:function(e,t,n,i,o){var r=o.signHandler(e,t,n,i,o);return r||(i="["+f.escapeRegex(o.radixPoint)+"]",(r=new RegExp(i).test(e))&&t.validPositions[n]&&t.validPositions[n].match.placeholder===o.radixPoint&&(r={caret:n+1})),r&&{c:o.radixPoint}},cardinality:1,placeholder:function(e){return e.radixPoint}}},onUnMask:function(e,t,n){e=e.replace(n.prefix,"");return e=(e=e.replace(n.suffix,"")).replace(new RegExp(f.escapeRegex(n.groupSeparator),"g"),""),n.unmaskAsNumber?(""!==n.radixPoint&&-1!==e.indexOf(n.radixPoint)&&(e=e.replace(f.escapeRegex.call(this,n.radixPoint),".")),Number(e)):e},isComplete:function(e,t){var n=e.join(""),e=e.slice();if(t.postFormat(e,0,t),e.join("")!==n)return!1;n=n.replace(t.prefix,"");return n=(n=n.replace(t.suffix,"")).replace(new RegExp(f.escapeRegex(t.groupSeparator),"g"),""),","===t.radixPoint&&(n=n.replace(f.escapeRegex(t.radixPoint),".")),isFinite(n)},onBeforeMask:function(e,t){var n,i;return e=""!==t.radixPoint&&isFinite(e)?e.toString().replace(".",t.radixPoint):(n=e.match(/,/g),(i=e.match(/\./g))&&n?i.length>n.length?(e=e.replace(/\./g,"")).replace(",",t.radixPoint):n.length>i.length?(e=e.replace(/,/g,"")).replace(".",t.radixPoint):e.indexOf(".")<e.indexOf(",")?e.replace(/\./g,""):e.replace(/,/g,""):e.replace(new RegExp(f.escapeRegex(t.groupSeparator),"g"),"")),0===t.digits&&(-1!==e.indexOf(".")?e=e.substring(0,e.indexOf(".")):-1!==e.indexOf(",")&&(e=e.substring(0,e.indexOf(",")))),""!==t.radixPoint&&isFinite(t.digits)&&-1!==e.indexOf(t.radixPoint)&&(i=e.split(t.radixPoint)[1].match(new RegExp("\\d*"))[0],parseInt(t.digits)<i.toString().length&&(i=Math.pow(10,parseInt(t.digits)),e=e.replace(f.escapeRegex(t.radixPoint),"."),e=(e=Math.round(parseFloat(e)*i)/i).toString().replace(".",t.radixPoint))),e.toString()},canClearPosition:function(e,t,n,i,o){var r=e.validPositions[t].input;return r!==o.radixPoint||null!==e.validPositions[t].match.fn&&!1===o.decimalProtect||isFinite(r)||t===n||r===o.groupSeparator||r===o.negationSymbol.front||r===o.negationSymbol.back},onKeyDown:function(e,t,n,i){var o=p(this);if(e.ctrlKey)switch(e.keyCode){case f.keyCode.UP:o.val(parseFloat(this.inputmask.unmaskedvalue())+parseInt(i.step)),o.trigger("setvalue");break;case f.keyCode.DOWN:o.val(parseFloat(this.inputmask.unmaskedvalue())-parseInt(i.step)),o.trigger("setvalue")}}},currency:{prefix:"$ ",groupSeparator:",",alias:"numeric",placeholder:"0",autoGroup:!0,digits:2,digitsOptional:!1,clearMaskOnLostFocus:!1},decimal:{alias:"numeric"},integer:{alias:"numeric",digits:0,radixPoint:""},percentage:{alias:"numeric",digits:2,radixPoint:".",placeholder:"0",autoGroup:!1,min:0,max:1e4,suffix:" %",allowPlus:!1,allowMinus:!1}})}(jQuery,Inputmask),function(e,t){t.extendAliases({phoneNums:{url:"./phone-codes/phone-codes.js",countrycode:"",phoneCodeCache:{},mask:function(i){var t;return void 0===i.phoneCodeCache[i.url]&&(t=[],i.definitions["#"]=i.definitions[9],e.ajax({url:i.url,async:!1,type:"get",dataType:"json",success:function(e){t=e},error:function(e,t,n){alert(n+" - "+i.url)}}),i.phoneCodeCache[i.url]=t.sort(function(e,t){return(e.mask||e)<(t.mask||t)?-1:1})),i.phoneCodeCache[i.url]},keepStatic:!1,nojumps:!0,nojumpsThreshold:1,onBeforeMask:function(e,t){e=e.replace(/^0{1,2}/,"").replace(/[\s]/g,"");return e=1<e.indexOf(t.countrycode)||-1===e.indexOf(t.countrycode)?"+"+t.countrycode+e:e}},phonebe:{alias:"phone",url:"phone-codes/phone-be.js",countrycode:"32",nojumpsThreshold:4}})}(jQuery,Inputmask),function(b,e){e.extendAliases({Regex:{mask:"r",greedy:!1,repeat:"*",regex:null,regexTokens:null,tokenizer:/\[\^?]?(?:[^\\\]]+|\\[\S\s]?)*]?|\\(?:0(?:[0-3][0-7]{0,2}|[4-7][0-7]?)?|[1-9][0-9]*|x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4}|c[A-Za-z]|[\S\s]?)|\((?:\?[:=!]?)?|(?:[?*+]|\{[0-9]+(?:,[0-9]*)?\})\??|[^.?*+^${[()|\\]+|./g,quantifierFilter:/[0-9]+[^,]/,isComplete:function(e,t){return new RegExp(t.regex).test(e.join(""))},definitions:{r:{validator:function(e,t,n,i,a){function l(e,t){this.matches=[],this.isGroup=e||!1,this.isQuantifier=t||!1,this.quantifier={min:1,max:1},this.repeaterPart=void 0}var c,t=t.buffer.slice(),m="",o=!1,g=0;null===a.regexTokens&&function(){var e=new l,t=[];for(a.regexTokens=[];i=a.tokenizer.exec(a.regex);)switch(n=i[0],n.charAt(0)){case"(":t.push(new l(!0));break;case")":c=t.pop(),(0<t.length?t[t.length-1]:e).matches.push(c);break;case"{":case"+":case"*":var n,i,o=new l(!1,!0),r=(n=n.replace(/[{}]/g,"")).split(","),s=isNaN(r[0])?r[0]:parseInt(r[0]),r=1===r.length?s:isNaN(r[1])?r[1]:parseInt(r[1]);o.quantifier={min:s,max:r},0<t.length?((i=(r=t[t.length-1].matches).pop()).isGroup||((c=new l(!0)).matches.push(i),i=c),r.push(i),r.push(o)):((i=e.matches.pop()).isGroup||((c=new l(!0)).matches.push(i),i=c),e.matches.push(i),e.matches.push(o));break;default:(0<t.length?t[t.length-1]:e).matches.push(n)}0<e.matches.length&&a.regexTokens.push(e)}(),t.splice(n,0,e);for(var v=t.join(""),r=0;r<a.regexTokens.length;r++){var s=a.regexTokens[r];if(o=function e(t,n){var i=!1;n&&(m+="(",g++);for(var o=0;o<t.matches.length;o++){var r=t.matches[o];if(!0===r.isGroup)i=e(r,!0);else if(!0===r.isQuantifier){var s=b.inArray(r,t.matches),a=t.matches[s-1],s=m;if(isNaN(r.quantifier.max)){for(;r.repeaterPart&&r.repeaterPart!==m&&r.repeaterPart.length>m.length&&!(i=e(a,!0)););(i=i||e(a,!0))&&(r.repeaterPart=m),m=s+r.quantifier.max}else{for(var l=0,c=r.quantifier.max-1;l<c&&!(i=e(a,!0));l++);m=s+"{"+r.quantifier.min+","+r.quantifier.max+"}"}}else if(void 0!==r.matches)for(var d=0;d<r.length&&!(i=e(r[d],n));d++);else{if("["==r.charAt(0)){f=m,f+=r;for(var u=0;u<g;u++)f+=")";i=new RegExp("^("+f+")$").test(v)}else for(var h=0,p=r.length;h<p;h++)if("\\"!==r.charAt(h)){f=m;for(var f=(f+=r.substr(0,h+1)).replace(/\|$/,""),u=0;u<g;u++)f+=")";if(i=new RegExp("^("+f+")$").test(v))break}m+=r}if(i)break}return n&&(m+=")",g--),i}(s,s.isGroup))break}return o},cardinality:1}}}})}(jQuery,Inputmask),window.matchMedia||(window.matchMedia=function(){"use strict";var t,e,n,i=window.styleMedia||window.media;return i||(t=document.createElement("style"),e=document.getElementsByTagName("script")[0],n=null,t.type="text/css",t.id="matchmediajs-test",e.parentNode.insertBefore(t,e),n="getComputedStyle"in window&&window.getComputedStyle(t,null)||t.currentStyle,i={matchMedium:function(e){e="@media "+e+"{ #matchmediajs-test { width: 1px; } }";return t.styleSheet?t.styleSheet.cssText=e:t.textContent=e,"1px"===n.width}}),function(e){return{matches:i.matchMedium(e||"all"),media:e||"all"}}}()),function(a,l,e){"use strict";function t(e){"object"==typeof module&&"object"==typeof module.exports?module.exports=e:"function"==typeof define&&define.amd&&define("picturefill",function(){return e}),"object"==typeof a&&(a.picturefill=e)}function o(e){for(var t,n,i,o,r=e||{},s=r.elements||c.getAllElements(),a=0,l=s.length;a<l;a++)if(n=(t=s[a]).parentNode,o=i=void 0,"IMG"===t.nodeName.toUpperCase()&&(t[c.ns]||(t[c.ns]={}),r.reevaluate||!t[c.ns].evaluated)){if(n&&"PICTURE"===n.nodeName.toUpperCase()){if(c.removeVideoShim(n),!1===(i=c.getMatch(t,n)))continue}else i=void 0;(n&&"PICTURE"===n.nodeName.toUpperCase()||!c.sizesSupported&&t.srcset&&d.test(t.srcset))&&c.dodgeSrcset(t),i?(o=c.processSourceSet(i),c.applyBestCandidate(o,t)):(o=c.processSourceSet(t),void 0!==t.srcset&&!t[c.ns].srcset||c.applyBestCandidate(o,t)),t[c.ns].evaluated=!0}}if(a.HTMLPictureElement)return t(function(){});l.createElement("picture");var i,n,c=a.picturefill||{},d=/\s+\+?\d+(e\d+)?w/;function r(e,t,n){t&&e.setAttribute("width",parseInt(t/n,10))}c.ns="picturefill",c.srcsetSupported="srcset"in e,c.sizesSupported="sizes"in e,c.curSrcSupported="currentSrc"in e,c.trim=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},c.makeUrl=(n=l.createElement("a"),function(e){return n.href=e,n.href}),c.restrictsMixedContent=function(){return"https:"===a.location.protocol},c.matchesMedia=function(e){return a.matchMedia&&a.matchMedia(e).matches},c.getDpr=function(){return a.devicePixelRatio||1},c.getWidthFromLength=function(e){if(!e||-1<e.indexOf("%")!=0||!(0<parseFloat(e)||-1<e.indexOf("calc(")))return!1;e=e.replace("vw","%"),c.lengthEl||(c.lengthEl=l.createElement("div"),c.lengthEl.style.cssText="border:0;display:block;font-size:1em;left:0;margin:0;padding:0;position:absolute;visibility:hidden",c.lengthEl.className="helper-from-picturefill-js"),c.lengthEl.style.width="0px";try{c.lengthEl.style.width=e}catch(e){}return l.body.appendChild(c.lengthEl),(e=c.lengthEl.offsetWidth)<=0&&(e=!1),l.body.removeChild(c.lengthEl),e},c.detectTypeSupport=function(e,t){var n=new a.Image;return n.onerror=function(){c.types[e]=!1,o()},n.onload=function(){c.types[e]=1===n.width,o()},n.src=t,"pending"},c.types=c.types||{},c.initTypeDetects=function(){c.types["image/jpeg"]=!0,c.types["image/gif"]=!0,c.types["image/png"]=!0,c.types["image/svg+xml"]=l.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Image","1.1"),c.types["image/webp"]=c.detectTypeSupport("image/webp","data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA=")},c.verifyTypeSupport=function(e){var t=e.getAttribute("type");if(null===t||""===t)return!0;e=c.types[t];return"string"==typeof e&&"pending"!==e?(c.types[t]=c.detectTypeSupport(t,e),"pending"):"function"==typeof e?(e(),"pending"):e},c.parseSize=function(e){e=/(\([^)]+\))?\s*(.+)/g.exec(e);return{media:e&&e[1],length:e&&e[2]}},c.findWidthFromSourceSize=function(e){for(var t,n=c.trim(e).split(/\s*,\s*/),i=0,o=n.length;i<o;i++){var r=n[i],s=c.parseSize(r),r=s.length,s=s.media;if(r&&(!s||c.matchesMedia(s))&&(t=c.getWidthFromLength(r)))break}return t||Math.max(a.innerWidth||0,l.documentElement.clientWidth)},c.parseSrcset=function(e){for(var t=[];""!==e;){var n,i=(e=e.replace(/^\s+/g,"")).search(/\s/g),o=null;-1!==i?(","!==(n=e.slice(0,i)).slice(-1)&&""!==n||(n=n.replace(/,+$/,""),o=""),e=e.slice(i+1),null===o&&(e=-1!==(i=e.indexOf(","))?(o=e.slice(0,i),e.slice(i+1)):(o=e,""))):(n=e,e=""),(n||o)&&t.push({url:n,descriptor:o})}return t},c.parseDescriptor=function(e,t){var t=t||"100vw",e=e&&e.replace(/(^\s+|\s+$)/g,""),n=c.findWidthFromSourceSize(t);if(e)for(var i=e.split(" "),o=i.length-1;0<=o;o--){var r,s=i[o],a=s&&s.slice(s.length-1);"h"!==a&&"w"!==a||c.sizesSupported?"x"===a&&(r=(a=s&&parseFloat(s,10))&&!isNaN(a)?a:1):r=parseFloat(parseInt(s,10)/n)}return r||1},c.getCandidatesFromSourceSet=function(e,t){for(var n=c.parseSrcset(e),i=[],o=0,r=n.length;o<r;o++){var s=n[o];i.push({url:s.url,resolution:c.parseDescriptor(s.descriptor,t)})}return i},c.dodgeSrcset=function(e){e.srcset&&(e[c.ns].srcset=e.srcset,e.srcset="",e.setAttribute("data-pfsrcset",e[c.ns].srcset))},c.processSourceSet=function(e){var t=e.getAttribute("srcset"),n=e.getAttribute("sizes"),i=[];return i=(t="IMG"===e.nodeName.toUpperCase()&&e[c.ns]&&e[c.ns].srcset?e[c.ns].srcset:t)?c.getCandidatesFromSourceSet(t,n):i},c.backfaceVisibilityFix=function(e){var t=e.style||{},n="webkitBackfaceVisibility"in t,i=t.zoom;n&&(t.zoom=".999",e.offsetWidth,t.zoom=i)},c.setIntrinsicSize=(i={},function(e,t){var n;e[c.ns]&&!a.pfStopIntrinsicSize&&(void 0===e[c.ns].dims&&(e[c.ns].dims=e.getAttribute("width")||e.getAttribute("height")),e[c.ns].dims||(t.url in i?r(e,i[t.url],t.resolution):((n=l.createElement("img")).onload=function(){if(i[t.url]=n.width,!i[t.url])try{l.body.appendChild(n),i[t.url]=n.width||n.offsetWidth,l.body.removeChild(n)}catch(e){}e.src===t.url&&r(e,i[t.url],t.resolution),e=null,n.onload=null,n=null},n.src=t.url)))}),c.applyBestCandidate=function(e,t){var n;e.sort(c.ascendingSort);for(var i,o=e[(i=e.length)-1],r=0;r<i;r++)if((n=e[r]).resolution>=c.getDpr()){o=n;break}o&&(o.url=c.makeUrl(o.url),t.src!==o.url&&(c.restrictsMixedContent()&&"http:"===o.url.substr(0,"http:".length).toLowerCase()?void 0!==window.console&&console.warn("Blocked mixed content image "+o.url):(t.src=o.url,c.curSrcSupported||(t.currentSrc=t.src),c.backfaceVisibilityFix(t))),c.setIntrinsicSize(t,o))},c.ascendingSort=function(e,t){return e.resolution-t.resolution},c.removeVideoShim=function(e){var t=e.getElementsByTagName("video");if(t.length){for(var n=t[0],i=n.getElementsByTagName("source");i.length;)e.insertBefore(i[0],n);n.parentNode.removeChild(n)}},c.getAllElements=function(){for(var e=[],t=l.getElementsByTagName("img"),n=0,i=t.length;n<i;n++){var o=t[n];("PICTURE"===o.parentNode.nodeName.toUpperCase()||null!==o.getAttribute("srcset")||o[c.ns]&&null!==o[c.ns].srcset)&&e.push(o)}return e},c.getMatch=function(e,t){for(var n,i=t.childNodes,o=0,r=i.length;o<r;o++){var s=i[o];if(1===s.nodeType){if(s===e)return n;if("SOURCE"===s.nodeName.toUpperCase()){null!==s.getAttribute("src")&&console.warn("The `src` attribute is invalid on `picture` `source` element; instead, use `srcset`.");var a=s.getAttribute("media");if(s.getAttribute("srcset")&&(!a||c.matchesMedia(a))){a=c.verifyTypeSupport(s);if(!0===a){n=s;break}if("pending"===a)return!1}}}}return n},function(){function e(){clearTimeout(n),n=setTimeout(t,60)}function t(){o({reevaluate:!0})}c.initTypeDetects(),o();var n,i=setInterval(function(){return o(),/^loaded|^i|^c/.test(l.readyState)?void clearInterval(i):void 0},250);a.addEventListener?a.addEventListener("resize",e,!1):a.attachEvent&&a.attachEvent("onresize",e)}(),o._=c,t(o)}(window,window.document,new window.Image),function(e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).Lightgallery=e()}(function(){return function i(o,r,s){function a(t,e){if(!r[t]){if(!o[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(l)return l(t,!0);throw(n=new Error("Cannot find module '"+t+"'")).code="MODULE_NOT_FOUND",n}n=r[t]={exports:{}},o[t][0].call(n.exports,function(e){return a(o[t][1][e]||e)},n,n.exports,i,o,r,s)}return r[t].exports}for(var l="function"==typeof require&&require,e=0;e<s.length;e++)a(s[e]);return a}({1:[function(e,t,n){!function(e,t){void 0!==n?t(n):(t(t={}),e.lgUtils=t)}(this,function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s={getAttribute:function(e,t){return e[t]},setAttribute:function(e,t,n){e[t]=n},wrap:function(e,t){var n;e&&((n=document.createElement("div")).className=t,e.parentNode.insertBefore(n,e),e.parentNode.removeChild(e),n.appendChild(e))},addClass:function(e,t){e&&(e.classList?e.classList.add(t):e.className+=" "+t)},removeClass:function(e,t){e&&(e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\b)"+t.split(" ").join("|")+"(\\b|$)","gi")," "))},hasClass:function(e,t){return e.classList?e.classList.contains(t):new RegExp("(^| )"+t+"( |$)","gi").test(e.className)},setVendor:function(e,t,n){e&&(e.style[t.charAt(0).toLowerCase()+t.slice(1)]=n,e.style["webkit"+t]=n,e.style["moz"+t]=n,e.style["ms"+t]=n,e.style["o"+t]=n)},trigger:function(e,t){e&&(t=new CustomEvent(t,{detail:2<arguments.length&&void 0!==arguments[2]?arguments[2]:null}),e.dispatchEvent(t))},Listener:{uid:0},on:function(n,e,i){var o=this;n&&e.split(" ").forEach(function(e){var t=o.getAttribute(n,"lg-event-uid")||"";s.Listener.uid++,t+="&"+s.Listener.uid,o.setAttribute(n,"lg-event-uid",t),s.Listener[e+s.Listener.uid]=i,n.addEventListener(e.split(".")[0],i,!1)})},off:function(e,t){if(e&&(n=this.getAttribute(e,"lg-event-uid")))for(var n=n.split("&"),i=0;i<n.length;i++)if(n[i]){var o=t+n[i];if("."===o.substring(0,1))for(var r in s.Listener)s.Listener.hasOwnProperty(r)&&-1<r.split(".").indexOf(o.split(".")[1])&&(e.removeEventListener(r.split(".")[0],s.Listener[r]),this.setAttribute(e,"lg-event-uid",this.getAttribute(e,"lg-event-uid").replace("&"+n[i],"")),delete s.Listener[r]);else e.removeEventListener(o.split(".")[0],s.Listener[o]),this.setAttribute(e,"lg-event-uid",this.getAttribute(e,"lg-event-uid").replace("&"+n[i],"")),delete s.Listener[o]}},param:function(t){return Object.keys(t).map(function(e){return encodeURIComponent(e)+"="+encodeURIComponent(t[e])}).join("&")}};e.default=s})},{}],2:[function(e,t,n){var i,o;i=this,o=function(e){"use strict";var t,h=(t=e)&&t.__esModule?t:{default:t};var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,i=arguments[t];for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e};function i(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}"function"!=typeof window.CustomEvent&&(i.prototype=window.Event.prototype,window.CustomEvent=i),window.utils=h.default,window.lgData={uid:0};var o={mode:"lg-slide",cssEasing:"ease",easing:"linear",speed:600,height:"100%",width:"100%",addClass:"",startClass:"lg-start-zoom",backdropDuration:150,hideBarsDelay:6e3,useLeft:!(window.lgModules={}),closable:!0,loop:!0,escKey:!0,keyPress:!0,controls:!0,slideEndAnimatoin:!0,hideControlOnEnd:!1,mousewheel:!1,getCaptionFromTitleOrAlt:!0,appendSubHtmlTo:".lg-sub-html",subHtmlSelectorRelative:!1,preload:1,showAfterLoad:!0,selector:"",selectWithin:"",nextHtml:"",prevHtml:"",index:!1,iframeMaxWidth:"100%",download:!0,counter:!0,appendCounterTo:".lg-toolbar",swipeThreshold:50,enableSwipe:!0,enableDrag:!0,dynamic:!1,dynamicEl:[],galleryId:1};function r(e,t){if(this.el=e,this.s=n({},o,t),this.s.dynamic&&"undefined"!==this.s.dynamicEl&&this.s.dynamicEl.constructor===Array&&!this.s.dynamicEl.length)throw"When using dynamic mode, you must also define dynamicEl as an Array.";return this.modules={},this.lGalleryOn=!1,this.lgBusy=!1,this.hideBartimeout=!1,this.isTouch="ontouchstart"in document.documentElement,this.s.slideEndAnimatoin&&(this.s.hideControlOnEnd=!1),this.items=[],this.s.dynamic?this.items=this.s.dynamicEl:"this"===this.s.selector?this.items.push(this.el):""!==this.s.selector?this.s.selectWithin?this.items=document.querySelector(this.s.selectWithin).querySelectorAll(this.s.selector):this.items=this.el.querySelectorAll(this.s.selector):this.items=this.el.children,this.___slide="",this.outer="",this.init(),this}r.prototype.init=function(){var n=this;n.s.preload>n.items.length&&(n.s.preload=n.items.length);var e=window.location.hash;if(0<e.indexOf("lg="+this.s.galleryId)&&(n.index=parseInt(e.split("&slide=")[1],10),h.default.addClass(document.body,"lg-from-hash"),h.default.hasClass(document.body,"lg-on")||(h.default.addClass(document.body,"lg-on"),setTimeout(function(){n.build(n.index)}))),n.s.dynamic)h.default.trigger(this.el,"onBeforeOpen"),n.index=n.s.index||0,h.default.hasClass(document.body,"lg-on")||(h.default.addClass(document.body,"lg-on"),setTimeout(function(){n.build(n.index)}));else for(var t=0;t<n.items.length;t++)!function(t){h.default.on(n.items[t],"click.lgcustom",function(e){e.preventDefault(),h.default.trigger(n.el,"onBeforeOpen"),n.index=n.s.index||t,h.default.hasClass(document.body,"lg-on")||(n.build(n.index),h.default.addClass(document.body,"lg-on"))})}(t)},r.prototype.build=function(e){var t,n=this;for(t in n.structure(),window.lgModules)n.modules[t]=new window.lgModules[t](n.el);n.slide(e,!1,!1),n.s.keyPress&&n.keyPress(),1<n.items.length&&(n.arrow(),setTimeout(function(){n.enableDrag(),n.enableSwipe()},50),n.s.mousewheel&&n.mousewheel()),n.counter(),n.closeGallery(),h.default.trigger(n.el,"onAfterOpen"),h.default.on(n.outer,"mousemove.lg click.lg touchstart.lg",function(){h.default.removeClass(n.outer,"lg-hide-items"),clearTimeout(n.hideBartimeout),n.hideBartimeout=setTimeout(function(){h.default.addClass(n.outer,"lg-hide-items")},n.s.hideBarsDelay)})},r.prototype.structure=function(){var e="",t="",n=0,i="",o=this;for(document.body.insertAdjacentHTML("beforeend",'<div class="lg-backdrop"></div>'),h.default.setVendor(document.querySelector(".lg-backdrop"),"TransitionDuration",this.s.backdropDuration+"ms"),n=0;n<this.items.length;n++)e+='<div class="lg-item"></div>';this.s.controls&&1<this.items.length&&(t='<div class="lg-actions"><div class="lg-prev lg-icon">'+this.s.prevHtml+'</div><div class="lg-next lg-icon">'+this.s.nextHtml+"</div></div>"),".lg-sub-html"===this.s.appendSubHtmlTo&&(i='<div class="lg-sub-html"></div>'),i='<div class="lg-outer '+this.s.addClass+" "+this.s.startClass+'"><div class="lg" style="width:'+this.s.width+"; height:"+this.s.height+'"><div class="lg-inner">'+e+'</div><div class="lg-toolbar group"><span class="lg-close lg-icon"></span></div>'+t+i+"</div></div>",document.body.insertAdjacentHTML("beforeend",i),this.outer=document.querySelector(".lg-outer"),this.___slide=this.outer.querySelectorAll(".lg-item"),this.s.useLeft?(h.default.addClass(this.outer,"lg-use-left"),this.s.mode="lg-slide"):h.default.addClass(this.outer,"lg-use-css3"),o.setTop(),h.default.on(window,"resize.lg orientationchange.lg",function(){setTimeout(function(){o.setTop()},100)}),h.default.addClass(this.___slide[this.index],"lg-current"),this.doCss()?h.default.addClass(this.outer,"lg-css3"):(h.default.addClass(this.outer,"lg-css"),this.s.speed=0),h.default.addClass(this.outer,this.s.mode),this.s.enableDrag&&1<this.items.length&&h.default.addClass(this.outer,"lg-grab"),this.s.showAfterLoad&&h.default.addClass(this.outer,"lg-show-after-load"),this.doCss()&&(i=this.outer.querySelector(".lg-inner"),h.default.setVendor(i,"TransitionTimingFunction",this.s.cssEasing),h.default.setVendor(i,"TransitionDuration",this.s.speed+"ms")),setTimeout(function(){h.default.addClass(document.querySelector(".lg-backdrop"),"in")}),setTimeout(function(){h.default.addClass(o.outer,"lg-visible")},this.s.backdropDuration),this.s.download&&this.outer.querySelector(".lg-toolbar").insertAdjacentHTML("beforeend",'<a id="lg-download" target="_blank" download class="lg-download lg-icon"></a>'),this.prevScrollTop=document.documentElement.scrollTop||document.body.scrollTop},r.prototype.setTop=function(){var e,t,n;"100%"!==this.s.height&&(t=((e=window.innerHeight)-parseInt(this.s.height,10))/2,n=this.outer.querySelector(".lg"),e>=parseInt(this.s.height,10)?n.style.top=t+"px":n.style.top="0px")},r.prototype.doCss=function(){return!!function(){for(var e=["transition","MozTransition","WebkitTransition","OTransition","msTransition","KhtmlTransition"],t=document.documentElement,n=0,n=0;n<e.length;n++)if(e[n]in t.style)return!0}()},r.prototype.isVideo=function(e,t){var n=this.s.dynamic?this.s.dynamicEl[t].html:this.items[t].getAttribute("data-html");if(!e&&n)return{html5:!0};var i=e.match(/\/\/(?:www\.)?youtu(?:\.be|be\.com|be-nocookie\.com)\/(?:watch\?v=|embed\/)?([a-z0-9\-\_\%]+)/i),t=e.match(/\/\/(?:www\.)?vimeo.com\/([0-9a-z\-_]+)/i),n=e.match(/\/\/(?:www\.)?dai.ly\/([0-9a-z\-_]+)/i),e=e.match(/\/\/(?:www\.)?(?:vk\.com|vkontakte\.ru)\/(?:video_ext\.php\?)(.*)/i);return i?{youtube:i}:t?{vimeo:t}:n?{dailymotion:n}:e?{vk:e}:void 0},r.prototype.counter=function(){this.s.counter&&this.outer.querySelector(this.s.appendCounterTo).insertAdjacentHTML("beforeend",'<div id="lg-counter"><span id="lg-counter-current">'+(parseInt(this.index,10)+1)+'</span> / <span id="lg-counter-all">'+this.items.length+"</span></div>")},r.prototype.addHtml=function(e){var t,n,i=null;this.s.dynamic?i=this.s.dynamicEl[e].subHtml:(i=(t=this.items[e]).getAttribute("data-sub-html"),this.s.getCaptionFromTitleOrAlt&&!i&&(i=t.getAttribute("title"))&&t.querySelector("img")&&(i=t.querySelector("img").getAttribute("alt"))),null!=i?"."!==(n=i.substring(0,1))&&"#"!==n||(i=(this.s.subHtmlSelectorRelative&&!this.s.dynamic?t:document).querySelector(i).innerHTML):i="",".lg-sub-html"===this.s.appendSubHtmlTo?this.outer.querySelector(this.s.appendSubHtmlTo).innerHTML=i:this.___slide[e].insertAdjacentHTML("beforeend",i),null!=i&&(""===i?h.default.addClass(this.outer.querySelector(this.s.appendSubHtmlTo),"lg-empty-html"):h.default.removeClass(this.outer.querySelector(this.s.appendSubHtmlTo),"lg-empty-html")),h.default.trigger(this.el,"onAfterAppendSubHtml",{index:e})},r.prototype.preload=function(e){for(var t=1,n=1,t=1;t<=this.s.preload&&!(t>=this.items.length-e);t++)this.loadContent(e+t,!1,0);for(n=1;n<=this.s.preload&&!(e-n<0);n++)this.loadContent(e-n,!1,0)},r.prototype.loadContent=function(t,e,n){var a,i,o,r,s=this,l=!1,c=function(e){for(var t=[],n=[],i=0;i<e.length;i++){var o=e[i].split(" ");""===o[0]&&o.splice(0,1),n.push(o[0]),t.push(o[1])}for(var r=window.innerWidth,s=0;s<t.length;s++)if(parseInt(t[s],10)>r){a=n[s];break}},d=s.s.dynamic?(s.s.dynamicEl[t].poster&&(l=!0,i=s.s.dynamicEl[t].poster),r=s.s.dynamicEl[t].html,a=s.s.dynamicEl[t].src,s.s.dynamicEl[t].responsive&&c(s.s.dynamicEl[t].responsive.split(",")),o=s.s.dynamicEl[t].srcset,s.s.dynamicEl[t].sizes):(s.items[t].getAttribute("data-poster")&&(l=!0,i=s.items[t].getAttribute("data-poster")),r=s.items[t].getAttribute("data-html"),a=s.items[t].getAttribute("href")||s.items[t].getAttribute("data-src"),s.items[t].getAttribute("data-responsive")&&c(s.items[t].getAttribute("data-responsive").split(",")),o=s.items[t].getAttribute("data-srcset"),s.items[t].getAttribute("data-sizes")),u=!1;s.s.dynamic?s.s.dynamicEl[t].iframe&&(u=!0):"true"===s.items[t].getAttribute("data-iframe")&&(u=!0);c=s.isVideo(a,t);if(!h.default.hasClass(s.___slide[t],"lg-loaded")){if(u?s.___slide[t].insertAdjacentHTML("afterbegin",'<div class="lg-video-cont" style="max-width:'+s.s.iframeMaxWidth+'"><div class="lg-video"><iframe class="lg-object" frameborder="0" src="'+a+'"  allowfullscreen="true"></iframe></div></div>'):l?(u="",u=c&&c.youtube?"lg-has-youtube":c&&c.vimeo?"lg-has-vimeo":"lg-has-html5",s.___slide[t].insertAdjacentHTML("beforeend",'<div class="lg-video-cont '+u+' "><div class="lg-video"><span class="lg-video-play"></span><img class="lg-object lg-has-poster" src="'+i+'" /></div></div>')):c?(s.___slide[t].insertAdjacentHTML("beforeend",'<div class="lg-video-cont "><div class="lg-video"></div></div>'),h.default.trigger(s.el,"hasVideo",{index:t,src:a,html:r})):s.___slide[t].insertAdjacentHTML("beforeend",'<div class="lg-img-wrap"><img class="lg-object lg-image" src="'+a+'" /></div>'),h.default.trigger(s.el,"onAferAppendSlide",{index:t}),r=s.___slide[t].querySelector(".lg-object"),d&&r.setAttribute("sizes",d),o){r.setAttribute("srcset",o);try{picturefill({elements:[r[0]]})}catch(e){console.error("Make sure you have included Picturefill version 2")}}".lg-sub-html"!==this.s.appendSubHtmlTo&&s.addHtml(t),h.default.addClass(s.___slide[t],"lg-loaded")}h.default.on(s.___slide[t].querySelector(".lg-object"),"load.lg error.lg",function(){var e=0;n&&!h.default.hasClass(document.body,"lg-from-hash")&&(e=n),setTimeout(function(){h.default.addClass(s.___slide[t],"lg-complete"),h.default.trigger(s.el,"onSlideItemLoad",{index:t,delay:n||0})},e)}),c&&c.html5&&!l&&h.default.addClass(s.___slide[t],"lg-complete"),!0===e&&(h.default.hasClass(s.___slide[t],"lg-complete")?s.preload(t):h.default.on(s.___slide[t].querySelector(".lg-object"),"load.lg error.lg",function(){s.preload(t)}))},r.prototype.slide=function(e,t,n){for(var i=0,o=0;o<this.___slide.length;o++)if(h.default.hasClass(this.___slide[o],"lg-current")){i=o;break}var r=this;if(!r.lGalleryOn||i!==e){var s=this.___slide.length,a=r.lGalleryOn?this.s.speed:0,l=!1,c=!1;if(!r.lgBusy){if(this.s.download&&((d=r.s.dynamic?!1!==r.s.dynamicEl[e].downloadUrl&&(r.s.dynamicEl[e].downloadUrl||r.s.dynamicEl[e].src):"false"!==r.items[e].getAttribute("data-download-url")&&(r.items[e].getAttribute("data-download-url")||r.items[e].getAttribute("href")||r.items[e].getAttribute("data-src")))?(document.getElementById("lg-download").setAttribute("href",d),h.default.removeClass(r.outer,"lg-hide-download")):h.default.addClass(r.outer,"lg-hide-download")),h.default.trigger(r.el,"onBeforeSlide",{prevIndex:i,index:e,fromTouch:t,fromThumb:n}),r.lgBusy=!0,clearTimeout(r.hideBartimeout),".lg-sub-html"===this.s.appendSubHtmlTo&&setTimeout(function(){r.addHtml(e)},a),this.arrowDisable(e),t){var d=e-1,a=e+1;(0===e&&i===s-1||e===s-1&&0===i)&&(a=0,d=s-1),h.default.removeClass(r.outer.querySelector(".lg-prev-slide"),"lg-prev-slide"),h.default.removeClass(r.outer.querySelector(".lg-current"),"lg-current"),h.default.removeClass(r.outer.querySelector(".lg-next-slide"),"lg-next-slide"),h.default.addClass(r.___slide[d],"lg-prev-slide"),h.default.addClass(r.___slide[a],"lg-next-slide"),h.default.addClass(r.___slide[e],"lg-current")}else{h.default.addClass(r.outer,"lg-no-trans");for(var u=0;u<this.___slide.length;u++)h.default.removeClass(this.___slide[u],"lg-prev-slide"),h.default.removeClass(this.___slide[u],"lg-next-slide");e<i?(c=!0,0!==e||i!==s-1||n||(l=!(c=!1))):i<e&&(l=!0,e!==s-1||0!==i||n||(l=!(c=!0))),c?(h.default.addClass(this.___slide[e],"lg-prev-slide"),h.default.addClass(this.___slide[i],"lg-next-slide")):l&&(h.default.addClass(this.___slide[e],"lg-next-slide"),h.default.addClass(this.___slide[i],"lg-prev-slide")),setTimeout(function(){h.default.removeClass(r.outer.querySelector(".lg-current"),"lg-current"),h.default.addClass(r.___slide[e],"lg-current"),h.default.removeClass(r.outer,"lg-no-trans")},50)}r.lGalleryOn?(setTimeout(function(){r.loadContent(e,!0,0)},this.s.speed+50),setTimeout(function(){r.lgBusy=!1,h.default.trigger(r.el,"onAfterSlide",{prevIndex:i,index:e,fromTouch:t,fromThumb:n})},this.s.speed)):(r.loadContent(e,!0,r.s.backdropDuration),r.lgBusy=!1,h.default.trigger(r.el,"onAfterSlide",{prevIndex:i,index:e,fromTouch:t,fromThumb:n})),r.lGalleryOn=!0,this.s.counter&&document.getElementById("lg-counter-current")&&(document.getElementById("lg-counter-current").innerHTML=e+1)}}},r.prototype.goToNextSlide=function(e){var t=this;t.lgBusy||(t.index+1<t.___slide.length?(t.index++,h.default.trigger(t.el,"onBeforeNextSlide",{index:t.index}),t.slide(t.index,e,!1)):t.s.loop?(t.index=0,h.default.trigger(t.el,"onBeforeNextSlide",{index:t.index}),t.slide(t.index,e,!1)):t.s.slideEndAnimatoin&&(h.default.addClass(t.outer,"lg-right-end"),setTimeout(function(){h.default.removeClass(t.outer,"lg-right-end")},400)))},r.prototype.goToPrevSlide=function(e){var t=this;t.lgBusy||(0<t.index?(t.index--,h.default.trigger(t.el,"onBeforePrevSlide",{index:t.index,fromTouch:e}),t.slide(t.index,e,!1)):t.s.loop?(t.index=t.items.length-1,h.default.trigger(t.el,"onBeforePrevSlide",{index:t.index,fromTouch:e}),t.slide(t.index,e,!1)):t.s.slideEndAnimatoin&&(h.default.addClass(t.outer,"lg-left-end"),setTimeout(function(){h.default.removeClass(t.outer,"lg-left-end")},400)))},r.prototype.keyPress=function(){var t=this;1<this.items.length&&h.default.on(window,"keyup.lg",function(e){1<t.items.length&&(37===e.keyCode&&(e.preventDefault(),t.goToPrevSlide()),39===e.keyCode&&(e.preventDefault(),t.goToNextSlide()))}),h.default.on(window,"keydown.lg",function(e){!0===t.s.escKey&&27===e.keyCode&&(e.preventDefault(),h.default.hasClass(t.outer,"lg-thumb-open")?h.default.removeClass(t.outer,"lg-thumb-open"):t.destroy())})},r.prototype.arrow=function(){var e=this;h.default.on(this.outer.querySelector(".lg-prev"),"click.lg",function(){e.goToPrevSlide()}),h.default.on(this.outer.querySelector(".lg-next"),"click.lg",function(){e.goToNextSlide()})},r.prototype.arrowDisable=function(e){var t,n;!this.s.loop&&this.s.hideControlOnEnd&&(t=this.outer.querySelector(".lg-next"),n=this.outer.querySelector(".lg-prev"),e+1<this.___slide.length?(t.removeAttribute("disabled"),h.default.removeClass(t,"disabled")):(t.setAttribute("disabled","disabled"),h.default.addClass(t,"disabled")),0<e?(n.removeAttribute("disabled"),h.default.removeClass(n,"disabled")):(n.setAttribute("disabled","disabled"),h.default.addClass(n,"disabled")))},r.prototype.setTranslate=function(e,t,n){this.s.useLeft?e.style.left=t:h.default.setVendor(e,"Transform","translate3d("+t+"px, "+n+"px, 0px)")},r.prototype.touchMove=function(e,t){e=t-e;15<Math.abs(e)&&(h.default.addClass(this.outer,"lg-dragging"),this.setTranslate(this.___slide[this.index],e,0),this.setTranslate(document.querySelector(".lg-prev-slide"),-this.___slide[this.index].clientWidth+e,0),this.setTranslate(document.querySelector(".lg-next-slide"),this.___slide[this.index].clientWidth+e,0))},r.prototype.touchEnd=function(t){var n=this;"lg-slide"!==n.s.mode&&h.default.addClass(n.outer,"lg-slide");for(var e=0;e<this.___slide.length;e++)h.default.hasClass(this.___slide[e],"lg-current")||h.default.hasClass(this.___slide[e],"lg-prev-slide")||h.default.hasClass(this.___slide[e],"lg-next-slide")||(this.___slide[e].style.opacity="0");setTimeout(function(){h.default.removeClass(n.outer,"lg-dragging"),t<0&&Math.abs(t)>n.s.swipeThreshold?n.goToNextSlide(!0):0<t&&Math.abs(t)>n.s.swipeThreshold?n.goToPrevSlide(!0):Math.abs(t)<5&&h.default.trigger(n.el,"onSlideClick");for(var e=0;e<n.___slide.length;e++)n.___slide[e].removeAttribute("style")}),setTimeout(function(){h.default.hasClass(n.outer,"lg-dragging")||"lg-slide"===n.s.mode||h.default.removeClass(n.outer,"lg-slide")},n.s.speed+100)},r.prototype.enableSwipe=function(){var t=this,n=0,i=0,o=!1;if(t.s.enableSwipe&&t.isTouch&&t.doCss()){for(var e=0;e<t.___slide.length;e++)h.default.on(t.___slide[e],"touchstart.lg",function(e){h.default.hasClass(t.outer,"lg-zoomed")||t.lgBusy||(e.preventDefault(),t.manageSwipeClass(),n=e.targetTouches[0].pageX)});for(var r=0;r<t.___slide.length;r++)h.default.on(t.___slide[r],"touchmove.lg",function(e){h.default.hasClass(t.outer,"lg-zoomed")||(e.preventDefault(),i=e.targetTouches[0].pageX,t.touchMove(n,i),o=!0)});for(var s=0;s<t.___slide.length;s++)h.default.on(t.___slide[s],"touchend.lg",function(){h.default.hasClass(t.outer,"lg-zoomed")||(o?(o=!1,t.touchEnd(i-n)):h.default.trigger(t.el,"onSlideClick"))})}},r.prototype.enableDrag=function(){var t=this,n=0,i=0,o=!1,r=!1;if(t.s.enableDrag&&!t.isTouch&&t.doCss()){for(var e=0;e<t.___slide.length;e++)h.default.on(t.___slide[e],"mousedown.lg",function(e){h.default.hasClass(t.outer,"lg-zoomed")||(h.default.hasClass(e.target,"lg-object")||h.default.hasClass(e.target,"lg-video-play"))&&(e.preventDefault(),t.lgBusy||(t.manageSwipeClass(),n=e.pageX,o=!0,t.outer.scrollLeft+=1,--t.outer.scrollLeft,h.default.removeClass(t.outer,"lg-grab"),h.default.addClass(t.outer,"lg-grabbing"),h.default.trigger(t.el,"onDragstart")))});h.default.on(window,"mousemove.lg",function(e){o&&(r=!0,i=e.pageX,t.touchMove(n,i),h.default.trigger(t.el,"onDragmove"))}),h.default.on(window,"mouseup.lg",function(e){r?(r=!1,t.touchEnd(i-n),h.default.trigger(t.el,"onDragend")):(h.default.hasClass(e.target,"lg-object")||h.default.hasClass(e.target,"lg-video-play"))&&h.default.trigger(t.el,"onSlideClick"),o&&(o=!1,h.default.removeClass(t.outer,"lg-grabbing"),h.default.addClass(t.outer,"lg-grab"))})}},r.prototype.manageSwipeClass=function(){var e=this.index+1,t=this.index-1,n=this.___slide.length;this.s.loop&&(0===this.index?t=n-1:this.index===n-1&&(e=0));for(var i=0;i<this.___slide.length;i++)h.default.removeClass(this.___slide[i],"lg-next-slide"),h.default.removeClass(this.___slide[i],"lg-prev-slide");-1<t&&h.default.addClass(this.___slide[t],"lg-prev-slide"),h.default.addClass(this.___slide[e],"lg-next-slide")},r.prototype.mousewheel=function(){var t=this;h.default.on(t.outer,"mousewheel.lg",function(e){e.deltaY&&(0<e.deltaY?t.goToPrevSlide():t.goToNextSlide(),e.preventDefault())})},r.prototype.closeGallery=function(){var t=this,n=!1;h.default.on(this.outer.querySelector(".lg-close"),"click.lg",function(){t.destroy()}),t.s.closable&&(h.default.on(t.outer,"mousedown.lg",function(e){n=!!(h.default.hasClass(e.target,"lg-outer")||h.default.hasClass(e.target,"lg-item")||h.default.hasClass(e.target,"lg-img-wrap"))}),h.default.on(t.outer,"mouseup.lg",function(e){(h.default.hasClass(e.target,"lg-outer")||h.default.hasClass(e.target,"lg-item")||h.default.hasClass(e.target,"lg-img-wrap")&&n)&&(h.default.hasClass(t.outer,"lg-dragging")||t.destroy())}))},r.prototype.destroy=function(e){var t,n=this;if(e||h.default.trigger(n.el,"onBeforeClose"),document.body.scrollTop=n.prevScrollTop,document.documentElement.scrollTop=n.prevScrollTop,e){if(!n.s.dynamic)for(var i=0;i<this.items.length;i++)h.default.off(this.items[i],".lg"),h.default.off(this.items[i],".lgcustom");var o=n.el.getAttribute("lg-uid");delete window.lgData[o],n.el.removeAttribute("lg-uid")}for(t in h.default.off(this.el,".lgtm"),window.lgModules)n.modules[t]&&n.modules[t].destroy(e);this.lGalleryOn=!1,clearTimeout(n.hideBartimeout),this.hideBartimeout=!1,h.default.off(window,".lg"),h.default.removeClass(document.body,"lg-on"),h.default.removeClass(document.body,"lg-from-hash"),n.outer&&h.default.removeClass(n.outer,"lg-visible"),h.default.removeClass(document.querySelector(".lg-backdrop"),"in"),setTimeout(function(){try{n.outer&&n.outer.parentNode.removeChild(n.outer),document.querySelector(".lg-backdrop")&&document.querySelector(".lg-backdrop").parentNode.removeChild(document.querySelector(".lg-backdrop")),e||h.default.trigger(n.el,"onCloseAfter")}catch(e){}},n.s.backdropDuration+50)},window.lightGallery=function(e,t){if(e)try{if(e.getAttribute("lg-uid"))try{window.lgData[e.getAttribute("lg-uid")].init()}catch(e){console.error("lightGallery has not initiated properly")}else{var n="lg"+window.lgData.uid++;window.lgData[n]=new r(e,t),e.setAttribute("lg-uid",n)}}catch(e){console.error("lightGallery has not initiated properly")}}},void 0!==n?o(e("./lg-utils")):(o(i.lgUtils),i.lightgallery={})},{"./lg-utils":1}]},{},[2])(2)}),function(e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).LgAutoplay=e()}(function(){return function i(o,r,s){function a(n,e){if(!r[n]){if(!o[n]){var t="function"==typeof require&&require;if(!e&&t)return t(n,!0);if(l)return l(n,!0);t=new Error("Cannot find module '"+n+"'");throw t.code="MODULE_NOT_FOUND",t}t=r[n]={exports:{}};o[n][0].call(t.exports,function(e){var t=o[n][1][e];return a(t||e)},t,t.exports,i,o,r,s)}return r[n].exports}for(var l="function"==typeof require&&require,e=0;e<s.length;e++)a(s[e]);return a}({1:[function(e,t,n){var i,o;i=this,o=function(){"use strict";function e(e){return this.el=e,this.core=window.lgData[this.el.getAttribute("lg-uid")],!(this.core.items.length<2)&&(this.core.s=t({},n,this.core.s),this.interval=!1,this.fromAuto=!0,this.canceledOnTouch=!1,this.fourceAutoplayTemp=this.core.s.fourceAutoplay,this.core.doCss()||(this.core.s.progressBar=!1),this.init(),this)}var t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,i=arguments[t];for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},n={autoplay:!1,pause:5e3,progressBar:!0,fourceAutoplay:!1,autoplayControls:!0,appendAutoplayControlsTo:".lg-toolbar"};e.prototype.init=function(){var e=this;e.core.s.autoplayControls&&e.controls(),e.core.s.progressBar&&e.core.outer.querySelector(".lg").insertAdjacentHTML("beforeend",'<div class="lg-progress-bar"><div class="lg-progress"></div></div>'),e.progress(),e.core.s.autoplay&&e.startlAuto(),utils.on(e.el,"onDragstart.lgtm touchstart.lgtm",function(){e.interval&&(e.cancelAuto(),e.canceledOnTouch=!0)}),utils.on(e.el,"onDragend.lgtm touchend.lgtm onSlideClick.lgtm",function(){!e.interval&&e.canceledOnTouch&&(e.startlAuto(),e.canceledOnTouch=!1)})},e.prototype.progress=function(){var e,t,n=this;utils.on(n.el,"onBeforeSlide.lgtm",function(){n.core.s.progressBar&&n.fromAuto&&(e=n.core.outer.querySelector(".lg-progress-bar"),t=n.core.outer.querySelector(".lg-progress"),n.interval&&(t.removeAttribute("style"),utils.removeClass(e,"lg-start"),setTimeout(function(){utils.setVendor(t,"Transition","width "+(n.core.s.speed+n.core.s.pause)+"ms ease 0s"),utils.addClass(e,"lg-start")},20))),n.fromAuto||n.core.s.fourceAutoplay||n.cancelAuto(),n.fromAuto=!1})},e.prototype.controls=function(){var e=this;e.core.outer.querySelector(this.core.s.appendAutoplayControlsTo).insertAdjacentHTML("beforeend",'<span class="lg-autoplay-button lg-icon"></span>'),utils.on(e.core.outer.querySelector(".lg-autoplay-button"),"click.lg",function(){utils.hasClass(e.core.outer,"lg-show-autoplay")?(e.cancelAuto(),e.core.s.fourceAutoplay=!1):e.interval||(e.startlAuto(),e.core.s.fourceAutoplay=e.fourceAutoplayTemp)})},e.prototype.startlAuto=function(){var e=this;utils.setVendor(e.core.outer.querySelector(".lg-progress"),"Transition","width "+(e.core.s.speed+e.core.s.pause)+"ms ease 0s"),utils.addClass(e.core.outer,"lg-show-autoplay"),utils.addClass(e.core.outer.querySelector(".lg-progress-bar"),"lg-start"),e.interval=setInterval(function(){e.core.index+1<e.core.items.length?e.core.index++:e.core.index=0,e.fromAuto=!0,e.core.slide(e.core.index,!1,!1)},e.core.s.speed+e.core.s.pause)},e.prototype.cancelAuto=function(){clearInterval(this.interval),this.interval=!1,this.core.outer.querySelector(".lg-progress")&&this.core.outer.querySelector(".lg-progress").removeAttribute("style"),utils.removeClass(this.core.outer,"lg-show-autoplay"),utils.removeClass(this.core.outer.querySelector(".lg-progress-bar"),"lg-start")},e.prototype.destroy=function(){this.cancelAuto(),this.core.outer.querySelector(".lg-progress-bar")&&this.core.outer.querySelector(".lg-progress-bar").parentNode.removeChild(this.core.outer.querySelector(".lg-progress-bar"))},window.lgModules.autoplay=e},void 0!==n?o():(o(),i.lgAutoplay={})},{}]},{},[1])(1)}),function(e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).LgFullscreen=e()}(function(){return function i(o,r,s){function a(n,e){if(!r[n]){if(!o[n]){var t="function"==typeof require&&require;if(!e&&t)return t(n,!0);if(l)return l(n,!0);t=new Error("Cannot find module '"+n+"'");throw t.code="MODULE_NOT_FOUND",t}t=r[n]={exports:{}};o[n][0].call(t.exports,function(e){var t=o[n][1][e];return a(t||e)},t,t.exports,i,o,r,s)}return r[n].exports}for(var l="function"==typeof require&&require,e=0;e<s.length;e++)a(s[e]);return a}({1:[function(e,t,n){var i,o;i=this,o=function(){"use strict";function e(e){return this.el=e,this.core=window.lgData[this.el.getAttribute("lg-uid")],this.core.s=t({},n,this.core.s),this.init(),this}var t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,i=arguments[t];for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},n={fullScreen:!0};e.prototype.init=function(){this.core.s.fullScreen&&(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled)&&(this.core.outer.querySelector(".lg-toolbar").insertAdjacentHTML("beforeend",'<span class="lg-fullscreen lg-icon"></span>'),this.fullScreen())},e.prototype.requestFullscreen=function(){var e=document.documentElement;e.requestFullscreen?e.requestFullscreen():e.msRequestFullscreen?e.msRequestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen&&e.webkitRequestFullscreen()},e.prototype.exitFullscreen=function(){document.fullscreenElement&&"VIDEO"==document.fullscreenElement.nodeName&&(document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen())},e.prototype.fullScreen=function(){var e=this;utils.on(document,"fullscreenchange.lgfullscreen webkitfullscreenchange.lgfullscreen mozfullscreenchange.lgfullscreen MSFullscreenChange.lgfullscreen",function(){utils.hasClass(e.core.outer,"lg-fullscreen-on")?utils.removeClass(e.core.outer,"lg-fullscreen-on"):utils.addClass(e.core.outer,"lg-fullscreen-on")}),utils.on(this.core.outer.querySelector(".lg-fullscreen"),"click.lg",function(){document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement?e.exitFullscreen():e.requestFullscreen()})},e.prototype.destroy=function(){this.exitFullscreen(),utils.off(document,".lgfullscreen")},window.lgModules.fullscreen=e},void 0!==n?o():(o(),i.lgFullscreen={})},{}]},{},[1])(1)}),function(e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).LgZoom=e()}(function(){return function i(o,r,s){function a(n,e){if(!r[n]){if(!o[n]){var t="function"==typeof require&&require;if(!e&&t)return t(n,!0);if(l)return l(n,!0);t=new Error("Cannot find module '"+n+"'");throw t.code="MODULE_NOT_FOUND",t}t=r[n]={exports:{}};o[n][0].call(t.exports,function(e){var t=o[n][1][e];return a(t||e)},t,t.exports,i,o,r,s)}return r[n].exports}for(var l="function"==typeof require&&require,e=0;e<s.length;e++)a(s[e]);return a}({1:[function(e,t,n){var i,o;i=this,o=function(){"use strict";function e(e){return this.el=e,this.core=window.lgData[this.el.getAttribute("lg-uid")],this.core.s=i({},o,this.core.s),this.core.s.zoom&&this.core.doCss()&&(this.init(),this.zoomabletimeout=!1,this.pageX=window.innerWidth/2,this.pageY=window.innerHeight/2+(document.documentElement.scrollTop||document.body.scrollTop)),this}var t,n,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,i=arguments[t];for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},o={scale:1,zoom:!0,actualSize:!0,enableZoomAfter:300,useLeftForZoom:(t=!1,n=navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./),t=!!(n&&parseInt(n[2],10)<54)||t)};e.prototype.init=function(){var r=this,e='<span id="lg-zoom-in" class="lg-icon"></span><span id="lg-zoom-out" class="lg-icon"></span>';r.core.s.actualSize&&(e+='<span id="lg-actual-size" class="lg-icon"></span>'),r.core.s.useLeftForZoom?utils.addClass(r.core.outer,"lg-use-left-for-zoom"):utils.addClass(r.core.outer,"lg-use-transition-for-zoom"),this.core.outer.querySelector(".lg-toolbar").insertAdjacentHTML("beforeend",e),utils.on(r.core.el,"onSlideItemLoad.lgtmzoom",function(e){var t=r.core.s.enableZoomAfter+e.detail.delay;utils.hasClass(document.body,"lg-from-hash")&&e.detail.delay?t=0:utils.removeClass(document.body,"lg-from-hash"),r.zoomabletimeout=setTimeout(function(){utils.addClass(r.core.___slide[e.detail.index],"lg-zoomable")},t+30)});function i(e,t,n,i){var o;t&&(o=t.clientWidth,t=r.core.s.dynamic?r.core.s.dynamicEl[n].width||t.naturalWidth||o:r.core.items[n].getAttribute("data-width")||t.naturalWidth||o,utils.hasClass(r.core.outer,"lg-zoomed")?s=1:o<t&&(s=t/o||2),i?(r.pageX=window.innerWidth/2,r.pageY=window.innerHeight/2+(document.documentElement.scrollTop||document.body.scrollTop)):(r.pageX=e.pageX||e.targetTouches[0].pageX,r.pageY=e.pageY||e.targetTouches[0].pageY),a(),setTimeout(function(){utils.removeClass(r.core.outer,"lg-grabbing"),utils.addClass(r.core.outer,"lg-grab")},10))}var s=1,t=function(e){var t=r.core.outer.querySelector(".lg-current .lg-image");if(!t)return!1;var n=(window.innerWidth-t.clientWidth)/2,i=(window.innerHeight-t.clientHeight)/2+(document.documentElement.scrollTop||document.body.scrollTop),n=(e-1)*(r.pageX-n),i=(e-1)*(r.pageY-i);utils.setVendor(t,"Transform","scale3d("+e+", "+e+", 1)"),t.setAttribute("data-scale",e),r.core.s.useLeftForZoom?(t.parentElement.style.left=-n+"px",t.parentElement.style.top=-i+"px"):utils.setVendor(t.parentElement,"Transform","translate3d(-"+n+"px, -"+i+"px, 0)"),t.parentElement.setAttribute("data-x",n),t.parentElement.setAttribute("data-y",i)},a=function(){1<s?utils.addClass(r.core.outer,"lg-zoomed"):r.resetZoom(),t(s=s<1?1:s)},o=!1;utils.on(r.core.el,"onAferAppendSlide.lgtmzoom",function(e){var t=e.detail.index,n=r.core.___slide[t].querySelector(".lg-image");r.core.isTouch||utils.on(n,"dblclick",function(e){i(e,n,t)}),r.core.isTouch&&utils.on(n,"touchstart",function(e){o?(clearTimeout(o),o=null,i(e,n,t)):o=setTimeout(function(){o=null},300),e.preventDefault()})}),utils.on(window,"resize.lgzoom scroll.lgzoom orientationchange.lgzoom",function(){r.pageX=window.innerWidth/2,r.pageY=window.innerHeight/2+(document.documentElement.scrollTop||document.body.scrollTop),t(s)}),utils.on(document.getElementById("lg-zoom-out"),"click.lg",function(){r.core.outer.querySelector(".lg-current .lg-image")&&(s-=r.core.s.scale,a())}),utils.on(document.getElementById("lg-zoom-in"),"click.lg",function(){r.core.outer.querySelector(".lg-current .lg-image")&&(s+=r.core.s.scale,a())}),utils.on(document.getElementById("lg-actual-size"),"click.lg",function(e){i(e,r.core.___slide[r.core.index].querySelector(".lg-image"),r.core.index,!0)}),utils.on(r.core.el,"onBeforeSlide.lgtm",function(){s=1,r.resetZoom()}),r.core.isTouch||r.zoomDrag(),r.core.isTouch&&r.zoomSwipe()},e.prototype.resetZoom=function(){utils.removeClass(this.core.outer,"lg-zoomed");for(var e=0;e<this.core.___slide.length;e++)this.core.___slide[e].querySelector(".lg-img-wrap")&&(this.core.___slide[e].querySelector(".lg-img-wrap").removeAttribute("style"),this.core.___slide[e].querySelector(".lg-img-wrap").removeAttribute("data-x"),this.core.___slide[e].querySelector(".lg-img-wrap").removeAttribute("data-y"));for(var t=0;t<this.core.___slide.length;t++)this.core.___slide[t].querySelector(".lg-image")&&(this.core.___slide[t].querySelector(".lg-image").removeAttribute("style"),this.core.___slide[t].querySelector(".lg-image").removeAttribute("data-scale"));this.pageX=window.innerWidth/2,this.pageY=window.innerHeight/2+(document.documentElement.scrollTop||document.body.scrollTop)},e.prototype.zoomSwipe=function(){for(var i=this,o={},r={},s=!1,a=!1,l=!1,e=0;e<i.core.___slide.length;e++)utils.on(i.core.___slide[e],"touchstart.lg",function(e){var t;utils.hasClass(i.core.outer,"lg-zoomed")&&(t=i.core.___slide[i.core.index].querySelector(".lg-object"),l=t.offsetHeight*t.getAttribute("data-scale")>i.core.outer.querySelector(".lg").clientHeight,((a=t.offsetWidth*t.getAttribute("data-scale")>i.core.outer.querySelector(".lg").clientWidth)||l)&&(e.preventDefault(),o={x:e.targetTouches[0].pageX,y:e.targetTouches[0].pageY}))});for(var t=0;t<i.core.___slide.length;t++)utils.on(i.core.___slide[t],"touchmove.lg",function(e){var t,n;utils.hasClass(i.core.outer,"lg-zoomed")&&(t=i.core.___slide[i.core.index].querySelector(".lg-img-wrap"),e.preventDefault(),s=!0,r={x:e.targetTouches[0].pageX,y:e.targetTouches[0].pageY},utils.addClass(i.core.outer,"lg-zoom-dragging"),n=l?-Math.abs(t.getAttribute("data-y"))+(r.y-o.y):-Math.abs(t.getAttribute("data-y")),e=a?-Math.abs(t.getAttribute("data-x"))+(r.x-o.x):-Math.abs(t.getAttribute("data-x")),(15<Math.abs(r.x-o.x)||15<Math.abs(r.y-o.y))&&(i.core.s.useLeftForZoom?(t.style.left=e+"px",t.style.top=n+"px"):utils.setVendor(t,"Transform","translate3d("+e+"px, "+n+"px, 0)")))});for(var n=0;n<i.core.___slide.length;n++)utils.on(i.core.___slide[n],"touchend.lg",function(){utils.hasClass(i.core.outer,"lg-zoomed")&&s&&(s=!1,utils.removeClass(i.core.outer,"lg-zoom-dragging"),i.touchendZoom(o,r,a,l))})},e.prototype.zoomDrag=function(){for(var i=this,o={},r={},s=!1,a=!1,l=!1,c=!1,e=0;e<i.core.___slide.length;e++)utils.on(i.core.___slide[e],"mousedown.lgzoom",function(e){var t=i.core.___slide[i.core.index].querySelector(".lg-object");c=t.offsetHeight*t.getAttribute("data-scale")>i.core.outer.querySelector(".lg").clientHeight,l=t.offsetWidth*t.getAttribute("data-scale")>i.core.outer.querySelector(".lg").clientWidth,utils.hasClass(i.core.outer,"lg-zoomed")&&utils.hasClass(e.target,"lg-object")&&(l||c)&&(e.preventDefault(),o={x:e.pageX,y:e.pageY},s=!0,i.core.outer.scrollLeft+=1,--i.core.outer.scrollLeft,utils.removeClass(i.core.outer,"lg-grab"),utils.addClass(i.core.outer,"lg-grabbing"))});utils.on(window,"mousemove.lgzoom",function(e){var t,n;s&&(t=i.core.___slide[i.core.index].querySelector(".lg-img-wrap"),a=!0,r={x:e.pageX,y:e.pageY},utils.addClass(i.core.outer,"lg-zoom-dragging"),n=c?-Math.abs(t.getAttribute("data-y"))+(r.y-o.y):-Math.abs(t.getAttribute("data-y")),e=l?-Math.abs(t.getAttribute("data-x"))+(r.x-o.x):-Math.abs(t.getAttribute("data-x")),i.core.s.useLeftForZoom?(t.style.left=e+"px",t.style.top=n+"px"):utils.setVendor(t,"Transform","translate3d("+e+"px, "+n+"px, 0)"))}),utils.on(window,"mouseup.lgzoom",function(e){s&&(s=!1,utils.removeClass(i.core.outer,"lg-zoom-dragging"),!a||o.x===r.x&&o.y===r.y||(r={x:e.pageX,y:e.pageY},i.touchendZoom(o,r,l,c)),a=!1),utils.removeClass(i.core.outer,"lg-grabbing"),utils.addClass(i.core.outer,"lg-grab")})},e.prototype.touchendZoom=function(e,t,n,i){var o=this.core.___slide[this.core.index].querySelector(".lg-img-wrap"),r=this.core.___slide[this.core.index].querySelector(".lg-object"),s=-Math.abs(o.getAttribute("data-x"))+(t.x-e.x),a=-Math.abs(o.getAttribute("data-y"))+(t.y-e.y),l=(this.core.outer.querySelector(".lg").clientHeight-r.offsetHeight)/2,c=Math.abs(r.offsetHeight*Math.abs(r.getAttribute("data-scale"))-this.core.outer.querySelector(".lg").clientHeight+l),d=(this.core.outer.querySelector(".lg").clientWidth-r.offsetWidth)/2,r=Math.abs(r.offsetWidth*Math.abs(r.getAttribute("data-scale"))-this.core.outer.querySelector(".lg").clientWidth+d);(15<Math.abs(t.x-e.x)||15<Math.abs(t.y-e.y))&&(i&&(a<=-c?a=-c:-l<=a&&(a=-l)),n&&(s<=-r?s=-r:-d<=s&&(s=-d)),i?o.setAttribute("data-y",Math.abs(a)):a=-Math.abs(o.getAttribute("data-y")),n?o.setAttribute("data-x",Math.abs(s)):s=-Math.abs(o.getAttribute("data-x")),this.core.s.useLeftForZoom?(o.style.left=s+"px",o.style.top=a+"px"):utils.setVendor(o,"Transform","translate3d("+s+"px, "+a+"px, 0)"))},e.prototype.destroy=function(){utils.off(this.core.el,".lgzoom"),utils.off(window,".lgzoom");for(var e=0;e<this.core.___slide.length;e++)utils.off(this.core.___slide[e],".lgzoom");utils.off(this.core.el,".lgtmzoom"),this.resetZoom(),clearTimeout(this.zoomabletimeout),this.zoomabletimeout=!1},window.lgModules.zoom=e},void 0!==n?o():(o(),i.lgZoom={})},{}]},{},[1])(1)}),function(e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).LgThumbnail=e()}(function(){return function i(o,r,s){function a(n,e){if(!r[n]){if(!o[n]){var t="function"==typeof require&&require;if(!e&&t)return t(n,!0);if(l)return l(n,!0);t=new Error("Cannot find module '"+n+"'");throw t.code="MODULE_NOT_FOUND",t}t=r[n]={exports:{}};o[n][0].call(t.exports,function(e){var t=o[n][1][e];return a(t||e)},t,t.exports,i,o,r,s)}return r[n].exports}for(var l="function"==typeof require&&require,e=0;e<s.length;e++)a(s[e]);return a}({1:[function(e,t,n){var i,o;i=this,o=function(){"use strict";function e(e){return this.el=e,this.core=window.lgData[this.el.getAttribute("lg-uid")],this.core.s=t({},n,this.core.s),this.thumbOuter=null,this.thumbOuterWidth=0,this.thumbTotalWidth=this.core.items.length*(this.core.s.thumbWidth+this.core.s.thumbMargin),this.thumbIndex=this.core.index,this.left=0,this.init(),this}var t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,i=arguments[t];for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},n={thumbnail:!0,animateThumb:!0,currentPagerPosition:"middle",thumbWidth:100,thumbContHeight:100,thumbMargin:5,exThumbImage:!1,showThumbByDefault:!0,toggleThumb:!0,pullCaptionUp:!0,enableThumbDrag:!0,enableThumbSwipe:!0,swipeThreshold:50,loadYoutubeThumbnail:!0,youtubeThumbSize:1,loadVimeoThumbnail:!0,vimeoThumbSize:"thumbnail_small",loadDailymotionThumbnail:!0};e.prototype.init=function(){var e=this;this.core.s.thumbnail&&1<this.core.items.length&&(this.core.s.showThumbByDefault&&setTimeout(function(){utils.addClass(e.core.outer,"lg-thumb-open")},700),this.core.s.pullCaptionUp&&utils.addClass(this.core.outer,"lg-pull-caption-up"),this.build(),this.core.s.animateThumb?(this.core.s.enableThumbDrag&&!this.core.isTouch&&this.core.doCss()&&this.enableThumbDrag(),this.core.s.enableThumbSwipe&&this.core.isTouch&&this.core.doCss()&&this.enableThumbSwipe(),this.thumbClickable=!1):this.thumbClickable=!0,this.toggle(),this.thumbkeyPress())},e.prototype.build=function(){var o=this,r="",s="";switch(this.core.s.vimeoThumbSize){case"thumbnail_large":s="640";break;case"thumbnail_medium":s="200x150";break;case"thumbnail_small":s="100x75"}function e(e,t,n){var i,e=o.core.isVideo(e,n)||{},n="";e.youtube||e.vimeo||e.dailymotion?e.youtube?i=o.core.s.loadYoutubeThumbnail?"//img.youtube.com/vi/"+e.youtube[1]+"/"+o.core.s.youtubeThumbSize+".jpg":t:e.vimeo?o.core.s.loadVimeoThumbnail?(i="//i.vimeocdn.com/video/error_"+s+".jpg",n=e.vimeo[1]):i=t:e.dailymotion&&(i=o.core.s.loadDailymotionThumbnail?"//www.dailymotion.com/thumbnail/video/"+e.dailymotion[1]:t):i=t,r+='<div data-vimeo-id="'+n+'" class="lg-thumb-item" style="width:'+o.core.s.thumbWidth+"px; margin-right: "+o.core.s.thumbMargin+'px"><img src="'+i+'" /></div>'}if(utils.addClass(o.core.outer,"lg-has-thumb"),o.core.outer.querySelector(".lg").insertAdjacentHTML("beforeend",'<div class="lg-thumb-outer"><div class="lg-thumb group"></div></div>'),o.thumbOuter=o.core.outer.querySelector(".lg-thumb-outer"),o.thumbOuterWidth=o.thumbOuter.offsetWidth,o.core.s.animateThumb&&(o.core.outer.querySelector(".lg-thumb").style.width=o.thumbTotalWidth+"px",o.core.outer.querySelector(".lg-thumb").style.position="relative"),this.core.s.animateThumb&&(o.thumbOuter.style.height=o.core.s.thumbContHeight+"px"),o.core.s.dynamic)for(var t=0;t<o.core.s.dynamicEl.length;t++)e(o.core.s.dynamicEl[t].src,o.core.s.dynamicEl[t].thumb,t);else for(var n=0;n<o.core.items.length;n++)o.core.s.exThumbImage?e(o.core.items[n].getAttribute("href")||o.core.items[n].getAttribute("data-src"),o.core.items[n].getAttribute(o.core.s.exThumbImage),n):e(o.core.items[n].getAttribute("href")||o.core.items[n].getAttribute("data-src"),o.core.items[n].querySelector("img").getAttribute("src"),n);o.core.outer.querySelector(".lg-thumb").innerHTML=r;for(var i=o.core.outer.querySelectorAll(".lg-thumb-item"),a=0;a<i.length;a++)!function(){var e,t=i[a],n=t.getAttribute("data-vimeo-id");n&&(window["lgJsonP"+o.el.getAttribute("lg-uid")+a]=function(e){t.querySelector("img").setAttribute("src",e[0][o.core.s.vimeoThumbSize])},(e=document.createElement("script")).className="lg-script",e.src="//www.vimeo.com/api/v2/video/"+n+".json?callback=lgJsonP"+o.el.getAttribute("lg-uid")+a,document.body.appendChild(e))}();utils.addClass(i[o.core.index],"active"),utils.on(o.core.el,"onBeforeSlide.lgtm",function(){for(var e=0;e<i.length;e++)utils.removeClass(i[e],"active");utils.addClass(i[o.core.index],"active")});for(var l=0;l<i.length;l++)!function(e){utils.on(i[e],"click.lg touchend.lg",function(){setTimeout(function(){(!o.thumbClickable||o.core.lgBusy)&&o.core.doCss()||(o.core.index=e,o.core.slide(o.core.index,!1,!0))},50)})}(l);utils.on(o.core.el,"onBeforeSlide.lgtm",function(){o.animateThumb(o.core.index)}),utils.on(window,"resize.lgthumb orientationchange.lgthumb",function(){setTimeout(function(){o.animateThumb(o.core.index),o.thumbOuterWidth=o.thumbOuter.offsetWidth},200)})},e.prototype.setTranslate=function(e){utils.setVendor(this.core.outer.querySelector(".lg-thumb"),"Transform","translate3d(-"+e+"px, 0px, 0px)")},e.prototype.animateThumb=function(e){var t,n=this.core.outer.querySelector(".lg-thumb");if(this.core.s.animateThumb){switch(this.core.s.currentPagerPosition){case"left":t=0;break;case"middle":t=this.thumbOuterWidth/2-this.core.s.thumbWidth/2;break;case"right":t=this.thumbOuterWidth-this.core.s.thumbWidth}this.left=(this.core.s.thumbWidth+this.core.s.thumbMargin)*e-1-t,this.left>this.thumbTotalWidth-this.thumbOuterWidth&&(this.left=this.thumbTotalWidth-this.thumbOuterWidth),this.left<0&&(this.left=0),this.core.lGalleryOn&&(utils.hasClass(n,"on")||utils.setVendor(this.core.outer.querySelector(".lg-thumb"),"TransitionDuration",this.core.s.speed+"ms")),this.core.doCss()||(n.style.left=-this.left+"px"),this.setTranslate(this.left)}},e.prototype.enableThumbDrag=function(){var t=this,n=0,i=0,o=!1,r=!1,s=0;utils.addClass(t.thumbOuter,"lg-grab"),utils.on(t.core.outer.querySelector(".lg-thumb"),"mousedown.lgthumb",function(e){t.thumbTotalWidth>t.thumbOuterWidth&&(e.preventDefault(),n=e.pageX,o=!0,t.core.outer.scrollLeft+=1,--t.core.outer.scrollLeft,t.thumbClickable=!1,utils.removeClass(t.thumbOuter,"lg-grab"),utils.addClass(t.thumbOuter,"lg-grabbing"))}),utils.on(window,"mousemove.lgthumb",function(e){o&&(s=t.left,r=!0,i=e.pageX,utils.addClass(t.thumbOuter,"lg-dragging"),(s=(s-=i-n)>t.thumbTotalWidth-t.thumbOuterWidth?t.thumbTotalWidth-t.thumbOuterWidth:s)<0&&(s=0),t.setTranslate(s))}),utils.on(window,"mouseup.lgthumb",function(){r?(r=!1,utils.removeClass(t.thumbOuter,"lg-dragging"),t.left=s,Math.abs(i-n)<t.core.s.swipeThreshold&&(t.thumbClickable=!0)):t.thumbClickable=!0,o&&(o=!1,utils.removeClass(t.thumbOuter,"lg-grabbing"),utils.addClass(t.thumbOuter,"lg-grab"))})},e.prototype.enableThumbSwipe=function(){var t=this,n=0,i=0,o=!1,r=0;utils.on(t.core.outer.querySelector(".lg-thumb"),"touchstart.lg",function(e){t.thumbTotalWidth>t.thumbOuterWidth&&(e.preventDefault(),n=e.targetTouches[0].pageX,t.thumbClickable=!1)}),utils.on(t.core.outer.querySelector(".lg-thumb"),"touchmove.lg",function(e){t.thumbTotalWidth>t.thumbOuterWidth&&(e.preventDefault(),i=e.targetTouches[0].pageX,o=!0,utils.addClass(t.thumbOuter,"lg-dragging"),r=t.left,(r=(r-=i-n)>t.thumbTotalWidth-t.thumbOuterWidth?t.thumbTotalWidth-t.thumbOuterWidth:r)<0&&(r=0),t.setTranslate(r))}),utils.on(t.core.outer.querySelector(".lg-thumb"),"touchend.lg",function(){t.thumbTotalWidth>t.thumbOuterWidth&&o?(o=!1,utils.removeClass(t.thumbOuter,"lg-dragging"),Math.abs(i-n)<t.core.s.swipeThreshold&&(t.thumbClickable=!0),t.left=r):t.thumbClickable=!0})},e.prototype.toggle=function(){var e=this;e.core.s.toggleThumb&&(utils.addClass(e.core.outer,"lg-can-toggle"),e.thumbOuter.insertAdjacentHTML("beforeend",'<span class="lg-toggle-thumb lg-icon"></span>'),utils.on(e.core.outer.querySelector(".lg-toggle-thumb"),"click.lg",function(){utils.hasClass(e.core.outer,"lg-thumb-open")?utils.removeClass(e.core.outer,"lg-thumb-open"):utils.addClass(e.core.outer,"lg-thumb-open")}))},e.prototype.thumbkeyPress=function(){var t=this;utils.on(window,"keydown.lgthumb",function(e){38===e.keyCode?(e.preventDefault(),utils.addClass(t.core.outer,"lg-thumb-open")):40===e.keyCode&&(e.preventDefault(),utils.removeClass(t.core.outer,"lg-thumb-open"))})},e.prototype.destroy=function(){if(this.core.s.thumbnail&&1<this.core.items.length){utils.off(window,".lgthumb"),this.thumbOuter.parentNode.removeChild(this.thumbOuter),utils.removeClass(this.core.outer,"lg-has-thumb");for(var e=document.getElementsByClassName("lg-script");e[0];)e[0].parentNode.removeChild(e[0])}},window.lgModules.thumbnail=e},void 0!==n?o():(o(),i.lgThumbnail={})},{}]},{},[1])(1)}),function(e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).LgVideo=e()}(function(){return function i(o,r,s){function a(n,e){if(!r[n]){if(!o[n]){var t="function"==typeof require&&require;if(!e&&t)return t(n,!0);if(l)return l(n,!0);t=new Error("Cannot find module '"+n+"'");throw t.code="MODULE_NOT_FOUND",t}t=r[n]={exports:{}};o[n][0].call(t.exports,function(e){var t=o[n][1][e];return a(t||e)},t,t.exports,i,o,r,s)}return r[n].exports}for(var l="function"==typeof require&&require,e=0;e<s.length;e++)a(s[e]);return a}({1:[function(e,t,n){var i,o;i=this,o=function(){"use strict";function e(e){return this.el=e,this.core=window.lgData[this.el.getAttribute("lg-uid")],this.core.s=t({},n,this.core.s),this.videoLoaded=!1,this.init(),this}var t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,i=arguments[t];for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},n={videoMaxWidth:"100%",videoMarginRight:"0px",youtubePlayerParams:!1,vimeoPlayerParams:!1,dailymotionPlayerParams:!1,vkPlayerParams:!1,videojs:!1,videojsOptions:{}};e.prototype.init=function(){var s=this;utils.on(s.core.el,"hasVideo.lgtm",function(e){if(s.core.___slide[e.detail.index].querySelector(".lg-video").insertAdjacentHTML("beforeend",s.loadVideo(e.detail.src,"lg-object",!0,e.detail.index,e.detail.html)),e.detail.html)if(s.core.s.videojs)try{videojs(s.core.___slide[e.detail.index].querySelector(".lg-html5"),s.core.s.videojsOptions,function(){s.videoLoaded||this.play()})}catch(e){console.error("Make sure you have included videojs")}else s.core.___slide[e.detail.index].querySelector(".lg-html5").play()}),utils.on(s.core.el,"onAferAppendSlide.lgtm",function(e){s.core.___slide[e.detail.index].querySelector(".lg-video-cont")&&((e=s.core.___slide[e.detail.index].querySelector(".lg-video-cont")).style.maxWidth=s.core.s.videoMaxWidth,e.style.marginRight=s.core.s.videoMarginRight,s.videoLoaded=!0)});function t(n){if(utils.hasClass(n.querySelector(".lg-object"),"lg-has-poster")&&"none"!==n.querySelector(".lg-object").style.display)if(utils.hasClass(n,"lg-has-video")){var e=n.querySelector(".lg-youtube"),t=n.querySelector(".lg-vimeo"),i=n.querySelector(".lg-dailymotion"),o=n.querySelector(".lg-html5");if(e)e.contentWindow.postMessage('{"event":"command","func":"playVideo","args":""}',"*");else if(t)try{$f(t).api("play")}catch(e){console.error("Make sure you have included froogaloop2 js")}else if(i)i.contentWindow.postMessage("play","*");else if(o)if(s.core.s.videojs)try{videojs(o).play()}catch(e){console.error("Make sure you have included videojs")}else o.play();utils.addClass(n,"lg-video-playing")}else{utils.addClass(n,"lg-video-playing"),utils.addClass(n,"lg-has-video");o=function(e,t){if(n.querySelector(".lg-video").insertAdjacentHTML("beforeend",s.loadVideo(e,"",!1,s.core.index,t)),t)if(s.core.s.videojs)try{videojs(s.core.___slide[s.core.index].querySelector(".lg-html5"),s.core.s.videojsOptions,function(){this.play()})}catch(e){console.error("Make sure you have included videojs")}else s.core.___slide[s.core.index].querySelector(".lg-html5").play()};s.core.s.dynamic?o(s.core.s.dynamicEl[s.core.index].src,s.core.s.dynamicEl[s.core.index].html):o(s.core.items[s.core.index].getAttribute("href")||s.core.items[s.core.index].getAttribute("data-src"),s.core.items[s.core.index].getAttribute("data-html"));o=n.querySelector(".lg-object");n.querySelector(".lg-video").appendChild(o),utils.hasClass(n.querySelector(".lg-video-object"),"lg-html5")||(utils.removeClass(n,"lg-complete"),utils.on(n.querySelector(".lg-video-object"),"load.lg error.lg",function(){utils.addClass(n,"lg-complete")}))}}if(s.core.doCss()&&1<s.core.items.length&&(s.core.s.enableSwipe&&s.core.isTouch||s.core.s.enableDrag&&!s.core.isTouch))utils.on(s.core.el,"onSlideClick.lgtm",function(){var e=s.core.___slide[s.core.index];t(e)});else for(var e=0;e<s.core.___slide.length;e++)!function(e){utils.on(s.core.___slide[e],"click.lg",function(){t(s.core.___slide[e])})}(e);utils.on(s.core.el,"onBeforeSlide.lgtm",function(e){var t=s.core.___slide[e.detail.prevIndex],n=t.querySelector(".lg-youtube"),i=t.querySelector(".lg-vimeo"),o=t.querySelector(".lg-dailymotion"),r=t.querySelector(".lg-vk"),t=t.querySelector(".lg-html5");if(n)n.contentWindow.postMessage('{"event":"command","func":"pauseVideo","args":""}',"*");else if(i)try{$f(i).api("pause")}catch(e){console.error("Make sure you have included froogaloop2 js")}else if(o)o.contentWindow.postMessage("pause","*");else if(t)if(s.core.s.videojs)try{videojs(t).pause()}catch(e){console.error("Make sure you have included videojs")}else t.pause();r&&r.setAttribute("src",r.getAttribute("src").replace("&autoplay","&noplay"));r=s.core.s.dynamic?s.core.s.dynamicEl[e.detail.index].src:s.core.items[e.detail.index].getAttribute("href")||s.core.items[e.detail.index].getAttribute("data-src"),e=s.core.isVideo(r,e.detail.index)||{};(e.youtube||e.vimeo||e.dailymotion||e.vk)&&utils.addClass(s.core.outer,"lg-hide-download")}),utils.on(s.core.el,"onAfterSlide.lgtm",function(e){utils.removeClass(s.core.___slide[e.detail.prevIndex],"lg-video-playing")})},e.prototype.loadVideo=function(e,t,n,i,o){var r="",s=1,a="",i=this.core.isVideo(e,i)||{};return n&&(s=this.videoLoaded?0:1),i.youtube?(a="?wmode=opaque&autoplay="+s+"&enablejsapi=1",this.core.s.youtubePlayerParams&&(a=a+"&"+utils.param(this.core.s.youtubePlayerParams)),r='<iframe class="lg-video-object lg-youtube '+t+'" width="560" height="315" src="//www.youtube.com/embed/'+i.youtube[1]+a+'" frameborder="0" allowfullscreen></iframe>'):i.vimeo?(a="?autoplay="+s+"&api=1",this.core.s.vimeoPlayerParams&&(a=a+"&"+utils.param(this.core.s.vimeoPlayerParams)),r='<iframe class="lg-video-object lg-vimeo '+t+'" width="560" height="315"  src="//player.vimeo.com/video/'+i.vimeo[1]+a+'" frameborder="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>'):i.dailymotion?(a="?wmode=opaque&autoplay="+s+"&api=postMessage",this.core.s.dailymotionPlayerParams&&(a=a+"&"+utils.param(this.core.s.dailymotionPlayerParams)),r='<iframe class="lg-video-object lg-dailymotion '+t+'" width="560" height="315" src="//www.dailymotion.com/embed/video/'+i.dailymotion[1]+a+'" frameborder="0" allowfullscreen></iframe>'):i.html5?(n=o.substring(0,1),console.log(o),r=o="."===n||"#"===n?document.querySelector(o).innerHTML:o):i.vk&&(a="&autoplay="+s,this.core.s.vkPlayerParams&&(a=a+"&"+utils.param(this.core.s.vkPlayerParams)),r='<iframe class="lg-video-object lg-vk '+t+'" width="560" height="315" src="http://vk.com/video_ext.php?'+i.vk[1]+a+'" frameborder="0" allowfullscreen></iframe>'),r},e.prototype.destroy=function(){this.videoLoaded=!1},window.lgModules.video=e},void 0!==n?o():(o(),i.lgVideo={})},{}]},{},[1])(1)}),function(e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).LgHash=e()}(function(){return function i(o,r,s){function a(n,e){if(!r[n]){if(!o[n]){var t="function"==typeof require&&require;if(!e&&t)return t(n,!0);if(l)return l(n,!0);t=new Error("Cannot find module '"+n+"'");throw t.code="MODULE_NOT_FOUND",t}t=r[n]={exports:{}};o[n][0].call(t.exports,function(e){var t=o[n][1][e];return a(t||e)},t,t.exports,i,o,r,s)}return r[n].exports}for(var l="function"==typeof require&&require,e=0;e<s.length;e++)a(s[e]);return a}({1:[function(e,t,n){var i,o;i=this,o=function(){"use strict";function e(e){return this.el=e,this.core=window.lgData[this.el.getAttribute("lg-uid")],this.core.s=t({},n,this.core.s),this.core.s.hash&&(this.oldHash=window.location.hash,this.init()),this}var t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,i=arguments[t];for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},n={hash:!0};e.prototype.init=function(){var t,n=this;utils.on(n.core.el,"onAfterSlide.lgtm",function(e){window.location.hash="lg="+n.core.s.galleryId+"&slide="+e.detail.index}),utils.on(window,"hashchange.lghash",function(){t=window.location.hash;var e=parseInt(t.split("&slide=")[1],10);-1<t.indexOf("lg="+n.core.s.galleryId)?n.core.slide(e,!1,!1):n.core.lGalleryOn&&n.core.destroy()})},e.prototype.destroy=function(){this.core.s.hash&&(this.oldHash&&this.oldHash.indexOf("lg="+this.core.s.galleryId)<0?window.location.hash=this.oldHash:history.pushState?history.pushState("",document.title,window.location.pathname+window.location.search):window.location.hash="",utils.off(this.core.el,".lghash"))},window.lgModules.hash=e},void 0!==n?o():(o(),i.lgHash={})},{}]},{},[1])(1)}),function(r,s,n,a){var l=r(s);r.fn.lazyload=function(e){var i=this,o={threshold:0,failure_limit:0,event:"scroll",effect:"show",container:s,data_attribute:"original",skip_invisible:!1,appear:null,load:null,placeholder:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAANSURBVBhXYzh8+PB/AAffA0nNPuCLAAAAAElFTkSuQmCC"};function t(){var t=0;i.each(function(){var e=r(this);if((!o.skip_invisible||e.is(":visible"))&&!r.abovethetop(this,o)&&!r.leftofbegin(this,o))if(r.belowthefold(this,o)||r.rightoffold(this,o)){if(++t>o.failure_limit)return!1}else e.trigger("appear"),t=0})}return e&&(a!==e.failurelimit&&(e.failure_limit=e.failurelimit,delete e.failurelimit),a!==e.effectspeed&&(e.effect_speed=e.effectspeed,delete e.effectspeed),r.extend(o,e)),e=o.container===a||o.container===s?l:r(o.container),0===o.event.indexOf("scroll")&&e.bind(o.event,t),this.each(function(){var t=this,n=r(t);t.loaded=!1,n.attr("src")!==a&&!1!==n.attr("src")||n.is("img")&&n.attr("src",o.placeholder),n.one("appear",function(){var e;this.loaded||(o.appear&&(e=i.length,o.appear.call(t,e,o)),r("<img />").bind("load",function(){var e=n.attr("data-"+o.data_attribute);n.hide(),n.is("img")?n.attr("src",e):n.css("background-image","url('"+e+"')"),n[o.effect](o.effect_speed),t.loaded=!0;e=r.grep(i,function(e){return!e.loaded});i=r(e),o.load&&(e=i.length,o.load.call(t,e,o))}).attr("src",n.attr("data-"+o.data_attribute)))}),0!==o.event.indexOf("scroll")&&n.bind(o.event,function(){t.loaded||n.trigger("appear")})}),l.bind("resize",function(){t()}),/(?:iphone|ipod|ipad).*os 5/gi.test(navigator.appVersion)&&l.bind("pageshow",function(e){e.originalEvent&&e.originalEvent.persisted&&i.each(function(){r(this).trigger("appear")})}),r(n).ready(function(){t()}),this},r.belowthefold=function(e,t){var n=t.container===a||t.container===s?(s.innerHeight||l.height())+l.scrollTop():r(t.container).offset().top+r(t.container).height();return n<=r(e).offset().top-t.threshold},r.rightoffold=function(e,t){var n=t.container===a||t.container===s?l.width()+l.scrollLeft():r(t.container).offset().left+r(t.container).width();return n<=r(e).offset().left-t.threshold},r.abovethetop=function(e,t){var n=t.container===a||t.container===s?l.scrollTop():r(t.container).offset().top;return n>=r(e).offset().top+t.threshold+r(e).height()},r.leftofbegin=function(e,t){var n=t.container===a||t.container===s?l.scrollLeft():r(t.container).offset().left;return n>=r(e).offset().left+t.threshold+r(e).width()},r.inviewport=function(e,t){return!(r.rightoffold(e,t)||r.leftofbegin(e,t)||r.belowthefold(e,t)||r.abovethetop(e,t))},r.extend(r.expr[":"],{"below-the-fold":function(e){return r.belowthefold(e,{threshold:0})},"above-the-top":function(e){return!r.belowthefold(e,{threshold:0})},"right-of-screen":function(e){return r.rightoffold(e,{threshold:0})},"left-of-screen":function(e){return!r.rightoffold(e,{threshold:0})},"in-viewport":function(e){return r.inviewport(e,{threshold:0})},"above-the-fold":function(e){return!r.belowthefold(e,{threshold:0})},"right-of-fold":function(e){return r.rightoffold(e,{threshold:0})},"left-of-fold":function(e){return!r.rightoffold(e,{threshold:0})}})}(jQuery,window,document),function(){var o=jQuery.event.special,t="D"+ +new Date,n="D"+(+new Date+1);o.scrollstart={setup:function(){function e(e){var t=arguments;n?clearTimeout(n):(e.type="scrollstart",jQuery.event.dispatch.apply(this,t)),n=setTimeout(function(){n=null},o.scrollstop.latency)}var n;jQuery(this).bind("scroll",e).data(t,e)},teardown:function(){jQuery(this).unbind("scroll",jQuery(this).data(t))}},o.scrollstop={latency:300,setup:function(){function e(e){var t=this,n=arguments;i&&clearTimeout(i),i=setTimeout(function(){i=null,e.type="scrollstop",jQuery.event.dispatch.apply(t,n)},o.scrollstop.latency)}var i;jQuery(this).bind("scroll",e).data(n,e)},teardown:function(){jQuery(this).unbind("scroll",jQuery(this).data(n))}}}(),function(f){"use strict";function t(e){var t=this;t.index=++g.index,t.config=m.extend({},t.config,d.config,e),document.body?t.creat():setTimeout(function(){t.creat()},50)}var m,c,e,n=f.layui&&layui.define,d={getPath:function(){var e=document.scripts,t=e[e.length-1],e=t.src;if(!t.getAttribute("merge"))return e.substring(0,e.lastIndexOf("/")+1)}(),config:{},end:{},minIndex:0,minLeft:[],btn:["&#x786E;&#x5B9A;","&#x53D6;&#x6D88;"],type:["dialog","page","iframe","loading","tips"]},g={v:"3.0",ie:(e=navigator.userAgent.toLowerCase(),!!(f.ActiveXObject||"ActiveXObject"in f)&&((e.match(/msie\s(\d+)/)||[])[1]||"11")),index:f.layer&&f.layer.v?1e5:0,path:d.getPath,config:function(e,t){return g.cache=d.config=m.extend({},d.config,e=e||{}),g.path=d.config.path||g.path,"string"==typeof e.extend&&(e.extend=[e.extend]),e.extend&&(n?layui.addcss("modules/layer/"+e.extend):g.link("skin/"+e.extend)),this},link:function(e,t,n){var i,o,r,s;g.path&&(i=m("head")[0],o=document.createElement("link"),r="layuicss-"+((n="string"==typeof t?t:n)||e).replace(/\.|\//g,""),s=0,o.rel="stylesheet",o.href=g.path+e,o.id=r,m("#"+r)[0]||i.appendChild(o),"function"==typeof t&&function e(){return 80<++s?f.console&&console.error("layer.css: Invalid"):void(1989===parseInt(m("#"+r).css("width"))?t():setTimeout(e,100))}())},ready:function(e){return this},alert:function(e,t,n){var i="function"==typeof t;return g.open(m.extend({content:e,yes:n=i?t:n},i?{}:t))},confirm:function(e,t,n,i){var o="function"==typeof t;return o&&(i=n,n=t),g.open(m.extend({content:e,btn:d.btn,yes:n,btn2:i},o?{}:t))},msg:function(e,t,n){var i="function"==typeof t,o=d.config.skin,r=(o?o+" "+o+"-msg":"")||"layui-layer-msg",o=u.anim.length-1;return i&&(n=t),g.open(m.extend({content:e,time:3e3,shade:!1,skin:r,title:!1,closeBtn:!1,btn:!1,resize:!1,end:n},i&&!d.config.skin?{skin:r+" layui-layer-hui",anim:o}:(-1!==(t=t||{}).icon&&(void 0!==t.icon||d.config.skin)||(t.skin=r+" "+(t.skin||"layui-layer-hui")),t)))},load:function(e,t){return g.open(m.extend({type:3,icon:e||0,resize:!1,shade:.01},t))},tips:function(e,t,n){return g.open(m.extend({type:4,content:[e,t],closeBtn:!1,time:3e3,shade:!1,resize:!1,fixed:!1,maxWidth:210},n))}};t.pt=t.prototype;var u=["layui-layer",".layui-layer-title",".layui-layer-main",".layui-layer-dialog","layui-layer-iframe","layui-layer-content","layui-layer-btn","layui-layer-close"];u.anim=["layer-anim","layer-anim-01","layer-anim-02","layer-anim-03","layer-anim-04","layer-anim-05","layer-anim-06"],t.pt.config={type:0,shade:.3,fixed:!0,move:u[1],title:"&#x4FE1;&#x606F;",offset:"auto",area:"auto",closeBtn:1,time:0,zIndex:19891014,maxWidth:360,anim:0,icon:-1,moveType:1,resize:!0,scrollbar:!0,tips:2},t.pt.vessel=function(e,t){var n=this.index,i=this.config,o=i.zIndex+n,r="object"==typeof i.title,s=i.maxmin&&(1===i.type||2===i.type),r=i.title?'<div class="layui-layer-title" style="'+(r?i.title[1]:"")+'">'+(r?i.title[0]:i.title)+"</div>":"";return i.zIndex=o,t([i.shade?'<div class="layui-layer-shade" id="layui-layer-shade'+n+'" times="'+n+'" style="z-index:'+(o-1)+"; background-color:"+(i.shade[1]||"#000")+"; opacity:"+(i.shade[0]||i.shade)+"; filter:alpha(opacity="+(100*i.shade[0]||100*i.shade)+');"></div>':"",'<div class="'+u[0]+" layui-layer-"+d.type[i.type]+(0!=i.type&&2!=i.type||i.shade?"":" layui-layer-border")+" "+(i.skin||"")+'" id="'+u[0]+n+'" type="'+d.type[i.type]+'" times="'+n+'" showtime="'+i.time+'" conType="'+(e?"object":"string")+'" style="z-index: '+o+"; width:"+i.area[0]+";height:"+i.area[1]+(i.fixed?"":";position:absolute;")+'">'+(e&&2!=i.type?"":r)+'<div id="'+(i.id||"")+'" class="layui-layer-content'+(0==i.type&&-1!==i.icon?" layui-layer-padding":"")+(3==i.type?" layui-layer-loading"+i.icon:"")+'">'+(0==i.type&&-1!==i.icon?'<i class="layui-layer-ico layui-layer-ico'+i.icon+'"></i>':"")+((1!=i.type||!e)&&i.content||"")+'</div><span class="layui-layer-setwin">'+(s=s?'<a class="layui-layer-min" href="javascript:;"><cite></cite></a><a class="layui-layer-ico layui-layer-max" href="javascript:;"></a>':"",i.closeBtn&&(s+='<a class="layui-layer-ico '+u[7]+" "+u[7]+(i.title?i.closeBtn:4==i.type?"1":"2")+'" href="javascript:;"></a>'),s)+"</span>"+(i.btn?function(){var e="";"string"==typeof i.btn&&(i.btn=[i.btn]);for(var t=0,n=i.btn.length;t<n;t++)e+='<a class="'+u[6]+t+'">'+i.btn[t]+"</a>";return'<div class="'+u[6]+" layui-layer-btn-"+(i.btnAlign||"")+'">'+e+"</div>"}():"")+(i.resize?'<span class="layui-layer-resize"></span>':"")+"</div>"],r,m('<div class="layui-layer-move"></div>')),this},t.pt.creat=function(){var i=this,o=i.config,r=i.index,s="object"==typeof(l=o.content),a=m("body");if(!m("#"+o.id)[0]){switch("string"==typeof o.area&&(o.area="auto"===o.area?["",""]:[o.area,""]),o.shift&&(o.anim=o.shift),6==g.ie&&(o.fixed=!1),o.type){case 0:o.btn="btn"in o?o.btn:d.btn[0],g.closeAll("dialog");break;case 2:var l=o.content=s?o.content:[o.content||"http://layer.layui.com","auto"];o.content='<iframe scrolling="'+(o.content[1]||"auto")+'" allowtransparency="true" id="'+u[4]+r+'" name="'+u[4]+r+'" onload="this.className=\'\';" class="layui-layer-load" frameborder="0" src="'+o.content[0]+'"></iframe>';break;case 3:delete o.title,delete o.closeBtn,-1===o.icon&&o.icon,g.closeAll("loading");break;case 4:s||(o.content=[o.content,"body"]),o.follow=o.content[1],o.content=o.content[0]+'<i class="layui-layer-TipsG"></i>',delete o.title,o.tips="object"==typeof o.tips?o.tips:[o.tips,!0],o.tipsMore||g.closeAll("tips")}i.vessel(s,function(e,t,n){a.append(e[0]),s?2==o.type||4==o.type?m("body").append(e[1]):l.parents("."+u[0])[0]||(l.data("display",l.css("display")).show().addClass("layui-layer-wrap").wrap(e[1]),m("#"+u[0]+r).find("."+u[5]).before(t)):a.append(e[1]),m(".layui-layer-move")[0]||a.append(d.moveElem=n),i.layero=m("#"+u[0]+r),o.scrollbar||u.html.css("overflow","hidden").attr("layer-full",r)}).auto(r),2==o.type&&6==g.ie&&i.layero.find("iframe").attr("src",l[0]),4==o.type?i.tips():i.offset(),o.fixed&&c.on("resize",function(){i.offset(),(/^\d+%$/.test(o.area[0])||/^\d+%$/.test(o.area[1]))&&i.auto(r),4==o.type&&i.tips()}),o.time<=0||setTimeout(function(){g.close(i.index)},o.time),i.move().callback(),u.anim[o.anim]&&i.layero.addClass(u.anim[o.anim])}},t.pt.auto=function(e){function t(e){(e=i.find(e)).height(o[1]-r-s-2*(0|parseFloat(e.css("padding"))))}var n=this.config,i=m("#"+u[0]+e);""===n.area[0]&&0<n.maxWidth&&(g.ie&&g.ie<8&&n.btn&&i.width(i.innerWidth()),i.outerWidth()>n.maxWidth&&i.width(n.maxWidth));var o=[i.innerWidth(),i.innerHeight()],r=i.find(u[1]).outerHeight()||0,s=i.find("."+u[6]).outerHeight()||0;return 2===n.type?t("iframe"):""===n.area[1]?n.fixed&&o[1]>=c.height()&&(o[1]=c.height(),t("."+u[5])):t("."+u[5]),this},t.pt.offset=function(){var e=this,t=e.config,n=e.layero,i=[n.outerWidth(),n.outerHeight()],o="object"==typeof t.offset;e.offsetTop=(c.height()-i[1])/2,e.offsetLeft=(c.width()-i[0])/2,o?(e.offsetTop=t.offset[0],e.offsetLeft=t.offset[1]||e.offsetLeft):"auto"!==t.offset&&("t"===t.offset?e.offsetTop=0:"r"===t.offset?e.offsetLeft=c.width()-i[0]:"b"===t.offset?e.offsetTop=c.height()-i[1]:"l"===t.offset?e.offsetLeft=0:"lt"===t.offset?(e.offsetTop=0,e.offsetLeft=0):"lb"===t.offset?(e.offsetTop=c.height()-i[1],e.offsetLeft=0):"rt"===t.offset?(e.offsetTop=0,e.offsetLeft=c.width()-i[0]):"rb"===t.offset?(e.offsetTop=c.height()-i[1],e.offsetLeft=c.width()-i[0]):e.offsetTop=t.offset),t.fixed||(e.offsetTop=/%$/.test(e.offsetTop)?c.height()*parseFloat(e.offsetTop)/100:parseFloat(e.offsetTop),e.offsetLeft=/%$/.test(e.offsetLeft)?c.width()*parseFloat(e.offsetLeft)/100:parseFloat(e.offsetLeft),e.offsetTop+=c.scrollTop(),e.offsetLeft+=c.scrollLeft()),n.attr("minLeft")&&(e.offsetTop=c.height()-(n.find(u[1]).outerHeight()||0),e.offsetLeft=n.css("left")),n.css({top:e.offsetTop,left:e.offsetLeft})},t.pt.tips=function(){var e=this.config,t=this.layero,n=[t.outerWidth(),t.outerHeight()],i=m(e.follow),o={width:(i=!i[0]?m("body"):i).outerWidth(),height:i.outerHeight(),top:i.offset().top,left:i.offset().left},r=t.find(".layui-layer-TipsG"),i=e.tips[0];e.tips[1]||r.remove(),o.autoLeft=function(){0<o.left+n[0]-c.width()?(o.tipLeft=o.left+o.width-n[0],r.css({right:12,left:"auto"})):o.tipLeft=o.left},o.where=[function(){o.autoLeft(),o.tipTop=o.top-n[1]-10,r.removeClass("layui-layer-TipsB").addClass("layui-layer-TipsT").css("border-right-color",e.tips[1])},function(){o.tipLeft=o.left+o.width+10,o.tipTop=o.top,r.removeClass("layui-layer-TipsL").addClass("layui-layer-TipsR").css("border-bottom-color",e.tips[1])},function(){o.autoLeft(),o.tipTop=o.top+o.height+10,r.removeClass("layui-layer-TipsT").addClass("layui-layer-TipsB").css("border-right-color",e.tips[1])},function(){o.tipLeft=o.left-n[0]-10,o.tipTop=o.top,r.removeClass("layui-layer-TipsR").addClass("layui-layer-TipsL").css("border-bottom-color",e.tips[1])}],o.where[i-1](),1===i?o.top-(c.scrollTop()+n[1]+16)<0&&o.where[2]():2===i?0<c.width()-(o.left+o.width+n[0]+16)||o.where[3]():3===i?0<o.top-c.scrollTop()+o.height+n[1]+16-c.height()&&o.where[0]():4===i&&0<n[0]+16-o.left&&o.where[1](),t.find("."+u[5]).css({"background-color":e.tips[1],"padding-right":e.closeBtn?"30px":""}),t.css({left:o.tipLeft-(e.fixed?c.scrollLeft():0),top:o.tipTop-(e.fixed?c.scrollTop():0)})},t.pt.move=function(){var r=this,s=r.config,e=m(document),a=r.layero,t=a.find(s.move),n=a.find(".layui-layer-resize"),l={};return s.move&&t.css("cursor","move"),t.on("mousedown",function(e){e.preventDefault(),s.move&&(l.moveStart=!0,l.offset=[e.clientX-parseFloat(a.css("left")),e.clientY-parseFloat(a.css("top"))],d.moveElem.css("cursor","move").show())}),n.on("mousedown",function(e){e.preventDefault(),l.resizeStart=!0,l.offset=[e.clientX,e.clientY],l.area=[a.outerWidth(),a.outerHeight()],d.moveElem.css("cursor","se-resize").show()}),e.on("mousemove",function(e){var t,n,i,o;l.moveStart&&(i=e.clientX-l.offset[0],o=e.clientY-l.offset[1],e.preventDefault(),l.stX=s.fixed?0:c.scrollLeft(),l.stY=s.fixed?0:c.scrollTop(),s.moveOut||(t=c.width()-a.outerWidth()+l.stX,n=c.height()-a.outerHeight()+l.stY,t<(i=i<l.stX?l.stX:i)&&(i=t),n<(o=o<l.stY?l.stY:o)&&(o=n)),a.css({left:i,top:o})),s.resize&&l.resizeStart&&(i=e.clientX-l.offset[0],o=e.clientY-l.offset[1],e.preventDefault(),g.style(r.index,{width:l.area[0]+i,height:l.area[1]+o}),l.isResize=!0)}).on("mouseup",function(e){l.moveStart&&(delete l.moveStart,d.moveElem.hide(),s.moveEnd&&s.moveEnd()),l.resizeStart&&(delete l.resizeStart,d.moveElem.hide())}),r},t.pt.callback=function(){var t=this,n=t.layero,i=t.config;t.openLayer(),i.success&&(2==i.type?n.find("iframe").on("load",function(){i.success(n,t.index)}):i.success(n,t.index)),6==g.ie&&t.IE6(n),n.find("."+u[6]).children("a").on("click",function(){var e=m(this).index();0===e?i.yes?i.yes(t.index,n):i.btn1?i.btn1(t.index,n):g.close(t.index):!1===(i["btn"+(e+1)]&&i["btn"+(e+1)](t.index,n))||g.close(t.index)}),n.find("."+u[7]).on("click",function(){!1===(i.cancel&&i.cancel(t.index,n))||g.close(t.index)}),i.shadeClose&&m("#layui-layer-shade"+t.index).on("click",function(){g.close(t.index)}),n.find(".layui-layer-min").on("click",function(){!1===(i.min&&i.min(n))||g.min(t.index,i)}),n.find(".layui-layer-max").on("click",function(){m(this).hasClass("layui-layer-maxmin")?(g.restore(t.index),i.restore&&i.restore(n)):(g.full(t.index,i),setTimeout(function(){i.full&&i.full(n)},100))}),i.end&&(d.end[t.index]=i.end)},d.reselect=function(){m.each(m("select"),function(e,t){var n=m(this);n.parents("."+u[0])[0]||1==n.attr("layer")&&m("."+u[0]).length<1&&n.removeAttr("layer").show()})},t.pt.IE6=function(e){m("select").each(function(e,t){var n=m(this);n.parents("."+u[0])[0]||"none"===n.css("display")||n.attr({layer:"1"}).hide()})},t.pt.openLayer=function(){g.zIndex=this.config.zIndex,g.setTop=function(e){return g.zIndex=parseInt(e[0].style.zIndex),e.on("mousedown",function(){g.zIndex++,e.css("z-index",g.zIndex+1)}),g.zIndex}},d.record=function(e){var t=[e.width(),e.height(),e.position().top,e.position().left+parseFloat(e.css("margin-left"))];e.find(".layui-layer-max").addClass("layui-layer-maxmin"),e.attr({area:t})},d.rescollbar=function(e){u.html.attr("layer-full")==e&&(u.html[0].style.removeProperty?u.html[0].style.removeProperty("overflow"):u.html[0].style.removeAttribute("overflow"),u.html.removeAttr("layer-full"))},(f.layer=g).getChildFrame=function(e,t){return t=t||m("."+u[4]).attr("times"),m("#"+u[0]+t).find("iframe").contents().find(e)},g.getFrameIndex=function(e){return m("#"+e).parents("."+u[4]).attr("times")},g.iframeAuto=function(e){var t,n,i;e&&(t=g.getChildFrame("html",e).outerHeight(),i=(n=m("#"+u[0]+e)).find(u[1]).outerHeight()||0,e=n.find("."+u[6]).outerHeight()||0,n.css({height:t+i+e}),n.find("iframe").css({height:t}))},g.iframeSrc=function(e,t){m("#"+u[0]+e).find("iframe").attr("src",t)},g.style=function(e,t){var n=m("#"+u[0]+e),i=n.find(".layui-layer-content"),o=n.attr("type"),r=n.find(u[1]).outerHeight()||0,e=n.find("."+u[6]).outerHeight()||0;o!==d.type[3]&&o!==d.type[4]&&(parseFloat(t.width)<=260&&(t.width=260),parseFloat(t.height)-r-e<=64&&(t.height=64+r+e),n.css(t),o===d.type[2]?n.find("iframe").css({height:parseFloat(t.height)-r-e}):i.css({height:parseFloat(t.height)-r-e-parseFloat(i.css("padding-top"))-parseFloat(i.css("padding-bottom"))}))},g.min=function(e,t){var n=m("#"+u[0]+e),i=n.find(u[1]).outerHeight()||0,o=n.attr("minLeft")||181*d.minIndex+"px";d.record(n),d.minLeft[0]&&(o=d.minLeft[0],d.minLeft.shift()),n.attr("position",n.css("position")),g.style(e,{width:180,height:i,left:o,top:c.height()-i,position:"fixed",overflow:"hidden"}),n.find(".layui-layer-min").hide(),"page"===n.attr("type")&&n.find(u[4]).hide(),d.rescollbar(e),n.attr("minLeft")||d.minIndex++,n.attr("minLeft",o)},g.restore=function(e){var t=m("#"+u[0]+e),n=t.attr("area").split(",");t.attr("type"),g.style(e,{width:parseFloat(n[0]),height:parseFloat(n[1]),top:parseFloat(n[2]),left:parseFloat(n[3]),position:t.attr("position"),overflow:"visible"}),t.find(".layui-layer-max").removeClass("layui-layer-maxmin"),t.find(".layui-layer-min").show(),"page"===t.attr("type")&&t.find(u[4]).show(),d.rescollbar(e)},g.full=function(t){var n=m("#"+u[0]+t);d.record(n),u.html.attr("layer-full")||u.html.css("overflow","hidden").attr("layer-full",t),clearTimeout(void 0),setTimeout(function(){var e="fixed"===n.css("position");g.style(t,{top:e?0:c.scrollTop(),left:e?0:c.scrollLeft(),width:c.width(),height:c.height()}),n.find(".layui-layer-min").hide()},100)},g.title=function(e,t){m("#"+u[0]+(t||g.index)).find(u[1]).html(e)},g.close=function(i){var o=m("#"+u[0]+i),r=o.attr("type");o[0]&&(o.addClass("layer-anim-close"),m("#layui-layer-moves, #layui-layer-shade"+i).remove(),6==g.ie&&d.reselect(),d.rescollbar(i),"function"==typeof d.end[i]&&d.end[i](),delete d.end[i],o.attr("minLeft")&&(d.minIndex--,d.minLeft.push(o.attr("minLeft"))),setTimeout(function(){!function(){if(r===d.type[1]&&"object"===o.attr("conType")){o.children(":not(."+u[5]+")").remove();for(var e=o.find(".layui-layer-wrap"),t=0;t<2;t++)e.unwrap();e.css("display",e.data("display"))}else{if(r===d.type[2])try{var n=m("#"+u[4]+i)[0];n.contentWindow.document.write(""),n.contentWindow.close(),o.find("."+u[5])[0].removeChild(n)}catch(e){}o[0].innerHTML="",o.remove()}}()},g.ie&&g.ie<10?0:200))},g.closeAll=function(n){m.each(m("."+u[0]),function(){var e=m(this),t=n?e.attr("type")===n:1;t&&g.close(e.attr("times"))})};function v(e){return i.skin?" "+i.skin+" "+i.skin+"-"+e:""}var i=g.cache||{};g.prompt=function(n,i){var e,t="";"function"==typeof(n=n||{})&&(i=n),n.area&&(t='style="width: '+(e=n.area)[0]+"; height: "+e[1]+';"',delete n.area);var o,t=2==n.formType?'<textarea class="layui-layer-input"'+t+">"+(n.value||"")+"</textarea>":'<input type="'+(1==n.formType?"password":"text")+'" class="layui-layer-input" value="'+(n.value||"")+'">';return g.open(m.extend({type:1,btn:["&#x786E;&#x5B9A;","&#x53D6;&#x6D88;"],content:t,skin:"layui-layer-prompt"+v("prompt"),maxWidth:c.width(),success:function(e){(o=e.find(".layui-layer-input")).focus()},resize:!1,yes:function(e){var t=o.val();""===t?o.focus():t.length>(n.maxlength||500)?g.tips("&#x6700;&#x591A;&#x8F93;&#x5165;"+(n.maxlength||500)+"&#x4E2A;&#x5B57;&#x6570;",o,{tips:1}):i&&i(t,e,o)}},n))},g.tab=function(i){var o=(i=i||{}).tab||{};return g.open(m.extend({type:1,skin:"layui-layer-tab"+v("tab"),resize:!1,title:function(){var e=o.length,t=1,n="";if(0<e)for(n='<span class="layui-layer-tabnow">'+o[0].title+"</span>";t<e;t++)n+="<span>"+o[t].title+"</span>";return n}(),content:'<ul class="layui-layer-tabmain">'+function(){var e=o.length,t=1,n="";if(0<e)for(n='<li class="layui-layer-tabli xubox_tab_layer">'+(o[0].content||"no content")+"</li>";t<e;t++)n+='<li class="layui-layer-tabli">'+(o[t].content||"no  content")+"</li>";return n}()+"</ul>",success:function(e){var t=e.find(".layui-layer-title").children(),n=e.find(".layui-layer-tabmain").children();t.on("mousedown",function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0;var t=m(this),e=t.index();t.addClass("layui-layer-tabnow").siblings().removeClass("layui-layer-tabnow"),n.eq(e).show().siblings().hide(),"function"==typeof i.change&&i.change(e)})}},i))},g.photos=function(i,e,o){var t,n,r,s,a={};if((i=i||{}).photos){var l=i.photos.constructor===Object,c=l?i.photos:{},d=c.data||[],u=c.start||0;if(a.imgIndex=1+(0|u),i.img=i.img||"img",l){if(0===d.length)return g.msg("&#x6CA1;&#x6709;&#x56FE;&#x7247;")}else{var h=m(i.photos),p=function(){d=[],h.find(i.img).each(function(e){var t=m(this);t.attr("layer-index",e),d.push({alt:t.attr("alt"),pid:t.attr("layer-pid"),src:t.attr("layer-src")||t.attr("src"),thumb:t.attr("src")})})};if(p(),0===d.length)return;if(e||h.on("click",i.img,function(){var e=m(this).attr("layer-index");g.photos(m.extend(i,{photos:{start:e,data:d,tab:i.tab},full:i.full}),!0),p()}),!e)return}a.imgprev=function(e){a.imgIndex--,a.imgIndex<1&&(a.imgIndex=d.length),a.tabimg(e)},a.imgnext=function(e,t){a.imgIndex++,a.imgIndex>d.length&&(a.imgIndex=1,t)||a.tabimg(e)},a.keyup=function(e){var t;a.end||(t=e.keyCode,e.preventDefault(),37===t?a.imgprev(!0):39===t?a.imgnext(!0):27===t&&g.close(a.index))},a.tabimg=function(e){d.length<=1||(c.start=a.imgIndex-1,g.close(a.index),g.photos(i,!0,e))},a.event=function(){a.bigimg.hover(function(){a.imgsee.show()},function(){a.imgsee.hide()}),a.bigimg.find(".layui-layer-imgprev").on("click",function(e){e.preventDefault(),a.imgprev()}),a.bigimg.find(".layui-layer-imgnext").on("click",function(e){e.preventDefault(),a.imgnext()}),m(document).on("keyup",a.keyup)},a.loadi=g.load(1,{shade:!("shade"in i)&&.9,scrollbar:!1}),t=d[u].src,n=function(e){var t,n;g.close(a.loadi),a.index=g.open(m.extend({type:1,area:(t=[e.width,e.height],n=[m(f).width()-50,m(f).height()-50],!i.full&&t[0]>n[0]&&(t[0]=n[0],t[1]=t[0]*e.height/e.width),[t[0]+"px",t[1]+"px"]),title:!1,shade:.9,shadeClose:!0,closeBtn:!1,move:".layui-layer-phimg img",moveType:1,scrollbar:!1,moveOut:!0,anim:5*Math.random()|0,skin:"layui-layer-photos"+v("photos"),content:'<div class="layui-layer-phimg"><img src="'+d[u].src+'" alt="'+(d[u].alt||"")+'" layer-pid="'+d[u].pid+'"><div class="layui-layer-imgsee">'+(1<d.length?'<span class="layui-layer-imguide"><a href="javascript:;" class="layui-layer-iconext layui-layer-imgprev"></a><a href="javascript:;" class="layui-layer-iconext layui-layer-imgnext"></a></span>':"")+'<div class="layui-layer-imgbar" style="display:'+(o?"block":"")+'"><span class="layui-layer-imgtit"><a href="javascript:;">'+(d[u].alt||"")+"</a><em>"+a.imgIndex+"/"+d.length+"</em></span></div></div></div>",success:function(e,t){a.bigimg=e.find(".layui-layer-phimg"),a.imgsee=e.find(".layui-layer-imguide,.layui-layer-imgbar"),a.event(e),i.tab&&i.tab(d[u],e)},end:function(){a.end=!0,m(document).off("keyup",a.keyup)}},i))},r=function(){g.close(a.loadi),g.msg("&#x5F53;&#x524D;&#x56FE;&#x7247;&#x5730;&#x5740;&#x5F02;&#x5E38;<br>&#x662F;&#x5426;&#x7EE7;&#x7EED;&#x67E5;&#x770B;&#x4E0B;&#x4E00;&#x5F20;&#xFF1F;",{time:3e4,btn:["&#x4E0B;&#x4E00;&#x5F20;","&#x4E0D;&#x770B;&#x4E86;"],yes:function(){1<d.length&&a.imgnext(!0,!0)}})},(s=new Image).src=t,s.complete?n(s):(s.onload=function(){s.onload=null,n(s)},s.onerror=function(e){s.onerror=null,r(e)})}},d.run=function(e){c=(m=e)(f),u.html=m("html"),g.open=function(e){return new t(e).index}},f.layui&&layui.define?(g.ready(),layui.define("jquery",function(e){g.path=layui.cache.dir,d.run(layui.jquery),e("layer",f.layer=g)})):"function"==typeof define?define("jquery",function(){return d.run(f.jQuery),g}):(d.run(f.jQuery),g.ready())}(window),function(){var e={supportsFullScreen:!1,isFullScreen:function(){return!1},requestFullScreen:function(){},cancelFullScreen:function(){},fullScreenEventName:"",prefix:""},t="webkit moz o ms khtml".split(" ");if(void 0!==document.cancelFullScreen)e.supportsFullScreen=!0;else for(var n=0,i=t.length;n<i;n++)if(e.prefix=t[n],void 0!==document[e.prefix+"CancelFullScreen"]){e.supportsFullScreen=!0;break}e.supportsFullScreen&&(e.fullScreenEventName=e.prefix+"fullscreenchange",e.isFullScreen=function(){switch(this.prefix){case"":return document.fullScreen;case"webkit":return document.webkitIsFullScreen;default:return document[this.prefix+"FullScreen"]}},e.requestFullScreen=function(e){return""===this.prefix?e.requestFullScreen():e[this.prefix+"RequestFullScreen"]()},e.cancelFullScreen=function(e){return""===this.prefix?document.cancelFullScreen():document[this.prefix+"CancelFullScreen"]()}),"undefined"!=typeof jQuery&&(jQuery.fn.requestFullScreen=function(){return this.each(function(){e.supportsFullScreen&&e.requestFullScreen(this)})}),window.fullScreenApi=e}(),$.fn.weixinAudio=function(t){var e=$(this),n={autoplay:!1,src:""};function i(e){this.$context=e,this.$Audio=e.children("#media"),this.Audio=this.$Audio[0],this.$audio_area=e.find("#audio_area"),this.$audio_length=e.find("#audio_length"),this.$audio_progress=e.find("#audio_progress"),this.currentState="pause",this.time=null,this.settings=$.extend(!0,n,t),this.init()}i.prototype={init:function(){this.updateTotalTime(),this.events(),""!==this.settings.src&&this.changeSrc(this.settings.src),this.settings.autoplay&&this.play()},play:function(){"play"!==this.currentState?(this.Audio.play(),clearInterval(this.timer),this.timer=setInterval(this.run.bind(this),50),this.currentState="play",this.$audio_area.addClass("playing")):this.pause()},pause:function(){this.Audio.pause(),this.currentState="pause",clearInterval(this.timer),this.$audio_area.removeClass("playing")},stop:function(){},events:function(){var e,t=this;t.$audio_area.on("click",function(){t.play(),e||(t.updateTotalTime(),e=!0)})},run:function(){this.animateProgressBarPosition(),this.Audio.ended&&this.pause()},animateProgressBarPosition:function(){var e=100*this.Audio.currentTime/this.Audio.duration+"%";this.$audio_progress.css({width:e="NaN%"==e?"0%":e})},getAudioSeconds:function(e){e%=60;return e=!((e=this.addZero(Math.floor(e),2))<60)?"00":e},getAudioMinutes:function(e){e/=60;return e=!((e=this.addZero(Math.floor(e),2))<60)?"00":e},addZero:function(e,t){for(e=String(e);e.length<t;)e="0"+e;return e},updateTotalTime:function(){var e=this.Audio.duration,t=this.getAudioMinutes(e),e=this.getAudioSeconds(e);this.$audio_length.text(t+":"+e)},changeSrc:function(e,t){this.pause(),this.Audio.src=e,this.play(),t()}};var o={};return e.each(function(e,t){o["weixinAudio"+e]=new i($(this))}),o},function(){var l,c,e=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],t="onwheel"in document||9<=document.documentMode?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],d=Array.prototype.slice;if($.event.fixHooks)for(var n=e.length;n;)$.event.fixHooks[e[--n]]=$.event.mouseHooks;var i=$.event.special.mousewheel={version:"3.1.9",setup:function(){if(this.addEventListener)for(var e=t.length;e;)this.addEventListener(t[--e],o,!1);else this.onmousewheel=o;$.data(this,"mousewheel-line-height",i.getLineHeight(this)),$.data(this,"mousewheel-page-height",i.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var e=t.length;e;)this.removeEventListener(t[--e],o,!1);else this.onmousewheel=null},getLineHeight:function(e){return parseInt($(e)["offsetParent"in $.fn?"offsetParent":"parent"]().css("fontSize"),10)},getPageHeight:function(e){return $(e).height()},settings:{adjustOldDeltas:!0}};function o(e){var t,n,i=e||window.event,o=d.call(arguments,1),r=0,s=0,a=0;if((e=$.event.fix(i)).type="mousewheel","detail"in i&&(a=-1*i.detail),"wheelDelta"in i&&(a=i.wheelDelta),"wheelDeltaY"in i&&(a=i.wheelDeltaY),"wheelDeltaX"in i&&(s=-1*i.wheelDeltaX),"axis"in i&&i.axis===i.HORIZONTAL_AXIS&&(s=-1*a,a=0),r=0===a?s:a,"deltaY"in i&&(r=a=-1*i.deltaY),"deltaX"in i&&(s=i.deltaX,0===a&&(r=-1*s)),0!==a||0!==s)return 1===i.deltaMode?(r*=n=$.data(this,"mousewheel-line-height"),a*=n,s*=n):2===i.deltaMode&&(r*=n=$.data(this,"mousewheel-page-height"),a*=n,s*=n),t=Math.max(Math.abs(a),Math.abs(s)),(!c||t<c)&&h(i,c=t)&&(c/=40),h(i,t)&&(r/=40,s/=40,a/=40),r=Math[1<=r?"floor":"ceil"](r/c),s=Math[1<=s?"floor":"ceil"](s/c),a=Math[1<=a?"floor":"ceil"](a/c),e.deltaX=s,e.deltaY=a,e.deltaFactor=c,e.deltaMode=0,o.unshift(e,r,s,a),l&&clearTimeout(l),l=setTimeout(u,200),($.event.dispatch||$.event.handle).apply(this,o)}function u(){c=null}function h(e,t){return i.settings.adjustOldDeltas&&"mousewheel"===e.type&&t%120==0}$.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})}(),function(e){"use strict";function u(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function a(e,t,n,i,o,r){return u((r=u(u(t,e),u(i,r)))<<o|r>>>32-o,n)}function h(e,t,n,i,o,r,s){return a(t&n|~t&i,e,t,o,r,s)}function p(e,t,n,i,o,r,s){return a(t&i|n&~i,e,t,o,r,s)}function f(e,t,n,i,o,r,s){return a(t^n^i,e,t,o,r,s)}function m(e,t,n,i,o,r,s){return a(n^(t|~i),e,t,o,r,s)}function s(e,t){var n,i,o,r;e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;for(var s=1732584193,a=-271733879,l=-1732584194,c=271733878,d=0;d<e.length;d+=16)s=h(n=s,i=a,o=l,r=c,e[d],7,-680876936),c=h(c,s,a,l,e[d+1],12,-389564586),l=h(l,c,s,a,e[d+2],17,606105819),a=h(a,l,c,s,e[d+3],22,-1044525330),s=h(s,a,l,c,e[d+4],7,-176418897),c=h(c,s,a,l,e[d+5],12,1200080426),l=h(l,c,s,a,e[d+6],17,-1473231341),a=h(a,l,c,s,e[d+7],22,-45705983),s=h(s,a,l,c,e[d+8],7,1770035416),c=h(c,s,a,l,e[d+9],12,-1958414417),l=h(l,c,s,a,e[d+10],17,-42063),a=h(a,l,c,s,e[d+11],22,-1990404162),s=h(s,a,l,c,e[d+12],7,1804603682),c=h(c,s,a,l,e[d+13],12,-40341101),l=h(l,c,s,a,e[d+14],17,-1502002290),s=p(s,a=h(a,l,c,s,e[d+15],22,1236535329),l,c,e[d+1],5,-165796510),c=p(c,s,a,l,e[d+6],9,-1069501632),l=p(l,c,s,a,e[d+11],14,643717713),a=p(a,l,c,s,e[d],20,-373897302),s=p(s,a,l,c,e[d+5],5,-701558691),c=p(c,s,a,l,e[d+10],9,38016083),l=p(l,c,s,a,e[d+15],14,-660478335),a=p(a,l,c,s,e[d+4],20,-405537848),s=p(s,a,l,c,e[d+9],5,568446438),c=p(c,s,a,l,e[d+14],9,-1019803690),l=p(l,c,s,a,e[d+3],14,-187363961),a=p(a,l,c,s,e[d+8],20,1163531501),s=p(s,a,l,c,e[d+13],5,-1444681467),c=p(c,s,a,l,e[d+2],9,-51403784),l=p(l,c,s,a,e[d+7],14,1735328473),s=f(s,a=p(a,l,c,s,e[d+12],20,-1926607734),l,c,e[d+5],4,-378558),c=f(c,s,a,l,e[d+8],11,-2022574463),l=f(l,c,s,a,e[d+11],16,1839030562),a=f(a,l,c,s,e[d+14],23,-35309556),s=f(s,a,l,c,e[d+1],4,-1530992060),c=f(c,s,a,l,e[d+4],11,1272893353),l=f(l,c,s,a,e[d+7],16,-155497632),a=f(a,l,c,s,e[d+10],23,-1094730640),s=f(s,a,l,c,e[d+13],4,681279174),c=f(c,s,a,l,e[d],11,-358537222),l=f(l,c,s,a,e[d+3],16,-722521979),a=f(a,l,c,s,e[d+6],23,76029189),s=f(s,a,l,c,e[d+9],4,-640364487),c=f(c,s,a,l,e[d+12],11,-421815835),l=f(l,c,s,a,e[d+15],16,530742520),s=m(s,a=f(a,l,c,s,e[d+2],23,-995338651),l,c,e[d],6,-198630844),c=m(c,s,a,l,e[d+7],10,1126891415),l=m(l,c,s,a,e[d+14],15,-1416354905),a=m(a,l,c,s,e[d+5],21,-57434055),s=m(s,a,l,c,e[d+12],6,1700485571),c=m(c,s,a,l,e[d+3],10,-1894986606),l=m(l,c,s,a,e[d+10],15,-1051523),a=m(a,l,c,s,e[d+1],21,-2054922799),s=m(s,a,l,c,e[d+8],6,1873313359),c=m(c,s,a,l,e[d+15],10,-30611744),l=m(l,c,s,a,e[d+6],15,-1560198380),a=m(a,l,c,s,e[d+13],21,1309151649),s=m(s,a,l,c,e[d+4],6,-145523070),c=m(c,s,a,l,e[d+11],10,-1120210379),l=m(l,c,s,a,e[d+2],15,718787259),a=m(a,l,c,s,e[d+9],21,-343485551),s=u(s,n),a=u(a,i),l=u(l,o),c=u(c,r);return[s,a,l,c]}function l(e){for(var t="",n=32*e.length,i=0;i<n;i+=8)t+=String.fromCharCode(e[i>>5]>>>i%32&255);return t}function c(e){var t=[];for(t[(e.length>>2)-1]=void 0,i=0;i<t.length;i+=1)t[i]=0;for(var n=8*e.length,i=0;i<n;i+=8)t[i>>5]|=(255&e.charCodeAt(i/8))<<i%32;return t}function i(e){for(var t,n="0123456789abcdef",i="",o=0;o<e.length;o+=1)t=e.charCodeAt(o),i+=n.charAt(t>>>4&15)+n.charAt(15&t);return i}function n(e){return unescape(encodeURIComponent(e))}function o(e){return l(s(c(e=n(e)),8*e.length))}function r(e,t){return function(e,t){var n,i=c(e),o=[],r=[];for(o[15]=r[15]=void 0,16<i.length&&(i=s(i,8*e.length)),n=0;n<16;n+=1)o[n]=909522486^i[n],r[n]=1549556828^i[n];return t=s(o.concat(c(t)),512+8*t.length),l(s(r.concat(t),640))}(n(e),n(t))}function t(e,t,n){return t?n?r(t,e):i(r(t,e)):n?o(e):i(o(e))}"function"==typeof define&&define.amd?define(function(){return t}):"object"==typeof module&&module.exports?module.exports=t:e.md5=t}(this),function(e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).Clipboard=e()}(function(){return function i(o,r,s){function a(n,e){if(!r[n]){if(!o[n]){var t="function"==typeof require&&require;if(!e&&t)return t(n,!0);if(l)return l(n,!0);t=new Error("Cannot find module '"+n+"'");throw t.code="MODULE_NOT_FOUND",t}t=r[n]={exports:{}};o[n][0].call(t.exports,function(e){var t=o[n][1][e];return a(t||e)},t,t.exports,i,o,r,s)}return r[n].exports}for(var l="function"==typeof require&&require,e=0;e<s.length;e++)a(s[e]);return a}({1:[function(e,t,n){var i;"undefined"==typeof Element||Element.prototype.matches||((i=Element.prototype).matches=i.matchesSelector||i.mozMatchesSelector||i.msMatchesSelector||i.oMatchesSelector||i.webkitMatchesSelector),t.exports=function(e,t){for(;e&&9!==e.nodeType;){if("function"==typeof e.matches&&e.matches(t))return e;e=e.parentNode}}},{}],2:[function(e,t,n){var s=e("./closest");t.exports=function(e,t,n,i,o){var r=function(t,n,e,i){return function(e){e.delegateTarget=s(e.target,n),e.delegateTarget&&i.call(t,e)}}.apply(this,arguments);return e.addEventListener(n,r,o),{destroy:function(){e.removeEventListener(n,r,o)}}}},{"./closest":1}],3:[function(e,t,n){n.node=function(e){return void 0!==e&&e instanceof HTMLElement&&1===e.nodeType},n.nodeList=function(e){var t=Object.prototype.toString.call(e);return void 0!==e&&("[object NodeList]"===t||"[object HTMLCollection]"===t)&&"length"in e&&(0===e.length||n.node(e[0]))},n.string=function(e){return"string"==typeof e||e instanceof String},n.fn=function(e){return"[object Function]"===Object.prototype.toString.call(e)}},{}],4:[function(e,t,n){var c=e("./is"),d=e("delegate");t.exports=function(e,t,n){if(!e&&!t&&!n)throw new Error("Missing required arguments");if(!c.string(t))throw new TypeError("Second argument must be a String");if(!c.fn(n))throw new TypeError("Third argument must be a Function");if(c.node(e))return a=t,l=n,(s=e).addEventListener(a,l),{destroy:function(){s.removeEventListener(a,l)}};if(c.nodeList(e))return i=e,o=t,r=n,Array.prototype.forEach.call(i,function(e){e.addEventListener(o,r)}),{destroy:function(){Array.prototype.forEach.call(i,function(e){e.removeEventListener(o,r)})}};if(c.string(e))return d(document.body,e,t,n);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList");var i,o,r,s,a,l}},{"./is":3,delegate:2}],5:[function(e,t,n){t.exports=function(e){var t,n="SELECT"===e.nodeName?(e.focus(),e.value):"INPUT"===e.nodeName||"TEXTAREA"===e.nodeName?((t=e.hasAttribute("readonly"))||e.setAttribute("readonly",""),e.select(),e.setSelectionRange(0,e.value.length),t||e.removeAttribute("readonly"),e.value):(e.hasAttribute("contenteditable")&&e.focus(),n=window.getSelection(),(t=document.createRange()).selectNodeContents(e),n.removeAllRanges(),n.addRange(t),n.toString());return n}},{}],6:[function(e,t,n){function i(){}i.prototype={on:function(e,t,n){var i=this.e||(this.e={});return(i[e]||(i[e]=[])).push({fn:t,ctx:n}),this},once:function(e,t,n){var i=this;function o(){i.off(e,o),t.apply(n,arguments)}return o._=t,this.on(e,o,n)},emit:function(e){for(var t=[].slice.call(arguments,1),n=((this.e||(this.e={}))[e]||[]).slice(),i=0,o=n.length;i<o;i++)n[i].fn.apply(n[i].ctx,t);return this},off:function(e,t){var n=this.e||(this.e={}),i=n[e],o=[];if(i&&t)for(var r=0,s=i.length;r<s;r++)i[r].fn!==t&&i[r].fn._!==t&&o.push(i[r]);return o.length?n[e]=o:delete n[e],this}},t.exports=i},{}],7:[function(e,t,n){var i,o;i=this,o=function(e,t){"use strict";var n,i=(n=t)&&n.__esModule?n:{default:n};var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var s=(function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}(a,[{key:"resolveOptions",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this.action=e.action,this.container=e.container,this.emitter=e.emitter,this.target=e.target,this.text=e.text,this.trigger=e.trigger,this.selectedText=""}},{key:"initSelection",value:function(){this.text?this.selectFake():this.target&&this.selectTarget()}},{key:"selectFake",value:function(){var e=this,t="rtl"==document.documentElement.getAttribute("dir");this.removeFake(),this.fakeHandlerCallback=function(){return e.removeFake()},this.fakeHandler=this.container.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[t?"right":"left"]="-9999px";t=window.pageYOffset||document.documentElement.scrollTop;this.fakeElem.style.top=t+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,this.container.appendChild(this.fakeElem),this.selectedText=(0,i.default)(this.fakeElem),this.copyText()}},{key:"removeFake",value:function(){this.fakeHandler&&(this.container.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(this.container.removeChild(this.fakeElem),this.fakeElem=null)}},{key:"selectTarget",value:function(){this.selectedText=(0,i.default)(this.target),this.copyText()}},{key:"copyText",value:function(){var t=void 0;try{t=document.execCommand(this.action)}catch(e){t=!1}this.handleResult(t)}},{key:"handleResult",value:function(e){this.emitter.emit(e?"success":"error",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})}},{key:"clearSelection",value:function(){this.trigger&&this.trigger.focus(),window.getSelection().removeAllRanges()}},{key:"destroy",value:function(){this.removeFake()}},{key:"action",set:function(){if(this._action=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"copy","copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(e){if(void 0!==e){if(!e||"object"!==(void 0===e?"undefined":o(e))||1!==e.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&e.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(e.hasAttribute("readonly")||e.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=e}},get:function(){return this._target}}]),a);function a(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),this.resolveOptions(e),this.initSelection()}e.exports=s},void 0!==n?o(t,e("select")):(o(o={exports:{}},i.select),i.clipboardAction=o.exports)},{select:5}],8:[function(e,t,n){var i,o;i=this,o=function(e,t,n,i){"use strict";var o=s(t),n=s(n),r=s(i);function s(e){return e&&e.__esModule?e:{default:e}}var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};i=function(e,t,n){return t&&l(e.prototype,t),n&&l(e,n),e};function l(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)})(c,n.default),i(c,[{key:"resolveOptions",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this.action="function"==typeof e.action?e.action:this.defaultAction,this.target="function"==typeof e.target?e.target:this.defaultTarget,this.text="function"==typeof e.text?e.text:this.defaultText,this.container="object"===a(e.container)?e.container:document.body}},{key:"listenClick",value:function(e){var t=this;this.listener=(0,r.default)(e,"click",function(e){return t.onClick(e)})}},{key:"onClick",value:function(e){e=e.delegateTarget||e.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new o.default({action:this.action(e),target:this.target(e),text:this.text(e),container:this.container,trigger:e,emitter:this})}},{key:"defaultAction",value:function(e){return d("action",e)}},{key:"defaultTarget",value:function(e){e=d("target",e);if(e)return document.querySelector(e)}},{key:"defaultText",value:function(e){return d("text",e)}},{key:"destroy",value:function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)}}],[{key:"isSupported",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:["copy","cut"],e="string"==typeof e?[e]:e,t=!!document.queryCommandSupported;return e.forEach(function(e){t=t&&!!document.queryCommandSupported(e)}),t}}]),i=c;function c(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(c.__proto__||Object.getPrototypeOf(c)).call(this));return n.resolveOptions(t),n.listenClick(e),n}function d(e,t){e="data-clipboard-"+e;if(t.hasAttribute(e))return t.getAttribute(e)}e.exports=i},void 0!==n?o(t,e("./clipboard-action"),e("tiny-emitter"),e("good-listener")):(o(o={exports:{}},i.clipboardAction,i.tinyEmitter,i.goodListener),i.clipboard=o.exports)},{"./clipboard-action":7,"good-listener":4,"tiny-emitter":6}]},{},[8])(8)}),function(l,c,d){var o="ontouchstart"in d,u=function(){var e=d.createElement("div"),t=d.documentElement;if(!("pointerEvents"in e.style))return!1;e.style.pointerEvents="auto",e.style.pointerEvents="x",t.appendChild(e);var n=c.getComputedStyle&&"auto"===c.getComputedStyle(e,"").pointerEvents;return t.removeChild(e),!!n}(),n={listNodeName:"ol",itemNodeName:"li",rootClass:"dd",listClass:"dd-list",itemClass:"dd-item",dragClass:"dd-dragel",handleClass:"dd-handle",collapsedClass:"dd-collapsed",placeClass:"dd-placeholder",noDragClass:"dd-nodrag",emptyClass:"dd-empty",expandBtnHTML:'<button data-action="expand" type="button">Expand</button>',collapseBtnHTML:'<button data-action="collapse" type="button">Collapse</button>',group:0,maxDepth:5,threshold:20};function i(e,t){this.w=l(d),this.el=l(e),this.options=l.extend({},n,t),this.init()}i.prototype={init:function(){var n=this;n.reset(),n.el.data("nestable-group",this.options.group),n.placeEl=l('<div class="'+n.options.placeClass+'"/>'),l.each(this.el.find(n.options.itemNodeName),function(e,t){n.setParent(l(t))}),n.el.on("click","button",function(e){var t;n.dragEl||(e=(t=l(e.currentTarget)).data("action"),t=t.parent(n.options.itemNodeName),"collapse"===e&&n.collapseItem(t),"expand"===e&&n.expandItem(t))});function e(e){var t=l(e.target);if(!t.hasClass(n.options.handleClass)){if(t.closest("."+n.options.noDragClass).length)return;t=t.closest("."+n.options.handleClass)}t.length&&!n.dragEl&&(n.isTouch=/^touch/.test(e.type),n.isTouch&&1!==e.touches.length||(e.preventDefault(),n.dragStart(e.touches?e.touches[0]:e)))}function t(e){n.dragEl&&(e.preventDefault(),n.dragMove(e.touches?e.touches[0]:e))}function i(e){n.dragEl&&(e.preventDefault(),n.dragStop(e.touches?e.touches[0]:e))}o&&(n.el[0].addEventListener("touchstart",e,!1),c.addEventListener("touchmove",t,!1),c.addEventListener("touchend",i,!1),c.addEventListener("touchcancel",i,!1)),n.el.on("mousedown",e),n.w.on("mousemove",t),n.w.on("mouseup",i)},serialize:function(){var o=this;return step=function(e,n){var i=[];return e.children(o.options.itemNodeName).each(function(){var e=l(this),t=l.extend({},e.data()),e=e.children(o.options.listNodeName);e.length&&(t.children=step(e,n+1)),i.push(t)}),i},step(o.el.find(o.options.listNodeName).first(),0)},serialise:function(){return this.serialize()},reset:function(){this.mouse={offsetX:0,offsetY:0,startX:0,startY:0,lastX:0,lastY:0,nowX:0,nowY:0,distX:0,distY:0,dirAx:0,dirX:0,dirY:0,lastDirX:0,lastDirY:0,distAxX:0,distAxY:0},this.isTouch=!1,this.moving=!1,this.dragEl=null,this.dragRootEl=null,this.dragDepth=0,this.hasNewRoot=!1,this.pointEl=null},expandItem:function(e){e.removeClass(this.options.collapsedClass),e.children('[data-action="expand"]').hide(),e.children('[data-action="collapse"]').show(),e.children(this.options.listNodeName).show()},collapseItem:function(e){e.children(this.options.listNodeName).length&&(e.addClass(this.options.collapsedClass),e.children('[data-action="collapse"]').hide(),e.children('[data-action="expand"]').show(),e.children(this.options.listNodeName).hide())},Expand_All:function(){var e=this;e.el.find(e.options.itemNodeName).each(function(){e.expandItem(l(this))})},collapseAll:function(){var e=this;e.el.find(e.options.itemNodeName).each(function(){e.collapseItem(l(this))})},setParent:function(e){e.children(this.options.listNodeName).length&&(e.prepend(l(this.options.expandBtnHTML)),e.prepend(l(this.options.collapseBtnHTML))),e.children('[data-action="expand"]').hide()},unsetParent:function(e){e.removeClass(this.options.collapsedClass),e.children("[data-action]").remove(),e.children(this.options.listNodeName).remove()},dragStart:function(e){var t=this.mouse,n=l(e.target),i=n.closest(this.options.itemNodeName);this.placeEl.css("height",i.height()),t.offsetX=void 0!==e.offsetX?e.offsetX:e.pageX-n.offset().left,t.offsetY=void 0!==e.offsetY?e.offsetY:e.pageY-n.offset().top,t.startX=t.lastX=e.pageX,t.startY=t.lastY=e.pageY,this.dragRootEl=this.el,this.dragEl=l(d.createElement(this.options.listNodeName)).addClass(this.options.listClass+" "+this.options.dragClass),this.dragEl.css("width",i.width()),i.after(this.placeEl),i[0].parentNode.removeChild(i[0]),i.appendTo(this.dragEl),l(d.body).append(this.dragEl),this.dragEl.css({left:e.pageX-t.offsetX,top:e.pageY-t.offsetY});for(var o,r=this.dragEl.find(this.options.itemNodeName),s=0;s<r.length;s++)(o=l(r[s]).parents(this.options.listNodeName).length)>this.dragDepth&&(this.dragDepth=o)},dragStop:function(e){var t=this.dragEl.children(this.options.itemNodeName).first();t[0].parentNode.removeChild(t[0]),this.placeEl.replaceWith(t),this.dragEl.remove(),this.el.trigger("change"),this.hasNewRoot&&this.dragRootEl.trigger("change"),this.reset()},dragMove:function(e){var t,n=this.options,i=this.mouse;this.dragEl.css({left:e.pageX-i.offsetX,top:e.pageY-i.offsetY}),i.lastX=i.nowX,i.lastY=i.nowY,i.nowX=e.pageX,i.nowY=e.pageY,i.distX=i.nowX-i.lastX,i.distY=i.nowY-i.lastY,i.lastDirX=i.dirX,i.lastDirY=i.dirY,i.dirX=0===i.distX?0:0<i.distX?1:-1,i.dirY=0===i.distY?0:0<i.distY?1:-1;var o=Math.abs(i.distX)>Math.abs(i.distY)?1:0;if(!i.moving)return i.dirAx=o,void(i.moving=!0);i.dirAx!==o?(i.distAxX=0,i.distAxY=0):(i.distAxX+=Math.abs(i.distX),0!==i.dirX&&i.dirX!==i.lastDirX&&(i.distAxX=0),i.distAxY+=Math.abs(i.distY),0!==i.dirY&&i.dirY!==i.lastDirY&&(i.distAxY=0)),i.dirAx=o,i.dirAx&&i.distAxX>=n.threshold&&(i.distAxX=0,a=this.placeEl.prev(n.itemNodeName),0<i.distX&&a.length&&!a.hasClass(n.collapsedClass)&&(t=a.find(n.listNodeName).last(),this.placeEl.parents(n.listNodeName).length+this.dragDepth<=n.maxDepth&&(t.length?(t=a.children(n.listNodeName).last()).append(this.placeEl):((t=l("<"+n.listNodeName+"/>").addClass(n.listClass)).append(this.placeEl),a.append(t),this.setParent(a)))),i.distX<0&&(this.placeEl.next(n.itemNodeName).length||(s=this.placeEl.parent(),this.placeEl.closest(n.itemNodeName).after(this.placeEl),s.children().length||this.unsetParent(s.parent()))));var r=!1;if(u||(this.dragEl[0].style.visibility="hidden"),this.pointEl=l(d.elementFromPoint(e.pageX-d.body.scrollLeft,e.pageY-(c.pageYOffset||d.documentElement.scrollTop))),u||(this.dragEl[0].style.visibility="visible"),this.pointEl.hasClass(n.handleClass)&&(this.pointEl=this.pointEl.parent(n.itemNodeName)),this.pointEl.hasClass(n.emptyClass))r=!0;else if(!this.pointEl.length||!this.pointEl.hasClass(n.itemClass))return;var s,o=this.pointEl.closest("."+n.rootClass),a=this.dragRootEl.data("nestable-id")!==o.data("nestable-id");i.dirAx&&!a&&!r||a&&n.group!==o.data("nestable-group")||this.dragDepth-1+this.pointEl.parents(n.listNodeName).length>n.maxDepth||(e=e.pageY<this.pointEl.offset().top+this.pointEl.height()/2,s=this.placeEl.parent(),r?((t=l(d.createElement(n.listNodeName)).addClass(n.listClass)).append(this.placeEl),this.pointEl.replaceWith(t)):e?this.pointEl.before(this.placeEl):this.pointEl.after(this.placeEl),s.children().length||this.unsetParent(s.parent()),this.dragRootEl.find(n.itemNodeName).length||this.dragRootEl.append('<div class="'+n.emptyClass+'"/>'),a&&(this.dragRootEl=o,this.hasNewRoot=this.el[0]!==this.dragRootEl[0]))}},l.fn.nestable=function(t){var n=this;return this.each(function(){var e=l(this).data("nestable");e?"string"==typeof t&&"function"==typeof e[t]&&(n=e[t]()):(l(this).data("nestable",new i(this,t)),l(this).data("nestable-id",(new Date).getTime()))}),n||this}}(window.jQuery||window.Zepto,window,document),function(s){s.fn.step=function(e){var i=s.extend({},s.fn.step.defaults,e),t=this.find(".step-header li").length,o=i.initStep<t?100/+t+100*(i.initStep-1)/t:100,r=i.initStep,n=this,e=100-100/t+"%";return this.find(".step-header").prepend('<div class="step-bar" style=\'width:'+e+'\'><div class="step-bar-active"></div></div>'),this.find(".step-list").eq(i.initStep).show(),t<i.initStep&&(i.initStep=t),0==i.animate&&(i.speed=0),this.find(".step-header li").each(function(e,t){0==e?s(t).addClass("step-current").append('<a href="javascript:;" class="jump-steps" data-step="'+(e+1)+'">'+(e+1)+"</a>"):e<i.initStep?s(t).addClass("step-active").append('<a href="javascript:;" class="jump-steps" data-step="'+(e+1)+'"></a>'):s(t).append('<a href="javascript:;" class="jump-steps" data-step="'+(e+1)+'">'+(e+1)+"</a>")}),this.find(".step-header li").css({width:100/t+"%"}),this.find(".step-header").show(),this.find(".step-bar-active").animate({width:o+"%"},i.speed,function(){}),this.find(".jump-steps").on("click",function(){var e=s(this).attr("data-step");0!==e&&e<=t&&i.stepCallBack?i.stepCallBack(e):n.goStep(e)}),this.getCurrentPage=function(){return r},this.nextStep=function(){if(t<=r)return!1;var e=0==r?2:r+1==t?t:r+1;if(!i.stepCallBack)return this.goStep(e);i.stepCallBack(e)},this.preStep=function(){if(r<=1)return!1;var e=1==r?1:r-1;if(!i.stepCallBack)return this.goStep(e);i.stepCallBack(e)},this.goStep=function(n){return null==n||isNaN(n)||n<0?(window.console&&window.console.error&&console.error("the method goStep has a error,page:"+n),!1):(r=parseInt(n),this.find(".step-list").hide(),this.find(".step-list").eq(r-1).show(),this.find(".step-header li").each(function(e,t){t=s(t);t.removeClass("step-current").removeClass("step-active"),t.find("a").html(e+1),e+1<n?(t.addClass("step-active"),t.find("a").empty(),i.scrollTop&&s("html,body").animate({scrollTop:0},"slow")):e+1==n&&t.addClass("step-current")}),o=n<t?100/(100-100/t)*(100/t)*(n-1):100,this.find(".step-bar-active").animate({width:o+"%"},i.speed,function(){}),!0)},this},s.fn.step.defaults={animate:!0,speed:200,initStep:0,scrollTop:!0,mustStep:[],stepCallBack:{}}}(jQuery,(window,document)),function(e,t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?module.exports=t(require("jquery")):t(e.jQuery)}(this,function(a,d){var l,n={},t=n.toString,u=/^([\-+])=\s*(\d+\.?\d*)/,e=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[e[1],e[2],e[3],e[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[2.55*e[1],2.55*e[2],2.55*e[3],e[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(e){return[e[1],e[2]/100,e[3]/100,e[4]]}}],h=a.Color=function(e,t,n,i){return new a.Color.fn.parse(e,t,n,i)},p={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},f={byte:{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},m=a.each;function g(e){return null==e?e+"":"object"==typeof e?n[t.call(e)]||"object":typeof e}function v(e,t,n){var i=f[t.type]||{};return null==e?n||!t.def?null:t.def:(e=i.floor?~~e:parseFloat(e),i.mod?(e+i.mod)%i.mod:Math.min(i.max,Math.max(0,e)))}function c(i){var o=h(),r=o._rgba=[];return i=i.toLowerCase(),m(e,function(e,t){var n=t.re.exec(i),n=n&&t.parse(n),t=t.space||"rgba";if(n)return n=o[t](n),o[p[t].cache]=n[p[t].cache],r=o._rgba=n._rgba,!1}),r.length?("0,0,0,0"===r.join()&&a.extend(r,l.transparent),o):l[i]}function o(e,t,n){return 6*(n=(n+1)%1)<1?e+(t-e)*n*6:2*n<1?t:3*n<2?e+(t-e)*(2/3-n)*6:e}m(p,function(e,t){t.cache="_"+e,t.props.alpha={idx:3,type:"percent",def:1}}),a.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){n["[object "+t+"]"]=t.toLowerCase()}),(h.fn=a.extend(h.prototype,{parse:function(o,e,t,n){if(o===d)return this._rgba=[null,null,null,null],this;(o.jquery||o.nodeType)&&(o=a(o).css(e),e=d);var r=this,i=g(o),s=this._rgba=[];return e!==d&&(o=[o,e,t,n],i="array"),"string"===i?this.parse(c(o)||l._default):"array"===i?(m(p.rgba.props,function(e,t){s[t.idx]=v(o[t.idx],t)}),this):"object"===i?(m(p,o instanceof h?function(e,t){o[t.cache]&&(r[t.cache]=o[t.cache].slice())}:function(e,n){var i=n.cache;m(n.props,function(e,t){if(!r[i]&&n.to){if("alpha"===e||null==o[e])return;r[i]=n.to(r._rgba)}r[i][t.idx]=v(o[e],t,!0)}),r[i]&&a.inArray(null,r[i].slice(0,3))<0&&(null==r[i][3]&&(r[i][3]=1),n.from&&(r._rgba=n.from(r[i])))}),this):void 0},is:function(e){var o=h(e),r=!0,s=this;return m(p,function(e,t){var n,i=o[t.cache];return i&&(n=s[t.cache]||t.to&&t.to(s._rgba)||[],m(t.props,function(e,t){if(null!=i[t.idx])return r=i[t.idx]===n[t.idx]})),r}),r},_space:function(){var n=[],i=this;return m(p,function(e,t){i[t.cache]&&n.push(e)}),n.pop()},transition:function(e,s){var t=(c=h(e))._space(),n=p[t],e=0===this.alpha()?h("transparent"):this,a=e[n.cache]||n.to(e._rgba),l=a.slice(),c=c[n.cache];return m(n.props,function(e,t){var n=t.idx,i=a[n],o=c[n],r=f[t.type]||{};null!==o&&(null===i?l[n]=o:(r.mod&&(o-i>r.mod/2?i+=r.mod:i-o>r.mod/2&&(i-=r.mod)),l[n]=v((o-i)*s+i,t)))}),this[t](l)},blend:function(e){if(1===this._rgba[3])return this;var t=this._rgba.slice(),n=t.pop(),i=h(e)._rgba;return h(a.map(t,function(e,t){return(1-n)*i[t]+n*e}))},toRgbaString:function(){var e="rgba(",t=a.map(this._rgba,function(e,t){return null!=e?e:2<t?1:0});return 1===t[3]&&(t.pop(),e="rgb("),e+t.join()+")"},toHslaString:function(){var e="hsla(",t=a.map(this.hsla(),function(e,t){return null==e&&(e=2<t?1:0),e=t&&t<3?Math.round(100*e)+"%":e});return 1===t[3]&&(t.pop(),e="hsl("),e+t.join()+")"},toHexString:function(e){var t=this._rgba.slice(),n=t.pop();return e&&t.push(~~(255*n)),"#"+a.map(t,function(e){return("0"+(e||0).toString(16)).substr(-2)}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}})).parse.prototype=h.fn,p.hsla.to=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t=e[0]/255,n=e[1]/255,i=e[2]/255,o=e[3],r=Math.max(t,n,i),s=Math.min(t,n,i),a=r-s,l=r+s,e=.5*l,n=s===r?0:t===r?60*(n-i)/a+360:n===r?60*(i-t)/a+120:60*(t-n)/a+240,l=0==a?0:e<=.5?a/l:a/(2-l);return[Math.round(n)%360,l,e,null==o?1:o]},p.hsla.from=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t=e[0]/360,n=e[1],i=e[2],e=e[3],n=i<=.5?i*(1+n):i+n-i*n,i=2*i-n;return[Math.round(255*o(i,n,t+1/3)),Math.round(255*o(i,n,t)),Math.round(255*o(i,n,t-1/3)),e]},m(p,function(l,e){var r=e.props,s=e.cache,a=e.to,c=e.from;h.fn[l]=function(e){if(a&&!this[s]&&(this[s]=a(this._rgba)),e===d)return this[s].slice();var t,n=g(e),i="array"===n||"object"===n?e:arguments,o=this[s].slice();return m(r,function(e,t){e=i["object"===n?e:t.idx];null==e&&(e=o[t.idx]),o[t.idx]=v(e,t)}),c?((t=h(c(o)))[s]=o,t):h(o)},m(r,function(s,a){h.fn[s]||(h.fn[s]=function(e){var t,n=g(e),i="alpha"===s?this._hsla?"hsla":"rgba":l,o=this[i](),r=o[a.idx];return"undefined"===n?r:("function"===n&&(n=g(e=e.call(this,r))),null==e&&a.empty?this:("string"===n&&(t=u.exec(e))&&(e=r+parseFloat(t[2])*("+"===t[1]?1:-1)),o[a.idx]=e,this[i](o)))})})}),(h.hook=function(e){e=e.split(" ");m(e,function(e,i){a.cssHooks[i]={set:function(e,t){var n;"transparent"===t||"string"===g(t)&&!(n=c(t))||(t=(t=h(n||t)).toRgbaString()),e.style[i]=t}},a.fx.step[i]=function(e){e.colorInit||(e.start=h(e.elem,i),e.end=h(e.end),e.colorInit=!0),a.cssHooks[i].set(e.elem,e.start.transition(e.end,e.pos))}})})("backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor"),a.cssHooks.borderColor={expand:function(n){var i={};return m(["Top","Right","Bottom","Left"],function(e,t){i["border"+t+"Color"]=n}),i}},l=a.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):"undefined"!=typeof exports?module.exports=e(require("jquery")):e(jQuery)}(function(c){"use strict";var i,r=window.Slick||{};i=0,(r=function(e,t){var n=this;n.defaults={accessibility:!0,adaptiveHeight:!1,appendArrows:c(e),appendDots:c(e),arrows:!1,asNavFor:null,prevArrow:'<button class="slick-prev" aria-label="Previous" type="button">Previous</button>',nextArrow:'<button class="slick-next" aria-label="Next" type="button">Next</button>',autoplay:!1,autoplaySpeed:3e3,centerMode:!1,centerPadding:"50px",cssEase:"ease",customPaging:function(e,t){return c('<button type="button" />').text(t+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,focusOnChange:!1,infinite:!0,initialSlide:0,lazyLoad:"ondemand",mobileFirst:!1,pauseOnHover:!0,pauseOnFocus:!0,pauseOnDotsHover:!1,respondTo:"window",responsive:null,rows:1,rtl:!1,slide:"",slidesPerRow:1,slidesToShow:1,slidesToScroll:1,speed:500,swipe:!0,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!0,vertical:!1,verticalSwiping:!1,waitForAnimate:!0,zIndex:1e3},n.initials={animating:!1,dragging:!1,autoPlayTimer:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,$dots:null,listWidth:null,listHeight:null,loadIndex:0,$nextArrow:null,$prevArrow:null,scrolling:!1,slideCount:null,slideWidth:null,$slideTrack:null,$slides:null,sliding:!1,slideOffset:0,swipeLeft:null,swiping:!1,$list:null,touchObject:{},transformsEnabled:!1,unslicked:!1},c.extend(n,n.initials),n.activeBreakpoint=null,n.animType=null,n.animProp=null,n.breakpoints=[],n.breakpointSettings=[],n.cssTransitions=!1,n.focussed=!1,n.interrupted=!1,n.hidden="hidden",n.paused=!0,n.positionProp=null,n.respondTo=null,n.rowCount=1,n.shouldClick=!0,n.$slider=c(e),n.$slidesCache=null,n.transformType=null,n.transitionType=null,n.visibilityChange="visibilitychange",n.windowWidth=0,n.windowTimer=null,e=c(e).data("slick")||{},n.options=c.extend({},n.defaults,t,e),n.currentSlide=n.options.initialSlide,n.originalSettings=n.options,void 0!==document.mozHidden?(n.hidden="mozHidden",n.visibilityChange="mozvisibilitychange"):void 0!==document.webkitHidden&&(n.hidden="webkitHidden",n.visibilityChange="webkitvisibilitychange"),n.autoPlay=c.proxy(n.autoPlay,n),n.autoPlayClear=c.proxy(n.autoPlayClear,n),n.autoPlayIterator=c.proxy(n.autoPlayIterator,n),n.changeSlide=c.proxy(n.changeSlide,n),n.clickHandler=c.proxy(n.clickHandler,n),n.selectHandler=c.proxy(n.selectHandler,n),n.setPosition=c.proxy(n.setPosition,n),n.swipeHandler=c.proxy(n.swipeHandler,n),n.dragHandler=c.proxy(n.dragHandler,n),n.keyHandler=c.proxy(n.keyHandler,n),n.instanceUid=i++,n.htmlExpr=/^(?:\s*(<[\w\W]+>)[^>]*)$/,n.registerBreakpoints(),n.init(!0)}).prototype.activateADA=function(){this.$slideTrack.find(".slick-active").attr({"aria-hidden":"false"}).find("a, input, button, select").attr({tabindex:"0"})},r.prototype.addSlide=r.prototype.slickAdd=function(e,t,n){var i=this;if("boolean"==typeof t)n=t,t=null;else if(t<0||t>=i.slideCount)return!1;i.unload(),"number"==typeof t?0===t&&0===i.$slides.length?c(e).appendTo(i.$slideTrack):n?c(e).insertBefore(i.$slides.eq(t)):c(e).insertAfter(i.$slides.eq(t)):!0===n?c(e).prependTo(i.$slideTrack):c(e).appendTo(i.$slideTrack),i.$slides=i.$slideTrack.children(this.options.slide),i.$slideTrack.children(this.options.slide).detach(),i.$slideTrack.append(i.$slides),i.$slides.each(function(e,t){c(t).attr("data-slick-index",e)}),i.$slidesCache=i.$slides,i.reinit()},r.prototype.animateHeight=function(){var e;1===this.options.slidesToShow&&!0===this.options.adaptiveHeight&&!1===this.options.vertical&&(e=this.$slides.eq(this.currentSlide).outerHeight(!0),this.$list.animate({height:e},this.options.speed))},r.prototype.animateSlide=function(e,t){var n={},i=this;i.animateHeight(),!0===i.options.rtl&&!1===i.options.vertical&&(e=-e),!1===i.transformsEnabled?!1===i.options.vertical?i.$slideTrack.animate({left:e},i.options.speed,i.options.easing,t):i.$slideTrack.animate({top:e},i.options.speed,i.options.easing,t):!1===i.cssTransitions?(!0===i.options.rtl&&(i.currentLeft=-i.currentLeft),c({animStart:i.currentLeft}).animate({animStart:e},{duration:i.options.speed,easing:i.options.easing,step:function(e){e=Math.ceil(e),!1===i.options.vertical?n[i.animType]="translate("+e+"px, 0px)":n[i.animType]="translate(0px,"+e+"px)",i.$slideTrack.css(n)},complete:function(){t&&t.call()}})):(i.applyTransition(),e=Math.ceil(e),!1===i.options.vertical?n[i.animType]="translate3d("+e+"px, 0px, 0px)":n[i.animType]="translate3d(0px,"+e+"px, 0px)",i.$slideTrack.css(n),t&&setTimeout(function(){i.disableTransition(),t.call()},i.options.speed))},r.prototype.getNavTarget=function(){var e=this.options.asNavFor;return e=e&&null!==e?c(e).not(this.$slider):e},r.prototype.asNavFor=function(t){var e=this.getNavTarget();null!==e&&"object"==typeof e&&e.each(function(){var e=c(this).slick("getSlick");e.unslicked||e.slideHandler(t,!0)})},r.prototype.applyTransition=function(e){var t=this,n={};!1===t.options.fade?n[t.transitionType]=t.transformType+" "+t.options.speed+"ms "+t.options.cssEase:n[t.transitionType]="opacity "+t.options.speed+"ms "+t.options.cssEase,(!1===t.options.fade?t.$slideTrack:t.$slides.eq(e)).css(n)},r.prototype.autoPlay=function(){this.autoPlayClear(),this.slideCount>this.options.slidesToShow&&(this.autoPlayTimer=setInterval(this.autoPlayIterator,this.options.autoplaySpeed))},r.prototype.autoPlayClear=function(){this.autoPlayTimer&&clearInterval(this.autoPlayTimer)},r.prototype.autoPlayIterator=function(){var e=this,t=e.currentSlide+e.options.slidesToScroll;e.paused||e.interrupted||e.focussed||(!1===e.options.infinite&&(1===e.direction&&e.currentSlide+1===e.slideCount-1?e.direction=0:0===e.direction&&(t=e.currentSlide-e.options.slidesToScroll,e.currentSlide-1==0&&(e.direction=1))),e.slideHandler(t))},r.prototype.buildArrows=function(){var e=this;!0===e.options.arrows&&(e.$prevArrow=c(e.options.prevArrow).addClass("slick-arrow"),e.$nextArrow=c(e.options.nextArrow).addClass("slick-arrow"),e.slideCount>e.options.slidesToShow?(e.$prevArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"),e.$nextArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"),e.htmlExpr.test(e.options.prevArrow)&&e.$prevArrow.prependTo(e.options.appendArrows),e.htmlExpr.test(e.options.nextArrow)&&e.$nextArrow.appendTo(e.options.appendArrows),!0!==e.options.infinite&&e.$prevArrow.addClass("slick-disabled").attr("aria-disabled","true")):e.$prevArrow.add(e.$nextArrow).addClass("slick-hidden").attr({"aria-disabled":"true",tabindex:"-1"}))},r.prototype.buildDots=function(){var e,t;if(!0===this.options.dots){for(this.$slider.addClass("slick-dotted"),t=c("<ul />").addClass(this.options.dotsClass),e=0;e<=this.getDotCount();e+=1)t.append(c("<li />").append(this.options.customPaging.call(this,this,e)));this.$dots=t.appendTo(this.options.appendDots),this.$dots.find("li").first().addClass("slick-active")}},r.prototype.buildOut=function(){var e=this;e.$slides=e.$slider.children(e.options.slide+":not(.slick-cloned)").addClass("slick-slide"),e.slideCount=e.$slides.length,e.$slides.each(function(e,t){c(t).attr("data-slick-index",e).data("originalStyling",c(t).attr("style")||"")}),e.$slider.addClass("slick-slider"),e.$slideTrack=0===e.slideCount?c('<div class="slick-track"/>').appendTo(e.$slider):e.$slides.wrapAll('<div class="slick-track"/>').parent(),e.$list=e.$slideTrack.wrap('<div class="slick-list"/>').parent(),e.$slideTrack.css("opacity",0),!0!==e.options.centerMode&&!0!==e.options.swipeToSlide||(e.options.slidesToScroll=1),c("img[data-lazy]",e.$slider).not("[src]").addClass("slick-loading"),e.setupInfinite(),e.buildArrows(),e.buildDots(),e.updateDots(),e.setSlideClasses("number"==typeof e.currentSlide?e.currentSlide:0),!0===e.options.draggable&&e.$list.addClass("draggable")},r.prototype.buildRows=function(){var e,t,n,i=this,o=document.createDocumentFragment(),r=i.$slider.children();if(1<i.options.rows){for(n=i.options.slidesPerRow*i.options.rows,t=Math.ceil(r.length/n),e=0;e<t;e++){for(var s=document.createElement("div"),a=0;a<i.options.rows;a++){for(var l=document.createElement("div"),c=0;c<i.options.slidesPerRow;c++){var d=e*n+(a*i.options.slidesPerRow+c);r.get(d)&&l.appendChild(r.get(d))}s.appendChild(l)}o.appendChild(s)}i.$slider.empty().append(o),i.$slider.children().children().children().css({width:100/i.options.slidesPerRow+"%",display:"inline-block"})}},r.prototype.checkResponsive=function(e,t){var n,i,o,r=this,s=!1,a=r.$slider.width(),l=window.innerWidth||c(window).width();if("window"===r.respondTo?o=l:"slider"===r.respondTo?o=a:"min"===r.respondTo&&(o=Math.min(l,a)),r.options.responsive&&r.options.responsive.length&&null!==r.options.responsive){for(n in i=null,r.breakpoints)r.breakpoints.hasOwnProperty(n)&&(!1===r.originalSettings.mobileFirst?o<r.breakpoints[n]&&(i=r.breakpoints[n]):o>r.breakpoints[n]&&(i=r.breakpoints[n]));null!==i?null!==r.activeBreakpoint&&i===r.activeBreakpoint&&!t||(r.activeBreakpoint=i,"unslick"===r.breakpointSettings[i]?r.unslick(i):(r.options=c.extend({},r.originalSettings,r.breakpointSettings[i]),!0===e&&(r.currentSlide=r.options.initialSlide),r.refresh(e)),s=i):null!==r.activeBreakpoint&&(r.activeBreakpoint=null,r.options=r.originalSettings,!0===e&&(r.currentSlide=r.options.initialSlide),r.refresh(e),s=i),e||!1===s||r.$slider.trigger("breakpoint",[r,s])}},r.prototype.changeSlide=function(e,t){var n,i=this,o=c(e.currentTarget);switch(o.is("a")&&e.preventDefault(),o.is("li")||(o=o.closest("li")),n=i.slideCount%i.options.slidesToScroll!=0?0:(i.slideCount-i.currentSlide)%i.options.slidesToScroll,e.data.message){case"previous":r=0==n?i.options.slidesToScroll:i.options.slidesToShow-n,i.slideCount>i.options.slidesToShow&&i.slideHandler(i.currentSlide-r,!1,t);break;case"next":r=0==n?i.options.slidesToScroll:n,i.slideCount>i.options.slidesToShow&&i.slideHandler(i.currentSlide+r,!1,t);break;case"index":var r=0===e.data.index?0:e.data.index||o.index()*i.options.slidesToScroll;i.slideHandler(i.checkNavigable(r),!1,t),o.children().trigger("focus");break;default:return}},r.prototype.checkNavigable=function(e){var t=this.getNavigableIndexes(),n=0;if(e>t[t.length-1])e=t[t.length-1];else for(var i in t){if(e<t[i]){e=n;break}n=t[i]}return e},r.prototype.cleanUpEvents=function(){var e=this;e.options.dots&&null!==e.$dots&&(c("li",e.$dots).off("click.slick",e.changeSlide).off("mouseenter.slick",c.proxy(e.interrupt,e,!0)).off("mouseleave.slick",c.proxy(e.interrupt,e,!1)),!0===e.options.accessibility&&e.$dots.off("keydown.slick",e.keyHandler)),e.$slider.off("focus.slick blur.slick"),!0===e.options.arrows&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow&&e.$prevArrow.off("click.slick",e.changeSlide),e.$nextArrow&&e.$nextArrow.off("click.slick",e.changeSlide),!0===e.options.accessibility&&(e.$prevArrow&&e.$prevArrow.off("keydown.slick",e.keyHandler),e.$nextArrow&&e.$nextArrow.off("keydown.slick",e.keyHandler))),e.$list.off("touchstart.slick mousedown.slick",e.swipeHandler),e.$list.off("touchmove.slick mousemove.slick",e.swipeHandler),e.$list.off("touchend.slick mouseup.slick",e.swipeHandler),e.$list.off("touchcancel.slick mouseleave.slick",e.swipeHandler),e.$list.off("click.slick",e.clickHandler),c(document).off(e.visibilityChange,e.visibility),e.cleanUpSlideEvents(),!0===e.options.accessibility&&e.$list.off("keydown.slick",e.keyHandler),!0===e.options.focusOnSelect&&c(e.$slideTrack).children().off("click.slick",e.selectHandler),c(window).off("orientationchange.slick.slick-"+e.instanceUid,e.orientationChange),c(window).off("resize.slick.slick-"+e.instanceUid,e.resize),c("[draggable!=true]",e.$slideTrack).off("dragstart",e.preventDefault),c(window).off("load.slick.slick-"+e.instanceUid,e.setPosition)},r.prototype.cleanUpSlideEvents=function(){this.$list.off("mouseenter.slick",c.proxy(this.interrupt,this,!0)),this.$list.off("mouseleave.slick",c.proxy(this.interrupt,this,!1))},r.prototype.cleanUpRows=function(){var e;1<this.options.rows&&((e=this.$slides.children().children()).removeAttr("style"),this.$slider.empty().append(e))},r.prototype.clickHandler=function(e){!1===this.shouldClick&&(e.stopImmediatePropagation(),e.stopPropagation(),e.preventDefault())},r.prototype.destroy=function(e){var t=this;t.autoPlayClear(),t.touchObject={},t.cleanUpEvents(),c(".slick-cloned",t.$slider).detach(),t.$dots&&t.$dots.remove(),t.$prevArrow&&t.$prevArrow.length&&(t.$prevArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display",""),t.htmlExpr.test(t.options.prevArrow)&&t.$prevArrow.remove()),t.$nextArrow&&t.$nextArrow.length&&(t.$nextArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display",""),t.htmlExpr.test(t.options.nextArrow)&&t.$nextArrow.remove()),t.$slides&&(t.$slides.removeClass("slick-slide slick-active slick-center slick-visible slick-current").removeAttr("aria-hidden").removeAttr("data-slick-index").each(function(){c(this).attr("style",c(this).data("originalStyling"))}),t.$slideTrack.children(this.options.slide).detach(),t.$slideTrack.detach(),t.$list.detach(),t.$slider.append(t.$slides)),t.cleanUpRows(),t.$slider.removeClass("slick-slider"),t.$slider.removeClass("slick-initialized"),t.$slider.removeClass("slick-dotted"),t.unslicked=!0,e||t.$slider.trigger("destroy",[t])},r.prototype.disableTransition=function(e){var t={};t[this.transitionType]="",(!1===this.options.fade?this.$slideTrack:this.$slides.eq(e)).css(t)},r.prototype.fadeSlide=function(e,t){var n=this;!1===n.cssTransitions?(n.$slides.eq(e).css({zIndex:n.options.zIndex}),n.$slides.eq(e).animate({opacity:1},n.options.speed,n.options.easing,t)):(n.applyTransition(e),n.$slides.eq(e).css({opacity:1,zIndex:n.options.zIndex}),t&&setTimeout(function(){n.disableTransition(e),t.call()},n.options.speed))},r.prototype.fadeSlideOut=function(e){!1===this.cssTransitions?this.$slides.eq(e).animate({opacity:0,zIndex:this.options.zIndex-2},this.options.speed,this.options.easing):(this.applyTransition(e),this.$slides.eq(e).css({opacity:0,zIndex:this.options.zIndex-2}))},r.prototype.filterSlides=r.prototype.slickFilter=function(e){null!==e&&(this.$slidesCache=this.$slides,this.unload(),this.$slideTrack.children(this.options.slide).detach(),this.$slidesCache.filter(e).appendTo(this.$slideTrack),this.reinit())},r.prototype.focusHandler=function(){var n=this;n.$slider.off("focus.slick blur.slick").on("focus.slick blur.slick","*",function(e){e.stopImmediatePropagation();var t=c(this);setTimeout(function(){n.options.pauseOnFocus&&(n.focussed=t.is(":focus"),n.autoPlay())},0)})},r.prototype.getCurrent=r.prototype.slickCurrentSlide=function(){return this.currentSlide},r.prototype.getDotCount=function(){var e=this,t=0,n=0,i=0;if(!0===e.options.infinite)if(e.slideCount<=e.options.slidesToShow)++i;else for(;t<e.slideCount;)++i,t=n+e.options.slidesToScroll,n+=e.options.slidesToScroll<=e.options.slidesToShow?e.options.slidesToScroll:e.options.slidesToShow;else if(!0===e.options.centerMode)i=e.slideCount;else if(e.options.asNavFor)for(;t<e.slideCount;)++i,t=n+e.options.slidesToScroll,n+=e.options.slidesToScroll<=e.options.slidesToShow?e.options.slidesToScroll:e.options.slidesToShow;else i=1+Math.ceil((e.slideCount-e.options.slidesToShow)/e.options.slidesToScroll);return i-1},r.prototype.getLeft=function(e){var t,n,i=this,o=0;return i.slideOffset=0,t=i.$slides.first().outerHeight(!0),!0===i.options.infinite?(i.slideCount>i.options.slidesToShow&&(i.slideOffset=i.slideWidth*i.options.slidesToShow*-1,n=-1,!0===i.options.vertical&&!0===i.options.centerMode&&(2===i.options.slidesToShow?n=-1.5:1===i.options.slidesToShow&&(n=-2)),o=t*i.options.slidesToShow*n),i.slideCount%i.options.slidesToScroll!=0&&e+i.options.slidesToScroll>i.slideCount&&i.slideCount>i.options.slidesToShow&&(o=e>i.slideCount?(i.slideOffset=(i.options.slidesToShow-(e-i.slideCount))*i.slideWidth*-1,(i.options.slidesToShow-(e-i.slideCount))*t*-1):(i.slideOffset=i.slideCount%i.options.slidesToScroll*i.slideWidth*-1,i.slideCount%i.options.slidesToScroll*t*-1))):e+i.options.slidesToShow>i.slideCount&&(i.slideOffset=(e+i.options.slidesToShow-i.slideCount)*i.slideWidth,o=(e+i.options.slidesToShow-i.slideCount)*t),i.slideCount<=i.options.slidesToShow&&(o=i.slideOffset=0),!0===i.options.centerMode&&i.slideCount<=i.options.slidesToShow?i.slideOffset=i.slideWidth*Math.floor(i.options.slidesToShow)/2-i.slideWidth*i.slideCount/2:!0===i.options.centerMode&&!0===i.options.infinite?i.slideOffset+=i.slideWidth*Math.floor(i.options.slidesToShow/2)-i.slideWidth:!0===i.options.centerMode&&(i.slideOffset=0,i.slideOffset+=i.slideWidth*Math.floor(i.options.slidesToShow/2)),t=!1===i.options.vertical?e*i.slideWidth*-1+i.slideOffset:e*t*-1+o,!0===i.options.variableWidth&&(o=i.slideCount<=i.options.slidesToShow||!1===i.options.infinite?i.$slideTrack.children(".slick-slide").eq(e):i.$slideTrack.children(".slick-slide").eq(e+i.options.slidesToShow),t=!0===i.options.rtl?o[0]?-1*(i.$slideTrack.width()-o[0].offsetLeft-o.width()):0:o[0]?-1*o[0].offsetLeft:0,!0===i.options.centerMode&&(o=i.slideCount<=i.options.slidesToShow||!1===i.options.infinite?i.$slideTrack.children(".slick-slide").eq(e):i.$slideTrack.children(".slick-slide").eq(e+i.options.slidesToShow+1),t=!0===i.options.rtl?o[0]?-1*(i.$slideTrack.width()-o[0].offsetLeft-o.width()):0:o[0]?-1*o[0].offsetLeft:0,t+=(i.$list.width()-o.outerWidth())/2)),t},r.prototype.getOption=r.prototype.slickGetOption=function(e){return this.options[e]},r.prototype.getNavigableIndexes=function(){for(var e=this,t=0,n=0,i=[],o=!1===e.options.infinite?e.slideCount:(t=-1*e.options.slidesToScroll,n=-1*e.options.slidesToScroll,2*e.slideCount);t<o;)i.push(t),t=n+e.options.slidesToScroll,n+=e.options.slidesToScroll<=e.options.slidesToShow?e.options.slidesToScroll:e.options.slidesToShow;return i},r.prototype.getSlick=function(){return this},r.prototype.getSlideCount=function(){var n,i=this,o=!0===i.options.centerMode?i.slideWidth*Math.floor(i.options.slidesToShow/2):0;return!0===i.options.swipeToSlide?(i.$slideTrack.find(".slick-slide").each(function(e,t){if(t.offsetLeft-o+c(t).outerWidth()/2>-1*i.swipeLeft)return n=t,!1}),Math.abs(c(n).attr("data-slick-index")-i.currentSlide)||1):i.options.slidesToScroll},r.prototype.goTo=r.prototype.slickGoTo=function(e,t){this.changeSlide({data:{message:"index",index:parseInt(e)}},t)},r.prototype.init=function(e){var t=this;c(t.$slider).hasClass("slick-initialized")||(c(t.$slider).addClass("slick-initialized"),t.buildRows(),t.buildOut(),t.setProps(),t.startLoad(),t.loadSlider(),t.initializeEvents(),t.updateArrows(),t.updateDots(),t.checkResponsive(!0),t.focusHandler()),e&&t.$slider.trigger("init",[t]),!0===t.options.accessibility&&t.initADA(),t.options.autoplay&&(t.paused=!1,t.autoPlay())},r.prototype.initADA=function(){var n=this,i=Math.ceil(n.slideCount/n.options.slidesToShow),o=n.getNavigableIndexes().filter(function(e){return 0<=e&&e<n.slideCount});n.$slides.add(n.$slideTrack.find(".slick-cloned")).attr({"aria-hidden":"true",tabindex:"-1"}).find("a, input, button, select").attr({tabindex:"-1"}),null!==n.$dots&&(n.$slides.not(n.$slideTrack.find(".slick-cloned")).each(function(e){var t=o.indexOf(e);c(this).attr({role:"tabpanel",id:"slick-slide"+n.instanceUid+e,tabindex:-1}),-1!==t&&c(this).attr({"aria-describedby":"slick-slide-control"+n.instanceUid+t})}),n.$dots.attr("role","tablist").find("li").each(function(e){var t=o[e];c(this).attr({role:"presentation"}),c(this).find("button").first().attr({role:"tab",id:"slick-slide-control"+n.instanceUid+e,"aria-controls":"slick-slide"+n.instanceUid+t,"aria-label":e+1+" of "+i,"aria-selected":null,tabindex:"-1"})}).eq(n.currentSlide).find("button").attr({"aria-selected":"true",tabindex:"0"}).end());for(var e=n.currentSlide,t=e+n.options.slidesToShow;e<t;e++)n.$slides.eq(e).attr("tabindex",0);n.activateADA()},r.prototype.initArrowEvents=function(){var e=this;!0===e.options.arrows&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow.off("click.slick").on("click.slick",{message:"previous"},e.changeSlide),e.$nextArrow.off("click.slick").on("click.slick",{message:"next"},e.changeSlide),!0===e.options.accessibility&&(e.$prevArrow.on("keydown.slick",e.keyHandler),e.$nextArrow.on("keydown.slick",e.keyHandler)))},r.prototype.initDotEvents=function(){var e=this;!0===e.options.dots&&(c("li",e.$dots).on("click.slick",{message:"index"},e.changeSlide),!0===e.options.accessibility&&e.$dots.on("keydown.slick",e.keyHandler)),!0===e.options.dots&&!0===e.options.pauseOnDotsHover&&c("li",e.$dots).on("mouseenter.slick",c.proxy(e.interrupt,e,!0)).on("mouseleave.slick",c.proxy(e.interrupt,e,!1))},r.prototype.initSlideEvents=function(){this.options.pauseOnHover&&(this.$list.on("mouseenter.slick",c.proxy(this.interrupt,this,!0)),this.$list.on("mouseleave.slick",c.proxy(this.interrupt,this,!1)))},r.prototype.initializeEvents=function(){var e=this;e.initArrowEvents(),e.initDotEvents(),e.initSlideEvents(),e.$list.on("touchstart.slick mousedown.slick",{action:"start"},e.swipeHandler),e.$list.on("touchmove.slick mousemove.slick",{action:"move"},e.swipeHandler),e.$list.on("touchend.slick mouseup.slick",{action:"end"},e.swipeHandler),e.$list.on("touchcancel.slick mouseleave.slick",{action:"end"},e.swipeHandler),e.$list.on("click.slick",e.clickHandler),c(document).on(e.visibilityChange,c.proxy(e.visibility,e)),!0===e.options.accessibility&&e.$list.on("keydown.slick",e.keyHandler),!0===e.options.focusOnSelect&&c(e.$slideTrack).children().on("click.slick",e.selectHandler),c(window).on("orientationchange.slick.slick-"+e.instanceUid,c.proxy(e.orientationChange,e)),c(window).on("resize.slick.slick-"+e.instanceUid,c.proxy(e.resize,e)),c("[draggable!=true]",e.$slideTrack).on("dragstart",e.preventDefault),c(window).on("load.slick.slick-"+e.instanceUid,e.setPosition),c(e.setPosition)},r.prototype.initUI=function(){!0===this.options.arrows&&this.slideCount>this.options.slidesToShow&&(this.$prevArrow.show(),this.$nextArrow.show()),!0===this.options.dots&&this.slideCount>this.options.slidesToShow&&this.$dots.show()},r.prototype.keyHandler=function(e){e.target.tagName.match("TEXTAREA|INPUT|SELECT")||(37===e.keyCode&&!0===this.options.accessibility?this.changeSlide({data:{message:!0===this.options.rtl?"next":"previous"}}):39===e.keyCode&&!0===this.options.accessibility&&this.changeSlide({data:{message:!0===this.options.rtl?"previous":"next"}}))},r.prototype.lazyLoad=function(){var e,t,n,r=this;function i(e){c("img[data-lazy]",e).each(function(){var e=c(this),t=c(this).attr("data-lazy"),n=c(this).attr("data-srcset"),i=c(this).attr("data-sizes")||r.$slider.attr("data-sizes"),o=document.createElement("img");o.onload=function(){e.animate({opacity:0},100,function(){n&&(e.attr("srcset",n),i&&e.attr("sizes",i)),e.attr("src",t).animate({opacity:1},200,function(){e.removeAttr("data-lazy data-srcset data-sizes").removeClass("slick-loading")}),r.$slider.trigger("lazyLoaded",[r,e,t])})},o.onerror=function(){e.removeAttr("data-lazy").removeClass("slick-loading").addClass("slick-lazyload-error"),r.$slider.trigger("lazyLoadError",[r,e,t])},o.src=t})}if(!0===r.options.centerMode?n=!0===r.options.infinite?(t=r.currentSlide+(r.options.slidesToShow/2+1))+r.options.slidesToShow+2:(t=Math.max(0,r.currentSlide-(r.options.slidesToShow/2+1)),r.options.slidesToShow/2+1+2+r.currentSlide):(t=r.options.infinite?r.options.slidesToShow+r.currentSlide:r.currentSlide,n=Math.ceil(t+r.options.slidesToShow),!0===r.options.fade&&(0<t&&t--,n<=r.slideCount&&n++)),e=r.$slider.find(".slick-slide").slice(t,n),"anticipated"===r.options.lazyLoad)for(var o=t-1,s=n,a=r.$slider.find(".slick-slide"),l=0;l<r.options.slidesToScroll;l++)o<0&&(o=r.slideCount-1),e=(e=e.add(a.eq(o))).add(a.eq(s)),o--,s++;i(e),r.slideCount<=r.options.slidesToShow?i(r.$slider.find(".slick-slide")):r.currentSlide>=r.slideCount-r.options.slidesToShow?i(r.$slider.find(".slick-cloned").slice(0,r.options.slidesToShow)):0===r.currentSlide&&i(r.$slider.find(".slick-cloned").slice(-1*r.options.slidesToShow))},r.prototype.loadSlider=function(){this.setPosition(),this.$slideTrack.css({opacity:1}),this.$slider.removeClass("slick-loading"),this.initUI(),"progressive"===this.options.lazyLoad&&this.progressiveLazyLoad()},r.prototype.next=r.prototype.slickNext=function(){this.changeSlide({data:{message:"next"}})},r.prototype.orientationChange=function(){this.checkResponsive(),this.setPosition()},r.prototype.pause=r.prototype.slickPause=function(){this.autoPlayClear(),this.paused=!0},r.prototype.play=r.prototype.slickPlay=function(){this.autoPlay(),this.options.autoplay=!0,this.paused=!1,this.focussed=!1,this.interrupted=!1},r.prototype.postSlide=function(e){var t=this;t.unslicked||(t.$slider.trigger("afterChange",[t,e]),t.animating=!1,t.slideCount>t.options.slidesToShow&&t.setPosition(),t.swipeLeft=null,t.options.autoplay&&t.autoPlay(),!0===t.options.accessibility&&(t.initADA(),t.options.focusOnChange&&c(t.$slides.get(t.currentSlide)).attr("tabindex",0).focus()))},r.prototype.prev=r.prototype.slickPrev=function(){this.changeSlide({data:{message:"previous"}})},r.prototype.preventDefault=function(e){e.preventDefault()},r.prototype.progressiveLazyLoad=function(e){e=e||1;var t,n,i,o,r=this,s=c("img[data-lazy]",r.$slider);s.length?(t=s.first(),n=t.attr("data-lazy"),i=t.attr("data-srcset"),o=t.attr("data-sizes")||r.$slider.attr("data-sizes"),(s=document.createElement("img")).onload=function(){i&&(t.attr("srcset",i),o&&t.attr("sizes",o)),t.attr("src",n).removeAttr("data-lazy data-srcset data-sizes").removeClass("slick-loading"),!0===r.options.adaptiveHeight&&r.setPosition(),r.$slider.trigger("lazyLoaded",[r,t,n]),r.progressiveLazyLoad()},s.onerror=function(){e<3?setTimeout(function(){r.progressiveLazyLoad(e+1)},500):(t.removeAttr("data-lazy").removeClass("slick-loading").addClass("slick-lazyload-error"),r.$slider.trigger("lazyLoadError",[r,t,n]),r.progressiveLazyLoad())},s.src=n):r.$slider.trigger("allImagesLoaded",[r])},r.prototype.refresh=function(e){var t=this,n=t.slideCount-t.options.slidesToShow;!t.options.infinite&&t.currentSlide>n&&(t.currentSlide=n),t.slideCount<=t.options.slidesToShow&&(t.currentSlide=0),n=t.currentSlide,t.destroy(!0),c.extend(t,t.initials,{currentSlide:n}),t.init(),e||t.changeSlide({data:{message:"index",index:n}},!1)},r.prototype.registerBreakpoints=function(){var e,t,n,i=this,o=i.options.responsive||null;if("array"===c.type(o)&&o.length){for(e in i.respondTo=i.options.respondTo||"window",o)if(n=i.breakpoints.length-1,o.hasOwnProperty(e)){for(t=o[e].breakpoint;0<=n;)i.breakpoints[n]&&i.breakpoints[n]===t&&i.breakpoints.splice(n,1),n--;i.breakpoints.push(t),i.breakpointSettings[t]=o[e].settings}i.breakpoints.sort(function(e,t){return i.options.mobileFirst?e-t:t-e})}},r.prototype.reinit=function(){var e=this;e.$slides=e.$slideTrack.children(e.options.slide).addClass("slick-slide"),e.slideCount=e.$slides.length,e.currentSlide>=e.slideCount&&0!==e.currentSlide&&(e.currentSlide=e.currentSlide-e.options.slidesToScroll),e.slideCount<=e.options.slidesToShow&&(e.currentSlide=0),e.registerBreakpoints(),e.setProps(),e.setupInfinite(),e.buildArrows(),e.updateArrows(),e.initArrowEvents(),e.buildDots(),e.updateDots(),e.initDotEvents(),e.cleanUpSlideEvents(),e.initSlideEvents(),e.checkResponsive(!1,!0),!0===e.options.focusOnSelect&&c(e.$slideTrack).children().on("click.slick",e.selectHandler),e.setSlideClasses("number"==typeof e.currentSlide?e.currentSlide:0),e.setPosition(),e.focusHandler(),e.paused=!e.options.autoplay,e.autoPlay(),e.$slider.trigger("reInit",[e])},r.prototype.resize=function(){var e=this;c(window).width()!==e.windowWidth&&(clearTimeout(e.windowDelay),e.windowDelay=window.setTimeout(function(){e.windowWidth=c(window).width(),e.checkResponsive(),e.unslicked||e.setPosition()},50))},r.prototype.removeSlide=r.prototype.slickRemove=function(e,t,n){var i=this;if(e="boolean"==typeof e?!0===(t=e)?0:i.slideCount-1:!0===t?--e:e,i.slideCount<1||e<0||e>i.slideCount-1)return!1;i.unload(),(!0===n?i.$slideTrack.children():i.$slideTrack.children(this.options.slide).eq(e)).remove(),i.$slides=i.$slideTrack.children(this.options.slide),i.$slideTrack.children(this.options.slide).detach(),i.$slideTrack.append(i.$slides),i.$slidesCache=i.$slides,i.reinit()},r.prototype.setCSS=function(e){var t,n,i=this,o={};!0===i.options.rtl&&(e=-e),t="left"==i.positionProp?Math.ceil(e)+"px":"0px",n="top"==i.positionProp?Math.ceil(e)+"px":"0px",o[i.positionProp]=e,!1===i.transformsEnabled||(!(o={})===i.cssTransitions?o[i.animType]="translate("+t+", "+n+")":o[i.animType]="translate3d("+t+", "+n+", 0px)"),i.$slideTrack.css(o)},r.prototype.setDimensions=function(){var e=this;!1===e.options.vertical?!0===e.options.centerMode&&e.$list.css({padding:"0px "+e.options.centerPadding}):(e.$list.height(e.$slides.first().outerHeight(!0)*e.options.slidesToShow),!0===e.options.centerMode&&e.$list.css({padding:e.options.centerPadding+" 0px"})),e.listWidth=e.$list.width(),e.listHeight=e.$list.height(),!1===e.options.vertical&&!1===e.options.variableWidth?(e.slideWidth=Math.ceil(e.listWidth/e.options.slidesToShow),e.$slideTrack.width(Math.ceil(e.slideWidth*e.$slideTrack.children(".slick-slide").length))):!0===e.options.variableWidth?e.$slideTrack.width(5e3*e.slideCount):(e.slideWidth=Math.ceil(e.listWidth),e.$slideTrack.height(Math.ceil(e.$slides.first().outerHeight(!0)*e.$slideTrack.children(".slick-slide").length)));var t=e.$slides.first().outerWidth(!0)-e.$slides.first().width();!1===e.options.variableWidth&&e.$slideTrack.children(".slick-slide").width(e.slideWidth-t)},r.prototype.setFade=function(){var n,i=this;i.$slides.each(function(e,t){n=i.slideWidth*e*-1,!0===i.options.rtl?c(t).css({position:"relative",right:n,top:0,zIndex:i.options.zIndex-2,opacity:0}):c(t).css({position:"relative",left:n,top:0,zIndex:i.options.zIndex-2,opacity:0})}),i.$slides.eq(i.currentSlide).css({zIndex:i.options.zIndex-1,opacity:1})},r.prototype.setHeight=function(){var e;1===this.options.slidesToShow&&!0===this.options.adaptiveHeight&&!1===this.options.vertical&&(e=this.$slides.eq(this.currentSlide).outerHeight(!0),this.$list.css("height",e))},r.prototype.setOption=r.prototype.slickSetOption=function(){var e,t,n,i,o,r=this,s=!1;if("object"===c.type(arguments[0])?(n=arguments[0],s=arguments[1],o="multiple"):"string"===c.type(arguments[0])&&(n=arguments[0],i=arguments[1],s=arguments[2],"responsive"===arguments[0]&&"array"===c.type(arguments[1])?o="responsive":void 0!==arguments[1]&&(o="single")),"single"===o)r.options[n]=i;else if("multiple"===o)c.each(n,function(e,t){r.options[e]=t});else if("responsive"===o)for(t in i)if("array"!==c.type(r.options.responsive))r.options.responsive=[i[t]];else{for(e=r.options.responsive.length-1;0<=e;)r.options.responsive[e].breakpoint===i[t].breakpoint&&r.options.responsive.splice(e,1),e--;r.options.responsive.push(i[t])}s&&(r.unload(),r.reinit())},r.prototype.setPosition=function(){this.setDimensions(),this.setHeight(),!1===this.options.fade?this.setCSS(this.getLeft(this.currentSlide)):this.setFade(),this.$slider.trigger("setPosition",[this])},r.prototype.setProps=function(){var e=this,t=document.body.style;e.positionProp=!0===e.options.vertical?"top":"left","top"===e.positionProp?e.$slider.addClass("slick-vertical"):e.$slider.removeClass("slick-vertical"),void 0===t.WebkitTransition&&void 0===t.MozTransition&&void 0===t.msTransition||!0===e.options.useCSS&&(e.cssTransitions=!0),e.options.fade&&("number"==typeof e.options.zIndex?e.options.zIndex<3&&(e.options.zIndex=3):e.options.zIndex=e.defaults.zIndex),void 0!==t.OTransform&&(e.animType="OTransform",e.transformType="-o-transform",e.transitionType="OTransition",void 0===t.perspectiveProperty&&void 0===t.webkitPerspective&&(e.animType=!1)),void 0!==t.MozTransform&&(e.animType="MozTransform",e.transformType="-moz-transform",e.transitionType="MozTransition",void 0===t.perspectiveProperty&&void 0===t.MozPerspective&&(e.animType=!1)),void 0!==t.webkitTransform&&(e.animType="webkitTransform",e.transformType="-webkit-transform",e.transitionType="webkitTransition",void 0===t.perspectiveProperty&&void 0===t.webkitPerspective&&(e.animType=!1)),void 0!==t.msTransform&&(e.animType="msTransform",e.transformType="-ms-transform",e.transitionType="msTransition",void 0===t.msTransform&&(e.animType=!1)),void 0!==t.transform&&!1!==e.animType&&(e.animType="transform",e.transformType="transform",e.transitionType="transition"),e.transformsEnabled=e.options.useTransform&&null!==e.animType&&!1!==e.animType},r.prototype.setSlideClasses=function(e){var t,n,i,o=this,r=o.$slider.find(".slick-slide").removeClass("slick-active slick-center slick-current").attr("aria-hidden","true");o.$slides.eq(e).addClass("slick-current"),!0===o.options.centerMode?(n=o.options.slidesToShow%2==0?1:0,i=Math.floor(o.options.slidesToShow/2),!0===o.options.infinite&&(i<=e&&e<=o.slideCount-1-i?o.$slides.slice(e-i+n,e+i+1).addClass("slick-active").attr("aria-hidden","false"):(t=o.options.slidesToShow+e,r.slice(t-i+1+n,t+i+2).addClass("slick-active").attr("aria-hidden","false")),0===e?r.eq(r.length-1-o.options.slidesToShow).addClass("slick-center"):e===o.slideCount-1&&r.eq(o.options.slidesToShow).addClass("slick-center")),o.$slides.eq(e).addClass("slick-center")):0<=e&&e<=o.slideCount-o.options.slidesToShow?o.$slides.slice(e,e+o.options.slidesToShow).addClass("slick-active").attr("aria-hidden","false"):r.length<=o.options.slidesToShow?r.addClass("slick-active").attr("aria-hidden","false"):(i=o.slideCount%o.options.slidesToShow,t=!0===o.options.infinite?o.options.slidesToShow+e:e,(o.options.slidesToShow==o.options.slidesToScroll&&o.slideCount-e<o.options.slidesToShow?r.slice(t-(o.options.slidesToShow-i),t+i):r.slice(t,t+o.options.slidesToShow)).addClass("slick-active").attr("aria-hidden","false")),"ondemand"!==o.options.lazyLoad&&"anticipated"!==o.options.lazyLoad||o.lazyLoad()},r.prototype.setupInfinite=function(){var e,t,n,i=this;if(!0===i.options.fade&&(i.options.centerMode=!1),!0===i.options.infinite&&!1===i.options.fade&&(t=null,i.slideCount>i.options.slidesToShow)){for(n=!0===i.options.centerMode?i.options.slidesToShow+1:i.options.slidesToShow,e=i.slideCount;e>i.slideCount-n;--e)c(i.$slides[t=e-1]).clone(!0).attr("id","").attr("data-slick-index",t-i.slideCount).prependTo(i.$slideTrack).addClass("slick-cloned");for(e=0;e<n+i.slideCount;e+=1)t=e,c(i.$slides[t]).clone(!0).attr("id","").attr("data-slick-index",t+i.slideCount).appendTo(i.$slideTrack).addClass("slick-cloned");i.$slideTrack.find(".slick-cloned").find("[id]").each(function(){c(this).attr("id","")})}},r.prototype.interrupt=function(e){e||this.autoPlay(),this.interrupted=e},r.prototype.selectHandler=function(e){e=c(e.target).is(".slick-slide")?c(e.target):c(e.target).parents(".slick-slide"),e=parseInt(e.attr("data-slick-index"))||0;this.slideCount<=this.options.slidesToShow?this.slideHandler(e,!1,!0):this.slideHandler(e)},r.prototype.slideHandler=function(e,t,n){var i,o,r,s,a=this;if(t=t||!1,!(!0===a.animating&&!0===a.options.waitForAnimate||!0===a.options.fade&&a.currentSlide===e))if(!1===t&&a.asNavFor(e),i=e,r=a.getLeft(i),t=a.getLeft(a.currentSlide),a.currentLeft=null===a.swipeLeft?t:a.swipeLeft,!1===a.options.infinite&&!1===a.options.centerMode&&(e<0||e>a.getDotCount()*a.options.slidesToScroll))!1===a.options.fade&&(i=a.currentSlide,!0!==n?a.animateSlide(t,function(){a.postSlide(i)}):a.postSlide(i));else if(!1===a.options.infinite&&!0===a.options.centerMode&&(e<0||e>a.slideCount-a.options.slidesToScroll))!1===a.options.fade&&(i=a.currentSlide,!0!==n?a.animateSlide(t,function(){a.postSlide(i)}):a.postSlide(i));else{if(a.options.autoplay&&clearInterval(a.autoPlayTimer),o=i<0?a.slideCount%a.options.slidesToScroll!=0?a.slideCount-a.slideCount%a.options.slidesToScroll:a.slideCount+i:i>=a.slideCount?a.slideCount%a.options.slidesToScroll!=0?0:i-a.slideCount:i,a.animating=!0,a.$slider.trigger("beforeChange",[a,a.currentSlide,o]),t=a.currentSlide,a.currentSlide=o,a.setSlideClasses(a.currentSlide),a.options.asNavFor&&(s=(s=a.getNavTarget()).slick("getSlick")).slideCount<=s.options.slidesToShow&&s.setSlideClasses(a.currentSlide),a.updateDots(),a.updateArrows(),!0===a.options.fade)return!0!==n?(a.fadeSlideOut(t),a.fadeSlide(o,function(){a.postSlide(o)})):a.postSlide(o),void a.animateHeight();!0!==n?a.animateSlide(r,function(){a.postSlide(o)}):a.postSlide(o)}},r.prototype.startLoad=function(){var e=this;!0===e.options.arrows&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow.hide(),e.$nextArrow.hide()),!0===e.options.dots&&e.slideCount>e.options.slidesToShow&&e.$dots.hide(),e.$slider.addClass("slick-loading")},r.prototype.swipeDirection=function(){var e=this.touchObject.startX-this.touchObject.curX,t=this.touchObject.startY-this.touchObject.curY,e=Math.atan2(t,e),e=Math.round(180*e/Math.PI);return(e=e<0?360-Math.abs(e):e)<=45&&0<=e||e<=360&&315<=e?!1===this.options.rtl?"left":"right":135<=e&&e<=225?!1===this.options.rtl?"right":"left":!0===this.options.verticalSwiping?35<=e&&e<=135?"down":"up":"vertical"},r.prototype.swipeEnd=function(e){var t,n,i=this;if(i.dragging=!1,i.swiping=!1,i.scrolling)return i.scrolling=!1;if(i.interrupted=!1,i.shouldClick=!(10<i.touchObject.swipeLength),void 0===i.touchObject.curX)return!1;if(!0===i.touchObject.edgeHit&&i.$slider.trigger("edge",[i,i.swipeDirection()]),i.touchObject.swipeLength>=i.touchObject.minSwipe){switch(n=i.swipeDirection()){case"left":case"down":t=i.options.swipeToSlide?i.checkNavigable(i.currentSlide+i.getSlideCount()):i.currentSlide+i.getSlideCount(),i.currentDirection=0;break;case"right":case"up":t=i.options.swipeToSlide?i.checkNavigable(i.currentSlide-i.getSlideCount()):i.currentSlide-i.getSlideCount(),i.currentDirection=1}"vertical"!=n&&(i.slideHandler(t),i.touchObject={},i.$slider.trigger("swipe",[i,n]))}else i.touchObject.startX!==i.touchObject.curX&&(i.slideHandler(i.currentSlide),i.touchObject={})},r.prototype.swipeHandler=function(e){var t=this;if(!(!1===t.options.swipe||"ontouchend"in document&&!1===t.options.swipe||!1===t.options.draggable&&-1!==e.type.indexOf("mouse")))switch(t.touchObject.fingerCount=e.originalEvent&&void 0!==e.originalEvent.touches?e.originalEvent.touches.length:1,t.touchObject.minSwipe=t.listWidth/t.options.touchThreshold,!0===t.options.verticalSwiping&&(t.touchObject.minSwipe=t.listHeight/t.options.touchThreshold),e.data.action){case"start":t.swipeStart(e);break;case"move":t.swipeMove(e);break;case"end":t.swipeEnd(e)}},r.prototype.swipeMove=function(e){var t,n,i=this,o=void 0!==e.originalEvent?e.originalEvent.touches:null;return!(!i.dragging||i.scrolling||o&&1!==o.length)&&(t=i.getLeft(i.currentSlide),i.touchObject.curX=void 0!==o?o[0].pageX:e.clientX,i.touchObject.curY=void 0!==o?o[0].pageY:e.clientY,i.touchObject.swipeLength=Math.round(Math.sqrt(Math.pow(i.touchObject.curX-i.touchObject.startX,2))),n=Math.round(Math.sqrt(Math.pow(i.touchObject.curY-i.touchObject.startY,2))),!i.options.verticalSwiping&&!i.swiping&&4<n?!(i.scrolling=!0):(!0===i.options.verticalSwiping&&(i.touchObject.swipeLength=n),o=i.swipeDirection(),void 0!==e.originalEvent&&4<i.touchObject.swipeLength&&(i.swiping=!0,e.preventDefault()),n=(!1===i.options.rtl?1:-1)*(i.touchObject.curX>i.touchObject.startX?1:-1),!0===i.options.verticalSwiping&&(n=i.touchObject.curY>i.touchObject.startY?1:-1),e=i.touchObject.swipeLength,(i.touchObject.edgeHit=!1)===i.options.infinite&&(0===i.currentSlide&&"right"===o||i.currentSlide>=i.getDotCount()&&"left"===o)&&(e=i.touchObject.swipeLength*i.options.edgeFriction,i.touchObject.edgeHit=!0),!1===i.options.vertical?i.swipeLeft=t+e*n:i.swipeLeft=t+e*(i.$list.height()/i.listWidth)*n,!0===i.options.verticalSwiping&&(i.swipeLeft=t+e*n),!0!==i.options.fade&&!1!==i.options.touchMove&&(!0===i.animating?(i.swipeLeft=null,!1):void i.setCSS(i.swipeLeft))))},r.prototype.swipeStart=function(e){var t,n=this;if(n.interrupted=!0,1!==n.touchObject.fingerCount||n.slideCount<=n.options.slidesToShow)return!(n.touchObject={});void 0!==e.originalEvent&&void 0!==e.originalEvent.touches&&(t=e.originalEvent.touches[0]),n.touchObject.startX=n.touchObject.curX=void 0!==t?t.pageX:e.clientX,n.touchObject.startY=n.touchObject.curY=void 0!==t?t.pageY:e.clientY,n.dragging=!0},r.prototype.unfilterSlides=r.prototype.slickUnfilter=function(){null!==this.$slidesCache&&(this.unload(),this.$slideTrack.children(this.options.slide).detach(),this.$slidesCache.appendTo(this.$slideTrack),this.reinit())},r.prototype.unload=function(){var e=this;c(".slick-cloned",e.$slider).remove(),e.$dots&&e.$dots.remove(),e.$prevArrow&&e.htmlExpr.test(e.options.prevArrow)&&e.$prevArrow.remove(),e.$nextArrow&&e.htmlExpr.test(e.options.nextArrow)&&e.$nextArrow.remove(),e.$slides.removeClass("slick-slide slick-active slick-visible slick-current").attr("aria-hidden","true").css("width","")},r.prototype.unslick=function(e){this.$slider.trigger("unslick",[this,e]),this.destroy()},r.prototype.updateArrows=function(){var e=this;Math.floor(e.options.slidesToShow/2);!0===e.options.arrows&&e.slideCount>e.options.slidesToShow&&!e.options.infinite&&(e.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false"),e.$nextArrow.removeClass("slick-disabled").attr("aria-disabled","false"),0===e.currentSlide?(e.$prevArrow.addClass("slick-disabled").attr("aria-disabled","true"),e.$nextArrow.removeClass("slick-disabled").attr("aria-disabled","false")):(e.currentSlide>=e.slideCount-e.options.slidesToShow&&!1===e.options.centerMode||e.currentSlide>=e.slideCount-1&&!0===e.options.centerMode)&&(e.$nextArrow.addClass("slick-disabled").attr("aria-disabled","true"),e.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false")))},r.prototype.updateDots=function(){null!==this.$dots&&(this.$dots.find("li").removeClass("slick-active").end(),this.$dots.find("li").eq(Math.floor(this.currentSlide/this.options.slidesToScroll)).addClass("slick-active"))},r.prototype.visibility=function(){this.options.autoplay&&(document[this.hidden]?this.interrupted=!0:this.interrupted=!1)},c.fn.slick=function(){for(var e,t=arguments[0],n=Array.prototype.slice.call(arguments,1),i=this.length,o=0;o<i;o++)if("object"==typeof t||void 0===t?this[o].slick=new r(this[o],t):e=this[o].slick[t].apply(this[o].slick,n),void 0!==e)return e;return this}}),function(p){p.fn.ellipsis=function(h){return h=p.extend({row:1,onlyFullWords:!1,char:"...",callback:function(){},position:"tail"},h),this.each(function(){var e=p(this),t=u=e.text(),n=t.length,i=e.height();e.text("a");var o=parseFloat(e.css("lineHeight"),10),r=e.height(),s=(r<o?o-r:0)*(h.row-1)+r*h.row;if(i<=s)return e.text(u),e.css("height",34),void h.callback.call(this);var a=1,l=0,c=u.length;if("tail"===h.position){for(;a<c;)l=Math.ceil((a+c)/2),e.text(u.slice(0,l)+h.char),e.height()<=s?a=l:c=l-1;u=u.slice(0,a),h.onlyFullWords&&(u=u.replace(/[\u00AD\w\uac00-\ud7af]+$/,"")),u+=h.char}else if("middle"===h.position){for(var d=0;a<c;)l=Math.ceil((a+c)/2),d=Math.max(n-l,0),e.text(t.slice(0,Math.floor((n-d)/2))+h.char+t.slice(Math.floor((n+d)/2),n)),e.height()<=s?a=l:c=l-1;var d=Math.max(n-a,0),r=t.slice(0,Math.floor((n-d)/2)),i=t.slice(Math.floor((n+d)/2),n),u=(r=h.onlyFullWords?r.replace(/[\u00AD\w\uac00-\ud7af]+$/,""):r)+h.char+i}e.css("height",34),e.text(u),h.callback.call(this)}),this}}(jQuery),function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.JSONEditor=t():e.JSONEditor=t()}(this,function(){return i=[function(e,t,n){"use strict";function l(e,t,n){if(!(this instanceof l))throw new Error('JSONEditor constructor called without "new".');var i=c.getInternetExplorerVersion();if(-1!=i&&i<9)throw new Error("Unsupported browser, IE9 or newer required. Please install the newest version of your browser.");t&&(t.error&&(console.warn('Option "error" has been renamed to "onError"'),t.onError=t.error,delete t.error),t.change&&(console.warn('Option "change" has been renamed to "onChange"'),t.onChange=t.change,delete t.change),t.editable&&(console.warn('Option "editable" has been renamed to "onEditable"'),t.onEditable=t.editable,delete t.editable),t.onChangeJSON&&("text"===t.mode||"code"===t.mode||t.modes&&(-1!==t.modes.indexOf("text")||-1!==t.modes.indexOf("code")))&&console.warn('Option "onChangeJSON" is not applicable to modes "text" and "code". Use "onChangeText" or "onChange" instead.'),t&&Object.keys(t).forEach(function(e){-1===l.VALID_OPTIONS.indexOf(e)&&console.warn('Unknown option "'+e+'". This option will be ignored')})),arguments.length&&this._create(e,t,n)}var o;try{o=n(!function(){var e=new Error('Cannot find module "ajv"');throw e.code="MODULE_NOT_FOUND",e}())}catch(e){}var i=n(1),r=n(21),c=n(6);l.modes={},l.prototype.DEBOUNCE_INTERVAL=150,l.VALID_OPTIONS=["ajv","schema","schemaRefs","templates","ace","theme","autocomplete","onChange","onChangeJSON","onChangeText","onEditable","onError","onModeChange","onSelectionChange","onTextSelectionChange","escapeUnicode","history","search","mode","modes","name","indentation","sortObjectKeys","navigationBar","statusBar","languages","language"],l.prototype._create=function(e,t,n){this.container=e,this.options=t||{},this.json=n||{};n=this.options.mode||this.options.modes&&this.options.modes[0]||"tree";this.setMode(n)},l.prototype.destroy=function(){},l.prototype.set=function(e){this.json=e},l.prototype.get=function(){return this.json},l.prototype.setText=function(e){this.json=c.parse(e)},l.prototype.getText=function(){return JSON.stringify(this.json)},l.prototype.setName=function(e){this.options||(this.options={}),this.options.name=e},l.prototype.getName=function(){return this.options&&this.options.name},l.prototype.setMode=function(e){if(e!==this.options.mode||!this.create){var t=this.container,n=c.extend({},this.options),i=n.mode;n.mode=e;var o=l.modes[e];if(!o)throw new Error('Unknown mode "'+n.mode+'"');try{var r="text"==o.data,s=this.getName(),a=this[r?"getText":"get"]();if(this.destroy(),c.clear(this),c.extend(this,o.mixin),this.create(t,n),this.setName(s),this[r?"setText":"set"](a),"function"==typeof o.load)try{o.load.call(this)}catch(e){console.error(e)}if("function"==typeof n.onModeChange&&e!==i)try{n.onModeChange(e,i)}catch(e){console.error(e)}}catch(e){this._onError(e)}}},l.prototype.getMode=function(){return this.options.mode},l.prototype._onError=function(e){if(!this.options||"function"!=typeof this.options.onError)throw e;this.options.onError(e)},l.prototype.setSchema=function(e,t){if(e){var n;try{n=this.options.ajv||o({allErrors:!0,verbose:!0})}catch(e){console.warn("Failed to create an instance of Ajv, JSON Schema validation is not available. Please use a JSONEditor bundle including Ajv, or pass an instance of Ajv as via the configuration option `ajv`.")}if(n){if(t){for(var i in t)n.removeSchema(i),t[i]&&n.addSchema(t[i],i);this.options.schemaRefs=t}this.validateSchema=n.compile(e),this.options.schema=e,this.validate()}this.refresh()}else this.validateSchema=null,this.options.schema=null,this.options.schemaRefs=null,this.validate(),this.refresh()},l.prototype.validate=function(){},l.prototype.refresh=function(){},(l.registerMode=function(e){var t;if(c.isArray(e))for(o=0;o<e.length;o++)l.registerMode(e[o]);else{if(!("mode"in e))throw new Error('Property "mode" missing');if(!("mixin"in e))throw new Error('Property "mixin" missing');if(!("data"in e))throw new Error('Property "data" missing');var n=e.mode;if(n in l.modes)throw new Error('Mode "'+n+'" already registered');if("function"!=typeof e.mixin.create)throw new Error('Required function "create" missing on mixin');for(var i=["setMode","registerMode","modes"],o=0;o<i.length;o++)if((t=i[o])in e.mixin)throw new Error('Reserved property "'+t+'" not allowed in mixin');l.modes[n]=e}})(i),l.registerMode(r),e.exports=l},function(e,t,n){"use strict";var i=n(2),o=n(3),s=n(4),r=n(5),a=n(9),c=n(10),l=n(19),d=n(6),u=n(20),h=n(15),p=n(17),f=n(8).translate,m=n(8).setLanguages,g=n(8).setLanguage,v=document.body,n={create:function(e,t){if(!e)throw new Error("No container element provided.");this.container=e,this.dom={},this.highlighter=new i,this.selection=void 0,this.multiselection={nodes:[]},this.validateSchema=null,this.errorNodes=[],this.node=null,this.focusTarget=null,this._setOptions(t),t.autocomplete&&(this.autocomplete=new u(t.autocomplete)),this.options.history&&"view"!==this.options.mode&&(this.history=new o(this)),this._createFrame(),this._createTable()},destroy:function(){this.frame&&this.container&&this.frame.parentNode==this.container&&(this.container.removeChild(this.frame),this.frame=null),this.container=null,this.dom=null,this.clear(),this.node=null,this.focusTarget=null,this.selection=null,this.multiselection=null,this.errorNodes=null,this.validateSchema=null,this._debouncedValidate=null,this.history&&(this.history.destroy(),this.history=null),this.searchBox&&(this.searchBox.destroy(),this.searchBox=null),this.modeSwitcher&&(this.modeSwitcher.destroy(),this.modeSwitcher=null)},_setOptions:function(e){if(this.options={search:!0,history:!0,mode:"tree",name:void 0,schema:null,schemaRefs:null,autocomplete:null,navigationBar:!0,onSelectionChange:null},e)for(var t in e)e.hasOwnProperty(t)&&(this.options[t]=e[t]);this.setSchema(this.options.schema,this.options.schemaRefs),this._debouncedValidate=d.debounce(this.validate.bind(this),this.DEBOUNCE_INTERVAL),e.onSelectionChange&&this.onSelectionChange(e.onSelectionChange),m(this.options.languages),g(this.options.language)},set:function(e){e instanceof Function||void 0===e?this.clear():(this.content.removeChild(this.table),e={field:this.options.name,value:e},e=new c(this,e),this._setRoot(e),this.validate(),this.node.expand(!1),this.content.appendChild(this.table)),this.history&&this.history.clear(),this.searchBox&&this.searchBox.clear()},update:function(e){var t,n;this.node.deepEqual(e)||(t=this.getSelection(),this.onChangeDisabled=!0,this.node.update(e),this.onChangeDisabled=!1,this.validate(),this.searchBox&&!this.searchBox.isEmpty()&&this.searchBox.forceSearch(),t&&t.start&&t.end?(n=this.node.findNodeByPath(t.start.path),e=this.node.findNodeByPath(t.end.path),n&&e?this.setSelection(t.start,t.end):this.setSelection({},{})):this.setSelection({},{}))},get:function(){var e;return!this.focusTarget||(e=c.getNodeFromTarget(this.focusTarget))&&e.blur(),this.node?this.node.getValue():void 0},getText:function(){return JSON.stringify(this.get())},setText:function(t){try{this.set(d.parse(t))}catch(e){t=d.sanitize(t);this.set(d.parse(t))}},updateText:function(t){try{this.update(d.parse(t))}catch(e){t=d.sanitize(t);this.update(d.parse(t))}},setName:function(e){this.options.name=e,this.node&&this.node.updateField(this.options.name)},getName:function(){return this.options.name},focus:function(){var e=this.scrollableContent.querySelector("[contenteditable=true]");e?e.focus():this.node.dom.expand?this.node.dom.expand.focus():this.node.dom.menu?this.node.dom.menu.focus():(e=this.frame.querySelector("button"))&&e.focus()},clear:function(){this.node&&(this.node.hide(),delete this.node),this.treePath&&this.treePath.reset()},_setRoot:function(e){this.clear(),this.node=e,this.tbody.appendChild(e.getDom())},search:function(e){var t;return this.node?(this.content.removeChild(this.table),t=this.node.search(e),this.content.appendChild(this.table)):t=[],t},expandAll:function(){this.node&&(this.content.removeChild(this.table),this.node.expand(),this.content.appendChild(this.table))},collapseAll:function(){this.node&&(this.content.removeChild(this.table),this.node.collapse(),this.content.appendChild(this.table))},_onAction:function(e,t){this.history&&this.history.add(e,t),this._onChange()},_onChange:function(){if(!this.onChangeDisabled){if(this._debouncedValidate(),this.options.onChange)try{this.options.onChange()}catch(e){console.error("Error in onChange callback: ",e)}if(this.options.onChangeJSON)try{this.options.onChangeJSON(this.get())}catch(e){console.error("Error in onChangeJSON callback: ",e)}if(this.options.onChangeText)try{this.options.onChangeText(this.getText())}catch(e){console.error("Error in onChangeText callback: ",e)}}},validate:function(){this.errorNodes&&this.errorNodes.forEach(function(e){e.setError(null)});var e,t,n=this.node;n&&(e=n.validate(),t=[],this.validateSchema&&(this.validateSchema(n.getValue())||(t=this.validateSchema.errors.map(function(e){return d.improveSchemaError(e)}).map(function(e){return{node:n.findNode(e.dataPath),error:e}}).filter(function(e){return null!=e.node}))),t=(e=e.concat(t)).reduce(function(e,t){return t.node.findParents().filter(function(t){return!e.some(function(e){return e[0]===t})}).map(function(e){return[e,t.node]}).concat(e)},[]),this.errorNodes=t.map(function(e){return{node:e[0],child:e[1],error:{message:"object"===e[0].type?"Contains invalid properties":"Contains invalid items"}}}).concat(e).map(function(e){return e.node.setError(e.error,e.child),e.node}))},refresh:function(){this.node&&this.node.updateDom({recurse:!0})},startAutoScroll:function(e){var t=this,n=this.scrollableContent,i=d.getAbsoluteTop(n),o=n.clientHeight,r=i+o;e<i+24&&0<n.scrollTop?this.autoScrollStep=(i+24-e)/3:r-24<e&&o+n.scrollTop<n.scrollHeight?this.autoScrollStep=(r-24-e)/3:this.autoScrollStep=void 0,this.autoScrollStep?this.autoScrollTimer||(this.autoScrollTimer=setInterval(function(){t.autoScrollStep?n.scrollTop-=t.autoScrollStep:t.stopAutoScroll()},50)):this.stopAutoScroll()},stopAutoScroll:function(){this.autoScrollTimer&&(clearTimeout(this.autoScrollTimer),delete this.autoScrollTimer),this.autoScrollStep&&delete this.autoScrollStep},setDomSelection:function(e){var t,n,i;e&&("scrollTop"in e&&this.scrollableContent&&(this.scrollableContent.scrollTop=e.scrollTop),e.paths?(t=this,i=e.paths.map(function(e){return t.node.findNodeByInternalPath(e)}),this.select(i)):(i=(n=e.path?this.node.findNodeByInternalPath(e.path):null)&&e.domName?n.dom[e.domName]:null,e.range&&i?(i=Object.assign({},e.range,{container:i}),d.setSelectionOffset(i)):n&&n.focus()))},getDomSelection:function(){var t=c.getNodeFromTarget(this.focusTarget),n=this.focusTarget,e=t?Object.keys(t.dom).find(function(e){return t.dom[e]===n}):null,i=d.getSelectionOffset();return(i=(i=i&&"DIV"!==i.container.nodeName?null:i)&&i.container!==n?null:i)&&delete i.container,{path:t?t.getInternalPath():null,domName:e,range:i,paths:0<this.multiselection.length?this.multiselection.nodes.map(function(e){return e.getInternalPath()}):null,scrollTop:this.scrollableContent?this.scrollableContent.scrollTop:0}},scrollTo:function(e,t){var n,i,o,r,s,a=this.scrollableContent;a?((n=this).animateTimeout&&(clearTimeout(n.animateTimeout),delete n.animateTimeout),n.animateCallback&&(n.animateCallback(!1),delete n.animateCallback),i=a.clientHeight,o=a.scrollHeight-i,r=Math.min(Math.max(e-i/4,0),o),(s=function(){var e=a.scrollTop,e=r-e;3<Math.abs(e)?(a.scrollTop+=e/3,n.animateCallback=t,n.animateTimeout=setTimeout(s,50)):(t&&t(!0),a.scrollTop=r,delete n.animateTimeout,delete n.animateCallback)})()):t&&t(!1)},_createFrame:function(){function n(e){t._onEvent&&t._onEvent(e)}this.frame=document.createElement("div"),this.frame.className="jsoneditor jsoneditor-mode-"+this.options.mode,this.container.appendChild(this.frame);var t=this;this.frame.onclick=function(e){var t=e.target;n(e),"BUTTON"==t.nodeName&&e.preventDefault()},this.frame.oninput=n,this.frame.onchange=n,this.frame.onkeydown=n,this.frame.onkeyup=n,this.frame.oncut=n,this.frame.onpaste=n,this.frame.onmousedown=n,this.frame.onmouseup=n,this.frame.onmouseover=n,this.frame.onmouseout=n,d.addEventListener(this.frame,"focus",n,!0),d.addEventListener(this.frame,"blur",n,!0),this.frame.onfocusin=n,this.frame.onfocusout=n,this.menu=document.createElement("div"),this.menu.className="jsoneditor-menu",this.frame.appendChild(this.menu);var e=document.createElement("button");e.type="button",e.className="jsoneditor-expand-all",e.title=f("expandAll"),e.onclick=function(){t.expandAll()},this.menu.appendChild(e);e=document.createElement("button");e.type="button",e.title=f("collapseAll"),e.className="jsoneditor-collapse-all",e.onclick=function(){t.collapseAll()},this.menu.appendChild(e);e=document.createElement("button");e.type="button",e.className="jsoneditor-sort",e.title=f("sortTitleShort"),e.onclick=function(){var e=t.options.modalAnchor||v;h(t.node,e)},this.menu.appendChild(e);var i,o,r,e=document.createElement("button");e.type="button",e.title=f("transformTitleShort"),e.className="jsoneditor-transform",e.onclick=function(){var e=t.options.modalAnchor||v;p(t.node,e)},this.menu.appendChild(e),this.history&&((i=document.createElement("button")).type="button",i.className="jsoneditor-undo jsoneditor-separator",i.title=f("undo"),i.onclick=function(){t._onUndo()},this.menu.appendChild(i),this.dom.undo=i,(o=document.createElement("button")).type="button",o.className="jsoneditor-redo",o.title=f("redo"),o.onclick=function(){t._onRedo()},this.menu.appendChild(o),this.dom.redo=o,this.history.onChange=function(){i.disabled=!t.history.canUndo(),o.disabled=!t.history.canRedo()},this.history.onChange()),this.options&&this.options.modes&&this.options.modes.length&&((r=this).modeSwitcher=new l(this.menu,this.options.modes,this.options.mode,function(e){r.modeSwitcher.destroy(),r.setMode(e),r.modeSwitcher.focus()})),this.options.search&&(this.searchBox=new s(this,this.menu)),this.options.navigationBar&&(this.navBar=document.createElement("div"),this.navBar.className="jsoneditor-navigation-bar nav-bar-empty",this.frame.appendChild(this.navBar),this.treePath=new a(this.navBar),this.treePath.onSectionSelected(this._onTreePathSectionSelected.bind(this)),this.treePath.onContextMenuItemSelected(this._onTreePathMenuItemSelected.bind(this)))},_onUndo:function(){this.history&&(this.history.undo(),this._onChange())},_onRedo:function(){this.history&&(this.history.redo(),this._onChange())},_onEvent:function(e){"keydown"===e.type&&this._onKeyDown(e),"focus"===e.type&&(this.focusTarget=e.target),"mousedown"===e.type&&this._startDragDistance(e),"mousemove"!==e.type&&"mouseup"!==e.type&&"click"!==e.type||this._updateDragDistance(e);var t,n=c.getNodeFromTarget(e.target);if(n&&this.options&&this.options.navigationBar&&n&&("keydown"===e.type||"mousedown"===e.type)&&(t=this,setTimeout(function(){t._updateTreePath(n.getNodePath())})),n&&n.selected){if("click"===e.type){if(e.target===n.dom.menu)return void this.showContextMenu(e.target);e.hasMoved||this.deselect()}"mousedown"===e.type&&c.onDragStart(this.multiselection.nodes,e)}else"mousedown"===e.type&&(this.deselect(),n&&e.target===n.dom.drag?c.onDragStart(n,e):n&&(e.target===n.dom.field||e.target===n.dom.value||e.target===n.dom.select)||this._onMultiSelectStart(e));n&&n.onEvent(e)},_updateTreePath:function(e){function n(e){return e.parent?"array"===e.parent.type?e.index:e.field:e.type}var i;e&&e.length?(d.removeClassName(this.navBar,"nav-bar-empty"),i=[],e.forEach(function(e){var t={name:n(e),node:e,children:[]};e.childs&&e.childs.length&&e.childs.forEach(function(e){t.children.push({name:n(e),node:e})}),i.push(t)}),this.treePath.setPath(i)):d.addClassName(this.navBar,"nav-bar-empty")},_onTreePathSectionSelected:function(e){e&&e.node&&(e.node.expandTo(),e.node.focus())},_onTreePathMenuItemSelected:function(e,t){e&&e.children.length&&((e=e.children.find(function(e){return e.name===t}))&&e.node&&(this._updateTreePath(e.node.getNodePath()),e.node.expandTo(),e.node.focus()))},_startDragDistance:function(e){this.dragDistanceEvent={initialTarget:e.target,initialPageX:e.pageX,initialPageY:e.pageY,dragDistance:0,hasMoved:!1}},_updateDragDistance:function(e){this.dragDistanceEvent||this._startDragDistance(e);var t=e.pageX-this.dragDistanceEvent.initialPageX,n=e.pageY-this.dragDistanceEvent.initialPageY;return this.dragDistanceEvent.dragDistance=Math.sqrt(t*t+n*n),this.dragDistanceEvent.hasMoved=this.dragDistanceEvent.hasMoved||10<this.dragDistanceEvent.dragDistance,e.dragDistance=this.dragDistanceEvent.dragDistance,e.hasMoved=this.dragDistanceEvent.hasMoved,e.dragDistance},_onMultiSelectStart:function(e){var t,n=c.getNodeFromTarget(e.target);"tree"===this.options.mode&&void 0===this.options.onEditable&&(this.multiselection={start:n||null,end:null,nodes:[]},this._startDragDistance(e),(t=this).mousemove||(this.mousemove=d.addEventListener(window,"mousemove",function(e){t._onMultiSelect(e)})),this.mouseup||(this.mouseup=d.addEventListener(window,"mouseup",function(e){t._onMultiSelectEnd(e)})))},_onMultiSelect:function(e){var t;e.preventDefault(),this._updateDragDistance(e),e.hasMoved&&((t=c.getNodeFromTarget(e.target))&&(null==this.multiselection.start&&(this.multiselection.start=t),this.multiselection.end=t),this.deselect(),e=this.multiselection.start,t=this.multiselection.end||this.multiselection.start,e&&t&&(this.multiselection.nodes=this._findTopLevelNodes(e,t),this.multiselection.nodes&&this.multiselection.nodes.length&&(t=this.multiselection.nodes[0],this.multiselection.start===t||this.multiselection.start.isDescendantOf(t)?this.multiselection.direction="down":this.multiselection.direction="up"),this.select(this.multiselection.nodes)))},_onMultiSelectEnd:function(e){this.multiselection.nodes[0]&&this.multiselection.nodes[0].dom.menu.focus(),this.multiselection.start=null,this.multiselection.end=null,this.mousemove&&(d.removeEventListener(window,"mousemove",this.mousemove),delete this.mousemove),this.mouseup&&(d.removeEventListener(window,"mouseup",this.mouseup),delete this.mouseup)},deselect:function(e){var t=!!this.multiselection.nodes.length;this.multiselection.nodes.forEach(function(e){e.setSelected(!1)}),this.multiselection.nodes=[],e&&(this.multiselection.start=null,this.multiselection.end=null),t&&this._selectionChangedHandler&&this._selectionChangedHandler()},select:function(e){if(!Array.isArray(e))return this.select([e]);var t;e&&(this.deselect(),this.multiselection.nodes=e.slice(0),t=e[0],e.forEach(function(e){e.expandPathToNode(),e.setSelected(!0,e===t)}),this._selectionChangedHandler&&(e=this.getSelection(),this._selectionChangedHandler(e.start,e.end)))},_findTopLevelNodes:function(e,t){for(var n=e.getNodePath(),i=t.getNodePath(),o=0;o<n.length&&n[o]===i[o];)o++;var r=n[o-1],s=n[o],e=i[o];if(s&&e||(r.parent?r=(e=s=r).parent:(s=r.childs[0],e=r.childs[r.childs.length-1])),r&&s&&e){t=r.childs.indexOf(s),s=r.childs.indexOf(e),e=Math.min(t,s),s=Math.max(t,s);return r.childs.slice(e,s+1)}return[]},_onKeyDown:function(e){var t,i,n=e.which||e.keyCode,o=e.altKey,r=e.ctrlKey,s=e.metaKey,a=e.shiftKey,l=!1;9==n&&(t=this,setTimeout(function(){d.selectContentEditable(t.focusTarget)},0)),this.searchBox&&(r&&70==n?(this.searchBox.dom.search.focus(),this.searchBox.dom.search.select(),l=!0):(114==n||r&&71==n)&&(a?this.searchBox.previous(!0):this.searchBox.next(!0),l=!0)),this.history&&(r&&!a&&90==n?(this._onUndo(),l=!0):r&&a&&90==n&&(this._onRedo(),l=!0)),!this.options.autocomplete||l||r||o||s||1!=e.key.length&&8!=n&&46!=n||(l=!1,i="",0<=e.target.className.indexOf("jsoneditor-value")&&(i="value"),0<=e.target.className.indexOf("jsoneditor-field")&&(i="field"),n=c.getNodeFromTarget(e.target),setTimeout(function(e,t){var n;!(0<t.innerText.length)||null===(n=this.options.autocomplete.getOptions(t.innerText,e.getPath(),i,e.editor))?this.autocomplete.hideDropDown():"function"==typeof n.then?n.then(function(e){null===e?this.autocomplete.hideDropDown():e.options?this.autocomplete.show(t,e.startFrom,e.options):this.autocomplete.show(t,0,e)}.bind(this)):n.options?this.autocomplete.show(t,n.startFrom,n.options):this.autocomplete.show(t,0,n)}.bind(this,n,e.target),50)),l&&(e.preventDefault(),e.stopPropagation())},_createTable:function(){var e,t=document.createElement("div");t.className="jsoneditor-outer",this.options.navigationBar&&d.addClassName(t,"has-nav-bar"),this.contentOuter=t,this.scrollableContent=document.createElement("div"),this.scrollableContent.className="jsoneditor-tree",t.appendChild(this.scrollableContent),this.content=document.createElement("div"),this.content.className="jsoneditor-tree-inner",this.scrollableContent.appendChild(this.content),this.table=document.createElement("table"),this.table.className="jsoneditor-tree",this.content.appendChild(this.table),this.colgroupContent=document.createElement("colgroup"),"tree"===this.options.mode&&((e=document.createElement("col")).width="24px",this.colgroupContent.appendChild(e)),(e=document.createElement("col")).width="24px",this.colgroupContent.appendChild(e),e=document.createElement("col"),this.colgroupContent.appendChild(e),this.table.appendChild(this.colgroupContent),this.tbody=document.createElement("tbody"),this.table.appendChild(this.tbody),this.frame.appendChild(t)},showContextMenu:function(e,t){var n=[],i=this;n.push({text:f("duplicateText"),title:f("duplicateTitle"),className:"jsoneditor-duplicate",click:function(){c.onDuplicate(i.multiselection.nodes)}}),n.push({text:f("remove"),title:f("removeTitle"),className:"jsoneditor-remove",click:function(){c.onRemove(i.multiselection.nodes)}}),new r(n,{close:t}).show(e,this.content)},getSelection:function(){var e,t,n={start:null,end:null};return this.multiselection.nodes&&this.multiselection.nodes.length&&this.multiselection.nodes.length&&(e=this.multiselection.nodes[0],t=this.multiselection.nodes[this.multiselection.nodes.length-1],"down"===this.multiselection.direction?(n.start=e.serialize(),n.end=t.serialize()):(n.start=t.serialize(),n.end=e.serialize())),n},onSelectionChange:function(e){"function"==typeof e&&(this._selectionChangedHandler=d.debounce(e,this.DEBOUNCE_INTERVAL))},setSelection:function(e,t){e&&e.dom&&e.range&&(console.warn("setSelection/getSelection usage for text selection is depracated and should not be used, see documantaion for supported selection options"),this.setDomSelection(e));t=this._getNodeInstancesByRange(e,t);t.forEach(function(e){e.expandTo()}),this.select(t)},_getNodeInstancesByRange:function(e,t){var n,i;e&&e.path&&(n=this.node.findNodeByPath(e.path),t&&t.path&&(i=this.node.findNodeByPath(t.path)));var o=[];if(n instanceof c)if(i instanceof c&&i!==n)if(n.parent===i.parent){t=n.getIndex()<i.getIndex()?(e=n,i):(e=i,n);var r=e;for(o.push(r);r=r.nextSibling(),o.push(r),r&&r!==t;);}else o=this._findTopLevelNodes(n,i);else o.push(n);return o},getNodesByRange:function(e,t){var t=this._getNodeInstancesByRange(e,t),n=[];return t.forEach(function(e){n.push(e.serialize())}),n}};e.exports=[{mode:"tree",mixin:n,data:"json"},{mode:"view",mixin:n,data:"json"},{mode:"form",mixin:n,data:"json"}]},function(e,t){"use strict";function n(){this.locked=!1}n.prototype.highlight=function(e){this.locked||(this.node!=e&&(this.node&&this.node.setHighlight(!1),this.node=e,this.node.setHighlight(!0)),this._cancelUnhighlight())},n.prototype.unhighlight=function(){var e;this.locked||(e=this).node&&(this._cancelUnhighlight(),this.unhighlightTimer=setTimeout(function(){e.node.setHighlight(!1),e.node=void 0,e.unhighlightTimer=void 0},0))},n.prototype._cancelUnhighlight=function(){this.unhighlightTimer&&(clearTimeout(this.unhighlightTimer),this.unhighlightTimer=void 0)},n.prototype.lock=function(){this.locked=!0},n.prototype.unlock=function(){this.locked=!1},e.exports=n},function(e,t){"use strict";function n(t){function r(e){return t.node.findNodeByInternalPath(e)}this.editor=t,this.history=[],this.index=-1,this.clear(),this.actions={editField:{undo:function(e){r(e.parentPath).childs[e.index].updateField(e.oldValue)},redo:function(e){r(e.parentPath).childs[e.index].updateField(e.newValue)}},editValue:{undo:function(e){r(e.path).updateValue(e.oldValue)},redo:function(e){r(e.path).updateValue(e.newValue)}},changeType:{undo:function(e){r(e.path).changeType(e.oldType)},redo:function(e){r(e.path).changeType(e.newType)}},appendNodes:{undo:function(e){var t=r(e.parentPath);e.paths.map(r).forEach(function(e){t.removeChild(e)})},redo:function(e){var t=r(e.parentPath);e.nodes.forEach(function(e){t.appendChild(e)})}},insertBeforeNodes:{undo:function(e){var t=r(e.parentPath);e.paths.map(r).forEach(function(e){t.removeChild(e)})},redo:function(e){var t=r(e.parentPath),n=r(e.beforePath);e.nodes.forEach(function(e){t.insertBefore(e,n)})}},insertAfterNodes:{undo:function(e){var t=r(e.parentPath);e.paths.map(r).forEach(function(e){t.removeChild(e)})},redo:function(e){var t=r(e.parentPath),n=r(e.afterPath);e.nodes.forEach(function(e){t.insertAfter(e,n),n=e})}},removeNodes:{undo:function(e){var t=r(e.parentPath),n=t.childs[e.index]||t.append;e.nodes.forEach(function(e){t.insertBefore(e,n)})},redo:function(e){var t=r(e.parentPath);e.paths.map(r).forEach(function(e){t.removeChild(e)})}},duplicateNodes:{undo:function(e){var t=r(e.parentPath);e.clonePaths.map(r).forEach(function(e){t.removeChild(e)})},redo:function(e){var t=r(e.parentPath),n=r(e.afterPath);e.paths.map(r).forEach(function(e){e=e.clone();t.insertAfter(e,n),n=e})}},moveNodes:{undo:function(n){var i=r(n.oldParentPath),e=r(n.newParentPath),o=i.childs[n.oldIndex]||i.append;e.childs.slice(n.newIndex,n.newIndex+n.count).forEach(function(e,t){e.field=n.fieldNames[t],i.moveBefore(e,o)}),null===n.newParentPathRedo&&(n.newParentPathRedo=e.getInternalPath())},redo:function(n){var e=r(n.oldParentPathRedo),i=r(n.newParentPathRedo),o=i.childs[n.newIndexRedo]||i.append;e.childs.slice(n.oldIndexRedo,n.oldIndexRedo+n.count).forEach(function(e,t){e.field=n.fieldNames[t],i.moveBefore(e,o)})}},sort:{undo:function(e){var t=r(e.path);t.hideChilds(),t.childs=e.oldChilds,t.updateDom({updateIndexes:!0}),t.showChilds()},redo:function(e){var t=r(e.path);t.hideChilds(),t.childs=e.newChilds,t.updateDom({updateIndexes:!0}),t.showChilds()}},transform:{undo:function(e){r(e.path).setInternalValue(e.oldValue)},redo:function(e){r(e.path).setInternalValue(e.newValue)}}}}n.prototype.onChange=function(){},n.prototype.add=function(e,t){this.index++,this.history[this.index]={action:e,params:t,timestamp:new Date},this.index<this.history.length-1&&this.history.splice(this.index+1,this.history.length-this.index-1),this.onChange()},n.prototype.clear=function(){this.history=[],this.index=-1,this.onChange()},n.prototype.canUndo=function(){return 0<=this.index},n.prototype.canRedo=function(){return this.index<this.history.length-1},n.prototype.undo=function(){if(this.canUndo()){var e=this.history[this.index];if(e){var t=this.actions[e.action];if(t&&t.undo){if(t.undo(e.params),e.params.oldSelection)try{this.editor.setDomSelection(e.params.oldSelection)}catch(e){console.error(e)}}else console.error(new Error('unknown action "'+e.action+'"'))}this.index--,this.onChange()}},n.prototype.redo=function(){if(this.canRedo()){this.index++;var e=this.history[this.index];if(e){var t=this.actions[e.action];if(t&&t.redo){if(t.redo(e.params),e.params.newSelection)try{this.editor.setDomSelection(e.params.newSelection)}catch(e){console.error(e)}}else console.error(new Error('unknown action "'+e.action+'"'))}this.onChange()}},n.prototype.destroy=function(){this.editor=null,this.history=[],this.index=-1},e.exports=n},function(e,t){"use strict";function n(e,t){var n=this;this.editor=e,this.timeout=void 0,this.delay=200,this.lastText=void 0,this.dom={},this.dom.container=t;var i=document.createElement("table");(this.dom.table=i).className="jsoneditor-search",t.appendChild(i);var o=document.createElement("tbody");this.dom.tbody=o,i.appendChild(o);e=document.createElement("tr");o.appendChild(e);t=document.createElement("td");e.appendChild(t);i=document.createElement("div");(this.dom.results=i).className="jsoneditor-results",t.appendChild(i),t=document.createElement("td"),e.appendChild(t);o=document.createElement("div");(this.dom.input=o).className="jsoneditor-frame",o.title="Search fields and values",t.appendChild(o);i=document.createElement("table");o.appendChild(i);o=document.createElement("tbody");i.appendChild(o),e=document.createElement("tr"),o.appendChild(e);o=document.createElement("button");o.type="button",o.className="jsoneditor-refresh",(t=document.createElement("td")).appendChild(o),e.appendChild(t);var r=document.createElement("input");(this.dom.search=r).oninput=function(e){n._onDelayedSearch(e)},r.onchange=function(e){n._onSearch()},r.onkeydown=function(e){n._onKeyDown(e)},r.onkeyup=function(e){n._onKeyUp(e)},o.onclick=function(e){r.select()},(t=document.createElement("td")).appendChild(r),e.appendChild(t);o=document.createElement("button");o.type="button",o.title="Next result (Enter)",o.className="jsoneditor-next",o.onclick=function(){n.next()},(t=document.createElement("td")).appendChild(o),e.appendChild(t);o=document.createElement("button");o.type="button",o.title="Previous result (Shift+Enter)",o.className="jsoneditor-previous",o.onclick=function(){n.previous()},(t=document.createElement("td")).appendChild(o),e.appendChild(t)}n.prototype.next=function(e){var t;null!=this.results&&((t=null!=this.resultIndex?this.resultIndex+1:0)>this.results.length-1&&(t=0),this._setActiveResult(t,e))},n.prototype.previous=function(e){var t,n;null!=this.results&&(t=this.results.length-1,n=null!=this.resultIndex?this.resultIndex-1:t,this._setActiveResult(n=n<0?t:n,e))},n.prototype._setActiveResult=function(e,t){var n;if(this.activeResult&&(n=this.activeResult.node,"field"==this.activeResult.elem?delete n.searchFieldActive:delete n.searchValueActive,n.updateDom()),!this.results||!this.results[e])return this.resultIndex=void 0,void(this.activeResult=void 0);this.resultIndex=e;var i=this.results[this.resultIndex].node,o=this.results[this.resultIndex].elem;"field"==o?i.searchFieldActive=!0:i.searchValueActive=!0,this.activeResult=this.results[this.resultIndex],i.updateDom(),i.scrollTo(function(){t&&i.focus(o)})},n.prototype._clearDelay=function(){null!=this.timeout&&(clearTimeout(this.timeout),delete this.timeout)},n.prototype._onDelayedSearch=function(e){this._clearDelay();var t=this;this.timeout=setTimeout(function(e){t._onSearch()},this.delay)},n.prototype._onSearch=function(e){this._clearDelay();var t=this.dom.search.value,t=0<t.length?t:void 0;if(t!==this.lastText||e){this.lastText=t,this.results=this.editor.search(t);var e=this.results[0]?this.results[0].node.MAX_SEARCH_RESULTS:1/0,n=0;if(this.activeResult)for(var i=0;i<this.results.length;i++)if(this.results[i].node===this.activeResult.node){n=i;break}this._setActiveResult(n,!1),void 0!==t?(t=this.results.length,this.dom.results.innerHTML=0===t?"no&nbsp;results":1===t?"1&nbsp;result":e<t?e+"+&nbsp;results":t+"&nbsp;results"):this.dom.results.innerHTML=""}},n.prototype._onKeyDown=function(e){var t=e.which;27==t?(this.dom.search.value="",this._onSearch(),e.preventDefault(),e.stopPropagation()):13==t&&(e.ctrlKey?this._onSearch(!0):e.shiftKey?this.previous():this.next(),e.preventDefault(),e.stopPropagation())},n.prototype._onKeyUp=function(e){var t=e.keyCode;27!=t&&13!=t&&this._onDelayedSearch(e)},n.prototype.clear=function(){this.dom.search.value="",this._onSearch()},n.prototype.forceSearch=function(){this._onSearch(!0)},n.prototype.isEmpty=function(){return""===this.dom.search.value},n.prototype.destroy=function(){this.editor=null,this.dom.container.removeChild(this.dom.table),this.dom=null,this.results=null,this.activeResult=null,this._clearDelay()},e.exports=n},function(e,t,n){"use strict";function c(t,e){this.dom={};var u=this,n=this.dom;this.anchor=void 0,this.items=t,this.eventListeners={},this.selection=void 0,this.onClose=e?e.close:void 0;var i=document.createElement("div");i.className="jsoneditor-contextmenu-root",n.root=i;e=document.createElement("div");e.className="jsoneditor-contextmenu",n.menu=e,i.appendChild(e);i=document.createElement("ul");i.className="jsoneditor-menu",e.appendChild(i),n.list=i,n.items=[];e=document.createElement("button");e.type="button",n.focusButton=e;n=document.createElement("li");n.style.overflow="hidden",n.style.height="0",n.appendChild(e),i.appendChild(n),function l(c,d,e){e.forEach(function(t){var n,e,i,o,r,s,a;"separator"==t.type?((o=document.createElement("div")).className="jsoneditor-separator",(e=document.createElement("li")).appendChild(o),c.appendChild(e)):(n={},e=document.createElement("li"),c.appendChild(e),(i=document.createElement("button")).type="button",i.className=t.className,n.button=i,t.title&&(i.title=t.title),t.click&&(i.onclick=function(e){e.preventDefault(),u.hide(),t.click()}),e.appendChild(i),t.submenu?((o=document.createElement("div")).className="jsoneditor-icon",i.appendChild(o),(o=document.createElement("div")).className="jsoneditor-text"+(t.click?"":" jsoneditor-right-margin"),o.appendChild(document.createTextNode(t.text)),i.appendChild(o),(r=t.click?(i.className+=" jsoneditor-default",(s=document.createElement("button")).type="button",(n.buttonExpand=s).className="jsoneditor-expand",s.innerHTML='<div class="jsoneditor-expand"></div>',e.appendChild(s),t.submenuTitle&&(s.title=t.submenuTitle),s):((a=document.createElement("div")).className="jsoneditor-expand",i.appendChild(a),i)).onclick=function(e){e.preventDefault(),u._onExpandItem(n),r.focus()},n.subItems=s=[],a=document.createElement("ul"),(n.ul=a).className="jsoneditor-menu",a.style.height="0",e.appendChild(a),l(a,s,t.submenu)):i.innerHTML='<div class="jsoneditor-icon"></div><div class="jsoneditor-text">'+h(t.text)+"</div>",d.push(n))})}(i,this.dom.items,t),this.maxHeight=0,t.forEach(function(e){e=24*(t.length+(e.submenu?e.submenu.length:0));u.maxHeight=Math.max(u.maxHeight,e)})}var d=n(6),h=n(8).translate;c.prototype._getVisibleButtons=function(){var t=[],n=this;return this.dom.items.forEach(function(e){t.push(e.button),e.buttonExpand&&t.push(e.buttonExpand),e.subItems&&e==n.expandedItem&&e.subItems.forEach(function(e){t.push(e.button),e.buttonExpand&&t.push(e.buttonExpand)})}),t},c.visibleMenu=void 0,c.prototype.show=function(e,t){this.hide();var n=!0,i=e.parentNode,o=e.getBoundingClientRect(),r=i.getBoundingClientRect();t&&(s=t.getBoundingClientRect(),o.bottom+this.maxHeight<s.bottom||o.top-this.maxHeight>s.top&&(n=!1));var s=o.left-r.left,r=o.top-r.top;n?(n=e.offsetHeight,this.dom.menu.style.left=s+"px",this.dom.menu.style.top=r+n+"px",this.dom.menu.style.bottom=""):(this.dom.menu.style.left=s+"px",this.dom.menu.style.top=r+"px",this.dom.menu.style.bottom="0px"),this.rootNode=(r=e).getRootNode&&r.getRootNode()||window,i.insertBefore(this.dom.root,i.firstChild);var a=this,l=this.dom.list;this.eventListeners.mousedown=d.addEventListener(this.rootNode,"mousedown",function(e){var t=e.target;t==l||a._isChildOf(t,l)||(a.hide(),e.stopPropagation(),e.preventDefault())}),this.eventListeners.keydown=d.addEventListener(this.rootNode,"keydown",function(e){a._onKeyDown(e)}),this.selection=d.getSelection(),this.anchor=e,setTimeout(function(){a.dom.focusButton.focus()},0),c.visibleMenu&&c.visibleMenu.hide(),c.visibleMenu=this},c.prototype.hide=function(){for(var e in this.dom.root.parentNode&&(this.dom.root.parentNode.removeChild(this.dom.root),this.onClose&&this.onClose()),this.eventListeners){var t;this.eventListeners.hasOwnProperty(e)&&((t=this.eventListeners[e])&&d.removeEventListener(this.rootNode,e,t),delete this.eventListeners[e])}c.visibleMenu==this&&(c.visibleMenu=void 0)},c.prototype._onExpandItem=function(n){var i,o=this,e=n==this.expandedItem,t=this.expandedItem;t&&(t.ul.style.height="0",t.ul.style.padding="",setTimeout(function(){o.expandedItem!=t&&(t.ul.style.display="",d.removeClassName(t.ul.parentNode,"jsoneditor-selected"))},300),this.expandedItem=void 0),e||((i=n.ul).style.display="block",i.clientHeight,setTimeout(function(){if(o.expandedItem==n){for(var e=0,t=0;t<i.childNodes.length;t++)e+=i.childNodes[t].clientHeight;i.style.height=e+"px",i.style.padding="5px 10px"}},0),d.addClassName(i.parentNode,"jsoneditor-selected"),this.expandedItem=n)},c.prototype._onKeyDown=function(e){var t,n,i,o,r=e.target,s=e.which,a=!1;27==s?(this.selection&&d.setSelection(this.selection),this.anchor&&this.anchor.focus(),this.hide(),a=!0):9==s?e.shiftKey?0==(n=(t=this._getVisibleButtons()).indexOf(r))&&(t[t.length-1].focus(),a=!0):(n=(t=this._getVisibleButtons()).indexOf(r))==t.length-1&&(t[0].focus(),a=!0):37==s?("jsoneditor-expand"==r.className&&(n=(t=this._getVisibleButtons()).indexOf(r),(i=t[n-1])&&i.focus()),a=!0):38==s?(n=(t=this._getVisibleButtons()).indexOf(r),(i=(i=(i=t[n-1])&&"jsoneditor-expand"==i.className?t[n-2]:i)||t[t.length-1])&&i.focus(),a=!0):39==s?(n=(t=this._getVisibleButtons()).indexOf(r),(o=t[n+1])&&"jsoneditor-expand"==o.className&&o.focus(),a=!0):40==s&&(n=(t=this._getVisibleButtons()).indexOf(r),(o=(o=(o=t[n+1])&&"jsoneditor-expand"==o.className?t[n+2]:o)||t[0])&&(o.focus(),a=!0),a=!0),a&&(e.stopPropagation(),e.preventDefault())},c.prototype._isChildOf=function(e,t){for(var n=e.parentNode;n;){if(n==t)return!0;n=n.parentNode}return!1},e.exports=c},function(e,l,t){"use strict";var n=t(7);l.parse=function(t){try{return JSON.parse(t)}catch(e){throw l.validate(t),e}},l.sanitize=function(n){function i(){return n.charAt(r)}function e(){return n.charAt(r+1)}function t(e){o.push('"'),r++;for(var t=i();r<n.length&&t!==e;)'"'===t&&"\\"!==n.charAt(r-1)?o.push('\\"'):a.hasOwnProperty(t)?o.push(a[t]):("\\"===t&&(r++,"'"!==(t=i())&&o.push("\\")),o.push(t)),r++,t=i();t===e&&(o.push('"'),r++)}var o=[],r=0,s=n.match(/^\s*(\/\*(.|[\r\n])*?\*\/)?\s*[\da-zA-Z_$]+\s*\(([\s\S]*)\)\s*;?\s*$/);s&&(n=s[3]);for(var a={"\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t"};r<n.length;){var l=i();"/"===l&&"*"===e()?function(){for(r+=2;r<n.length&&("*"!==i()||"/"!==e());)r++;r+=2}():"/"===l&&"/"===e()?function(){for(r+=2;r<n.length&&"\n"!==i();)r++}():" "===l||" "<=l&&l<=" "||" "===l||" "===l||"　"===l?(o.push(" "),r++):"'"===l?t("'"):'"'===l?t('"'):"`"===l?t("´"):"‘"===l?t("’"):"“"===l?t("”"):/[a-zA-Z_$]/.test(l)&&-1!==["{",","].indexOf(function(){for(var e=o.length-1;0<=e;){var t=o[e];if(" "!==t&&"\n"!==t&&"\r"!==t&&"\t"!==t)return t;e--}return""}())?function(){for(var e="",t=i(),n=/[a-zA-Z_$\d]/;n.test(t);)e+=t,r++,t=i();-1===["null","true","false"].indexOf(e)?o.push('"'+e+'"'):o.push(e)}():(o.push(l),r++)}return o.join("")},l.escapeUnicodeChars=function(e){return e.replace(/[\u007F-\uFFFF]/g,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})},l.validate=function(e){(void 0!==n?n:JSON).parse(e)},l.extend=function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},l.clear=function(e){for(var t in e)e.hasOwnProperty(t)&&delete e[t];return e},l.type=function(e){return null===e?"null":void 0===e?"undefined":e instanceof Number||"number"==typeof e?"number":e instanceof String||"string"==typeof e?"string":e instanceof Boolean||"boolean"==typeof e?"boolean":e instanceof RegExp||"regexp"==typeof e?"regexp":l.isArray(e)?"array":"object"};var i=/^https?:\/\/\S+$/;l.isUrl=function(e){return("string"==typeof e||e instanceof String)&&i.test(e)},l.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)},l.getAbsoluteLeft=function(e){return e.getBoundingClientRect().left+window.pageXOffset||document.scrollLeft||0},l.getAbsoluteTop=function(e){return e.getBoundingClientRect().top+window.pageYOffset||document.scrollTop||0},l.addClassName=function(e,t){var n=e.className.split(" ");-1==n.indexOf(t)&&(n.push(t),e.className=n.join(" "))},l.removeClassName=function(e,t){var n=e.className.split(" "),t=n.indexOf(t);-1!=t&&(n.splice(t,1),e.className=n.join(" "))},l.stripFormatting=function(e){for(var t=e.childNodes,n=0,i=t.length;n<i;n++){var o=t[n];o.style&&o.removeAttribute("style");var r=o.attributes;if(r)for(var s=r.length-1;0<=s;s--){var a=r[s];!0===a.specified&&o.removeAttribute(a.name)}l.stripFormatting(o)}},l.setEndOfContentEditable=function(e){var t;document.createRange&&((t=document.createRange()).selectNodeContents(e),t.collapse(!1),(e=window.getSelection()).removeAllRanges(),e.addRange(t))},l.selectContentEditable=function(e){var t;e&&"DIV"==e.nodeName&&window.getSelection&&document.createRange&&((t=document.createRange()).selectNodeContents(e),(e=window.getSelection()).removeAllRanges(),e.addRange(t))},l.getSelection=function(){if(window.getSelection){var e=window.getSelection();if(e.getRangeAt&&e.rangeCount)return e.getRangeAt(0)}return null},l.setSelection=function(e){var t;e&&window.getSelection&&((t=window.getSelection()).removeAllRanges(),t.addRange(e))},l.getSelectionOffset=function(){var e=l.getSelection();return e&&"startOffset"in e&&"endOffset"in e&&e.startContainer&&e.startContainer==e.endContainer?{startOffset:e.startOffset,endOffset:e.endOffset,container:e.startContainer.parentNode}:null},l.setSelectionOffset=function(e){var t;document.createRange&&window.getSelection&&window.getSelection()&&(t=document.createRange(),e.container.firstChild||e.container.appendChild(document.createTextNode("")),t.setStart(e.container.firstChild,e.startOffset),t.setEnd(e.container.firstChild,e.endOffset),l.setSelection(t))},l.getInnerText=function(e,t){if(null==t&&(t={text:"",flush:function(){var e=this.text;return this.text="",e},set:function(e){this.text=e}}),e.nodeValue)return t.flush()+e.nodeValue;if(e.hasChildNodes()){for(var n=e.childNodes,i="",o=0,r=n.length;o<r;o++){var s,a=n[o];"DIV"==a.nodeName||"P"==a.nodeName?((s=(s=n[o-1])?s.nodeName:void 0)&&"DIV"!=s&&"P"!=s&&"BR"!=s&&(i+="\n",t.flush()),i+=l.getInnerText(a,t),t.set("\n")):"BR"==a.nodeName?(i+=t.flush(),t.set("\n")):i+=l.getInnerText(a,t)}return i}return"P"==e.nodeName&&-1!=l.getInternetExplorerVersion()?t.flush():""},l.getInternetExplorerVersion=function(){var e,t;return-1==o&&(e=-1,"undefined"!=typeof navigator&&"Microsoft Internet Explorer"==navigator.appName&&(t=navigator.userAgent,null!=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})").exec(t)&&(e=parseFloat(RegExp.$1))),o=e),o},l.isFirefox=function(){return"undefined"!=typeof navigator&&-1!==navigator.userAgent.indexOf("Firefox")};var o=-1;function r(e){e.hasOwnProperty("remove")||Object.defineProperty(e,"remove",{configurable:!0,enumerable:!0,writable:!0,value:function(){null!=this.parentNode&&this.parentNode.removeChild(this)}})}l.addEventListener=function(e,t,n,i){if(e.addEventListener)return void 0===i&&(i=!1),"mousewheel"===t&&l.isFirefox()&&(t="DOMMouseScroll"),e.addEventListener(t,n,i),n;if(e.attachEvent){i=function(){return n.call(e,window.event)};return e.attachEvent("on"+t,i),i}},l.removeEventListener=function(e,t,n,i){e.removeEventListener?(void 0===i&&(i=!1),"mousewheel"===t&&l.isFirefox()&&(t="DOMMouseScroll"),e.removeEventListener(t,n,i)):e.detachEvent&&e.detachEvent("on"+t,n)},l.parsePath=function e(t){if(0===t.length)return[];var n=t.match(/^\.(\w+)/);if(n)o=n[1],r=t.substr(o.length+1);else{if("["!==t[0])throw new SyntaxError("Failed to parse path");var i=t.indexOf("]");if(-1===i)throw new SyntaxError("Character ] expected in path");if(1===i)throw new SyntaxError("Index expected after [");var n=t.substring(1,i),o="*"===(n="'"===n[0]?'"'+n.substring(1,n.length-1)+'"':n)?n:JSON.parse(n),r=t.substr(i+1)}return[o].concat(e(r))},l.improveSchemaError=function(e){var t,n;return"enum"!==e.keyword||!Array.isArray(e.schema)||(n=e.schema)&&(5<(n=n.map(function(e){return JSON.stringify(e)})).length&&(t=["("+(n.length-5)+" more...)"],(n=n.slice(0,5)).push(t)),e.message="should be equal to one of: "+n.join(", ")),"additionalProperties"===e.keyword&&(e.message="should NOT have additional property: "+e.params.additionalProperty),e},l.insideRect=function(e,t,n){n=void 0!==n?n:0;return t.left-n>=e.left&&t.right+n<=e.right&&t.top-n>=e.top&&t.bottom+n<=e.bottom},l.debounce=function(i,o,r){var s;return function(){var e=this,t=arguments,n=r&&!s;clearTimeout(s),s=setTimeout(function(){s=null,r||i.apply(e,t)},o),n&&i.apply(e,t)}},l.textDiff=function(e,t){for(var n=t.length,i=0,o=e.length,r=t.length;t.charAt(i)===e.charAt(i)&&i<n;)i++;for(;t.charAt(r-1)===e.charAt(o-1)&&i<r&&0<o;)r--,o--;return{start:i,end:r}},l.getInputSelection=function(t){function e(e){e=t.value.substring(0,e);return{row:(e.match(/\n/g)||[]).length+1,column:e.length-e.lastIndexOf("\n")}}var n,i,o,r,s=0,a=0;return"number"==typeof t.selectionStart&&"number"==typeof t.selectionEnd?(s=t.selectionStart,a=t.selectionEnd):(r=document.selection.createRange())&&r.parentElement()==t&&(o=t.value.length,n=t.value.replace(/\r\n/g,"\n"),(i=t.createTextRange()).moveToBookmark(r.getBookmark()),(r=t.createTextRange()).collapse(!1),-1<i.compareEndPoints("StartToEnd",r)?s=a=o:(s=-i.moveStart("character",-o),s+=n.slice(0,s).split("\n").length-1,-1<i.compareEndPoints("EndToEnd",r)?a=o:(a=-i.moveEnd("character",-o),a+=n.slice(0,a).split("\n").length-1))),{startIndex:s,endIndex:a,start:e(s),end:e(a)}},l.getIndexForPosition=function(e,t,n){e=e.value||"";if(0<t&&0<n){e=e.split("\n",t);t=Math.min(e.length,t),n=Math.min(e[t-1].length,n-1);n=1==t?n:n+1;return e.slice(0,t-1).join("\n").length+n}return-1},"undefined"!=typeof Element&&("undefined"!=typeof Element&&r(Element.prototype),"undefined"!=typeof CharacterData&&r(CharacterData.prototype),"undefined"!=typeof DocumentType&&r(DocumentType.prototype)),String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return this.substr(t=t||0,e.length)===e}),Array.prototype.find||(Array.prototype.find=function(e){for(var t=0;t<this.length;t++){var n=this[t];if(e.call(this,n,t,this))return n}})},function(e,t,n){var i=function(){var e,t={trace:function(){},yy:{},symbols_:{error:2,JSONString:3,STRING:4,JSONNumber:5,NUMBER:6,JSONNullLiteral:7,NULL:8,JSONBooleanLiteral:9,TRUE:10,FALSE:11,JSONText:12,JSONValue:13,EOF:14,JSONObject:15,JSONArray:16,"{":17,"}":18,JSONMemberList:19,JSONMember:20,":":21,",":22,"[":23,"]":24,JSONElementList:25,$accept:0,$end:1},terminals_:{2:"error",4:"STRING",6:"NUMBER",8:"NULL",10:"TRUE",11:"FALSE",14:"EOF",17:"{",18:"}",21:":",22:",",23:"[",24:"]"},productions_:[0,[3,1],[5,1],[7,1],[9,1],[9,1],[12,2],[13,1],[13,1],[13,1],[13,1],[13,1],[13,1],[15,2],[15,3],[20,3],[19,1],[19,3],[16,2],[16,3],[25,1],[25,3]],performAction:function(e,t,n,i,o,r,s){var a=r.length-1;switch(o){case 1:this.$=e.replace(/\\(\\|")/g,"$1").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\t/g,"\t").replace(/\\v/g,"\v").replace(/\\f/g,"\f").replace(/\\b/g,"\b");break;case 2:this.$=Number(e);break;case 3:this.$=null;break;case 4:this.$=!0;break;case 5:this.$=!1;break;case 6:return this.$=r[a-1];case 13:this.$={};break;case 14:this.$=r[a-1];break;case 15:this.$=[r[a-2],r[a]];break;case 16:this.$={},this.$[r[a][0]]=r[a][1];break;case 17:this.$=r[a-2],r[a-2][r[a][0]]=r[a][1];break;case 18:this.$=[];break;case 19:this.$=r[a-1];break;case 20:this.$=[r[a]];break;case 21:this.$=r[a-2],r[a-2].push(r[a])}},table:[{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],12:1,13:2,15:7,16:8,17:[1,14],23:[1,15]},{1:[3]},{14:[1,16]},{14:[2,7],18:[2,7],22:[2,7],24:[2,7]},{14:[2,8],18:[2,8],22:[2,8],24:[2,8]},{14:[2,9],18:[2,9],22:[2,9],24:[2,9]},{14:[2,10],18:[2,10],22:[2,10],24:[2,10]},{14:[2,11],18:[2,11],22:[2,11],24:[2,11]},{14:[2,12],18:[2,12],22:[2,12],24:[2,12]},{14:[2,3],18:[2,3],22:[2,3],24:[2,3]},{14:[2,4],18:[2,4],22:[2,4],24:[2,4]},{14:[2,5],18:[2,5],22:[2,5],24:[2,5]},{14:[2,1],18:[2,1],21:[2,1],22:[2,1],24:[2,1]},{14:[2,2],18:[2,2],22:[2,2],24:[2,2]},{3:20,4:[1,12],18:[1,17],19:18,20:19},{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],13:23,15:7,16:8,17:[1,14],23:[1,15],24:[1,21],25:22},{1:[2,6]},{14:[2,13],18:[2,13],22:[2,13],24:[2,13]},{18:[1,24],22:[1,25]},{18:[2,16],22:[2,16]},{21:[1,26]},{14:[2,18],18:[2,18],22:[2,18],24:[2,18]},{22:[1,28],24:[1,27]},{22:[2,20],24:[2,20]},{14:[2,14],18:[2,14],22:[2,14],24:[2,14]},{3:20,4:[1,12],20:29},{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],13:30,15:7,16:8,17:[1,14],23:[1,15]},{14:[2,19],18:[2,19],22:[2,19],24:[2,19]},{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],13:31,15:7,16:8,17:[1,14],23:[1,15]},{18:[2,17],22:[2,17]},{18:[2,15],22:[2,15]},{22:[2,21],24:[2,21]}],defaultActions:{16:[2,6]},parseError:function(e,t){throw new Error(e)},parse:function(e){function t(){var e=n.lexer.lex()||1;return e="number"!=typeof e?n.symbols_[e]||e:e}var n=this,i=[0],o=[null],r=[],s=this.table,a="",l=0,c=0,d=0;this.lexer.setInput(e),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,void 0===this.lexer.yylloc&&(this.lexer.yylloc={});var u=this.lexer.yylloc;r.push(u),"function"==typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var h,p,f,m,g,v,b,y,x={};;){if(f=i[i.length-1],void 0===(m=this.defaultActions[f]||(null==h&&(h=t()),s[f]&&s[f][h]))||!m.length||!m[0]){if(!d){for(v in y=[],s[f])this.terminals_[v]&&2<v&&y.push("'"+this.terminals_[v]+"'");var w="",w=this.lexer.showPosition?"Parse error on line "+(l+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+y.join(", ")+", got '"+this.terminals_[h]+"'":"Parse error on line "+(l+1)+": Unexpected "+(1==h?"end of input":"'"+(this.terminals_[h]||h)+"'");this.parseError(w,{text:this.lexer.match,token:this.terminals_[h]||h,line:this.lexer.yylineno,loc:u,expected:y})}if(3==d){if(1==h)throw new Error(w||"Parsing halted.");c=this.lexer.yyleng,a=this.lexer.yytext,l=this.lexer.yylineno,u=this.lexer.yylloc,h=t()}for(;!(2..toString()in s[f]);){if(0==f)throw new Error(w||"Parsing halted.");i.length=i.length-2,o.length=o.length-1,r.length=r.length-1,f=i[i.length-1]}p=h,h=2,m=s[f=i[i.length-1]]&&s[f][2],d=3}if(m[0]instanceof Array&&1<m.length)throw new Error("Parse Error: multiple actions possible at state: "+f+", token: "+h);switch(m[0]){case 1:i.push(h),o.push(this.lexer.yytext),r.push(this.lexer.yylloc),i.push(m[1]),h=null,p?(h=p,p=null):(c=this.lexer.yyleng,a=this.lexer.yytext,l=this.lexer.yylineno,u=this.lexer.yylloc,0<d&&d--);break;case 2:if(b=this.productions_[m[1]][1],x.$=o[o.length-b],x._$={first_line:r[r.length-(b||1)].first_line,last_line:r[r.length-1].last_line,first_column:r[r.length-(b||1)].first_column,last_column:r[r.length-1].last_column},void 0!==(g=this.performAction.call(x,a,c,l,this.yy,m[1],o,r)))return g;b&&(i=i.slice(0,-1*b*2),o=o.slice(0,-1*b),r=r.slice(0,-1*b)),i.push(this.productions_[m[1]][0]),o.push(x.$),r.push(x._$),b=s[i[i.length-2]][i[i.length-1]],i.push(b);break;case 3:return!0}}return!0}};e={EOF:1,parseError:function(e,t){if(!this.yy.parseError)throw new Error(e);this.yy.parseError(e,t)},setInput:function(e){return this._input=e,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this},input:function(){var e=this._input[0];return this.yytext+=e,this.yyleng++,this.match+=e,this.matched+=e,e.match(/\n/)&&this.yylineno++,this._input=this._input.slice(1),e},unput:function(e){return this._input=e+this._input,this},more:function(){return this._more=!0,this},less:function(e){this._input=this.match.slice(e)+this._input},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(20<e.length?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(20<e.length?"...":"")).replace(/\n/g,"")},showPosition:function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+"\n"+t+"^"},next:function(){if(this.done)return this.EOF;var e,t,n,i;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var o=this._currentRules(),r=0;r<o.length&&(!(t=this._input.match(this.rules[o[r]]))||e&&!(t[0].length>e[0].length)||(e=t,n=r,this.options.flex));r++);return e?((i=e[0].match(/\n.*/g))&&(this.yylineno+=i.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:i?i[i.length-1].length-1:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.yyleng=this.yytext.length,this._more=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],i=this.performAction.call(this,this.yy,this,o[n],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),i||void 0):""===this._input?this.EOF:void this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var e=this.next();return void 0!==e?e:this.lex()},begin:function(e){this.conditionStack.push(e)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(e){this.begin(e)},options:{},performAction:function(e,t,n,i){switch(n){case 0:break;case 1:return 6;case 2:return t.yytext=t.yytext.substr(1,t.yyleng-2),4;case 3:return 17;case 4:return 18;case 5:return 23;case 6:return 24;case 7:return 22;case 8:return 21;case 9:return 10;case 10:return 11;case 11:return 8;case 12:return 14;case 13:return"INVALID"}},rules:[/^(?:\s+)/,/^(?:(-?([0-9]|[1-9][0-9]+))(\.[0-9]+)?([eE][-+]?[0-9]+)?\b)/,/^(?:"(?:\\[\\"bfnrt\/]|\\u[a-fA-F0-9]{4}|[^\\\0-\x09\x0a-\x1f"])*")/,/^(?:\{)/,/^(?:\})/,/^(?:\[)/,/^(?:\])/,/^(?:,)/,/^(?::)/,/^(?:true\b)/,/^(?:false\b)/,/^(?:null\b)/,/^(?:$)/,/^(?:.)/],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13],inclusive:!0}}};return t.lexer=e,t}();t.parser=i,t.parse=i.parse.bind(i)},function(e,t){"use strict";var n=["en","pt-BR"],o={en:{array:"Array",auto:"Auto",appendText:"Append",appendTitle:"Append a new field with type 'auto' after this field (Ctrl+Shift+Ins)",appendSubmenuTitle:"Select the type of the field to be appended",appendTitleAuto:"Append a new field with type 'auto' (Ctrl+Shift+Ins)",ascending:"Ascending",ascendingTitle:"Sort the childs of this ${type} in ascending order",actionsMenu:"Click to open the actions menu (Ctrl+M)",collapseAll:"Collapse all fields",descending:"Descending",descendingTitle:"Sort the childs of this ${type} in descending order",drag:"Drag to move this field (Alt+Shift+Arrows)",duplicateKey:"duplicate key",duplicateText:"Duplicate",duplicateTitle:"Duplicate selected fields (Ctrl+D)",duplicateField:"Duplicate this field (Ctrl+D)",empty:"empty",expandAll:"Expand all fields",expandTitle:"Click to expand/collapse this field (Ctrl+E). \nCtrl+Click to expand/collapse including all childs.",insert:"Insert",insertTitle:"Insert a new field with type 'auto' before this field (Ctrl+Ins)",insertSub:"Select the type of the field to be inserted",object:"Object",ok:"Ok",redo:"Redo (Ctrl+Shift+Z)",removeText:"Remove",removeTitle:"Remove selected fields (Ctrl+Del)",removeField:"Remove this field (Ctrl+Del)",selectNode:"Select a node...",showAll:"show all",showMore:"show more",showMoreStatus:"displaying ${visibleChilds} of ${totalChilds} items.",sort:"Sort",sortTitle:"Sort the childs of this ${type}",sortTitleShort:"Sort contents",sortFieldLabel:"Field:",sortDirectionLabel:"Direction:",sortFieldTitle:"Select the nested field by which to sort the array or object",sortAscending:"Ascending",sortAscendingTitle:"Sort the selected field in ascending order",sortDescending:"Descending",sortDescendingTitle:"Sort the selected field in descending order",string:"String",transform:"Transform",transformTitle:"Filter, sort, or transform the childs of this ${type}",transformTitleShort:"Filter, sort, or transform contents",transformQueryTitle:"Enter a JMESPath query",transformWizardLabel:"Wizard",transformWizardFilter:"Filter",transformWizardSortBy:"Sort by",transformWizardSelectFields:"Select fields",transformQueryLabel:"Query",transformPreviewLabel:"Preview",type:"Type",typeTitle:"Change the type of this field",openUrl:"Ctrl+Click or Ctrl+Enter to open url in new window",undo:"Undo last action (Ctrl+Z)",validationCannotMove:"Cannot move a field into a child of itself",autoType:'Field type "auto". The field type is automatically determined from the value and can be a string, number, boolean, or null.',objectType:'Field type "object". An object contains an unordered set of key/value pairs.',arrayType:'Field type "array". An array contains an ordered collection of values.',stringType:'Field type "string". Field type is not determined from the value, but always returned as string.'},"pt-BR":{array:"Lista",auto:"Automatico",appendText:"Adicionar",appendTitle:"Adicionar novo campo com tipo 'auto' depois deste campo (Ctrl+Shift+Ins)",appendSubmenuTitle:"Selecione o tipo do campo a ser adicionado",appendTitleAuto:"Adicionar novo campo com tipo 'auto' (Ctrl+Shift+Ins)",ascending:"Ascendente",ascendingTitle:"Organizar filhor do tipo ${type} em crescente",actionsMenu:"Clique para abrir o menu de ações (Ctrl+M)",collapseAll:"Fechar todos campos",descending:"Descendente",descendingTitle:"Organizar o filhos do tipo ${type} em decrescente",duplicateKey:"chave duplicada",drag:"Arraste para mover este campo (Alt+Shift+Arrows)",duplicateText:"Duplicar",duplicateTitle:"Duplicar campos selecionados (Ctrl+D)",duplicateField:"Duplicar este campo (Ctrl+D)",empty:"vazio",expandAll:"Expandir todos campos",expandTitle:"Clique para expandir/encolher este campo (Ctrl+E). \nCtrl+Click para expandir/encolher incluindo todos os filhos.",insert:"Inserir",insertTitle:"Inserir um novo campo do tipo 'auto' antes deste campo (Ctrl+Ins)",insertSub:"Selecionar o tipo de campo a ser inserido",object:"Objeto",ok:"Ok",redo:"Refazer (Ctrl+Shift+Z)",removeText:"Remover",removeTitle:"Remover campos selecionados (Ctrl+Del)",removeField:"Remover este campo (Ctrl+Del)",selectNode:"Select a node...",showAll:"mostre tudo",showMore:"mostre mais",showMoreStatus:"exibindo ${visibleChilds} de ${totalChilds} itens.",sort:"Organizar",sortTitle:"Organizar os filhos deste ${type}",sortTitleShort:"Organizar os filhos",sortFieldLabel:"Field:",sortDirectionLabel:"Direction:",sortFieldTitle:"Select the nested field by which to sort the array or object",sortAscending:"Ascending",sortAscendingTitle:"Sort the selected field in ascending order",sortDescending:"Descending",sortDescendingTitle:"Sort the selected field in descending order",string:"Texto",transform:"Transform",transformTitle:"Filter, sort, or transform the childs of this ${type}",transformTitleShort:"Filter, sort, or transform contents",transformQueryTitle:"Enter a JMESPath query",transformWizardLabel:"Wizard",transformWizardFilter:"Filter",transformWizardSortBy:"Sort by",transformWizardSelectFields:"Select fields",transformQueryLabel:"Query",transformPreviewLabel:"Preview",type:"Tipo",typeTitle:"Mudar o tipo deste campo",openUrl:"Ctrl+Click ou Ctrl+Enter para abrir link em nova janela",undo:"Desfazer último ação (Ctrl+Z)",validationCannotMove:"Não pode mover um campo como filho dele mesmo",autoType:'Campo do tipo "auto". O tipo do campo é determinao automaticamente a partir do seu valor e pode ser texto, número, verdade/falso ou nulo.',objectType:'Campo do tipo "objeto". Um objeto contém uma lista de pares com chave e valor.',arrayType:'Campo do tipo "lista". Uma lista contem uma coleção de valores ordenados.',stringType:'Campo do tipo "string". Campo do tipo nao é determinado através do seu valor, mas sempre retornara um texto.'}},i="undefined"!=typeof navigator?navigator.language||navigator.userLanguage:void 0,r=n.find(function(e){return e===i});r=r||"en",e.exports={_locales:n,_defs:o,_lang:r,setLanguage:function(t){var e;t&&((e=n.find(function(e){return e===t}))?r=e:console.error("Language not found"))},setLanguages:function(e){if(e)for(var t in e)n.find(function(e){return e===t})||n.push(t),o[t]=Object.assign({},o.en,o[t],e[t])},translate:function(e,t,n){var i=o[n=n||r][e];if(t)for(e in t)i=i.replace("${"+e+"}",t[e]);return i||e}}},function(e,t,n){"use strict";function i(e){e&&(this.path=document.createElement("div"),this.path.className="jsoneditor-treepath",e.appendChild(this.path),this.reset())}var s=n(5),o=n(8).translate;i.prototype.reset=function(){this.path.innerHTML=o("selectNode")},i.prototype.setPath=function(o){var r=this;this.path.innerHTML="",o&&o.length&&o.forEach(function(n,i){var e,t=document.createElement("span");t.className="jsoneditor-treepath-element",t.innerText=n.name,t.onclick=function(e){this.selectionCallback&&this.selectionCallback(e)}.bind(r,n),r.path.appendChild(t),n.children.length&&((e=document.createElement("span")).className="jsoneditor-treepath-seperator",e.innerHTML="&#9658;",e.onclick=function(){var t=[];n.children.forEach(function(e){t.push({text:e.name,className:"jsoneditor-type-modes"+(o[i+1]+1&&o[i+1].name===e.name?" jsoneditor-selected":""),click:function(e,t){this.contextMenuCallback&&this.contextMenuCallback(e,t)}.bind(r,n,e.name)})}),new s(t).show(e)},r.path.appendChild(e,r.container)),i===o.length-1&&(t=(e||t).getBoundingClientRect().left,r.path.offsetWidth<t&&(r.path.scrollLeft=t))})},i.prototype.onSectionSelected=function(e){"function"==typeof e&&(this.selectionCallback=e)},i.prototype.onContextMenuItemSelected=function(e){"function"==typeof e&&(this.contextMenuCallback=e)},e.exports=i},function(e,t,n){"use strict";function _(e,t){this.editor=e,this.dom={},this.expanded=!1,t&&t instanceof Object?(this.setField(t.field,t.fieldEditable),"value"in t&&this.setValue(t.value,t.type),"internalValue"in t&&this.setInternalValue(t.internalValue)):(this.setField(""),this.setValue(null)),this._debouncedOnChangeValue=j.debounce(this._onChangeValue.bind(this),_.prototype.DEBOUNCE_INTERVAL),this._debouncedOnChangeField=j.debounce(this._onChangeField.bind(this),_.prototype.DEBOUNCE_INTERVAL)}function l(e){return e.getInternalPath()}function A(e){return e.getField()}var i=n(11),o=n(12),s=n(5),r=n(13),a=n(14),c=n(15),d=n(17),j=n(6),u=n(8).translate,h=document.body;_.prototype.DEBOUNCE_INTERVAL=150,_.prototype.MAX_SEARCH_RESULTS=999,_.prototype.visibleChilds=_.prototype.MAX_VISIBLE_CHILDS=100,_.prototype._updateEditability=function(){var e;this.editable={field:!0,value:!0},!this.editor||(this.editable.field="tree"===this.editor.options.mode,this.editable.value="view"!==this.editor.options.mode,"tree"!==this.editor.options.mode&&"form"!==this.editor.options.mode||"function"!=typeof this.editor.options.onEditable)||("boolean"==typeof(e=this.editor.options.onEditable({field:this.field,value:this.value,path:this.getPath()}))?(this.editable.field=e,this.editable.value=e):("boolean"==typeof e.field&&(this.editable.field=e.field),"boolean"==typeof e.value&&(this.editable.value=e.value)))},_.prototype.getPath=function(){for(var e=this,t=[];e;){var n=e.getName();void 0!==n&&t.unshift(n),e=e.parent}return t},_.prototype.getInternalPath=function(){for(var e=this,t=[];e;)e.parent&&t.unshift(e.getIndex()),e=e.parent;return t},_.prototype.getName=function(){return this.parent?"array"!=this.parent.type?this.field:this.index:void 0},_.prototype.findNodeByPath=function(e){if(e){if(0==e.length)return this;if(e.length&&this.childs&&this.childs.length)for(var t=0;t<this.childs.length;++t)if(""+e[0]==""+this.childs[t].getName())return this.childs[t].findNodeByPath(e.slice(1))}},_.prototype.findNodeByInternalPath=function(e){if(e){for(var t=this,n=0;n<e.length&&t;n++)var i=e[n],t=t.childs[i];return t}},_.prototype.serialize=function(){return{value:this.getValue(),path:this.getPath()}},_.prototype.findNode=function(e){for(var t=j.parsePath(e),n=this;n&&0<t.length;){var i=t.shift();if("number"==typeof i){if("array"!==n.type)throw new Error("Cannot get child node at index "+i+": node is no array");n=n.childs[i]}else{if("object"!==n.type)throw new Error("Cannot get child node "+i+": node is no object");n=n.childs.filter(function(e){return e.field===i})[0]}}return n},_.prototype.findParents=function(){for(var e=[],t=this.parent;t;)e.unshift(t),t=t.parent;return e},_.prototype.setError=function(e,t){this.error=e,this.errorChild=t,this.dom&&this.dom.tr&&this.updateError()},_.prototype.updateError=function(){var e=this.error,t=this.dom.tdError;if(e&&this.dom&&this.dom.tr){t||(t=document.createElement("td"),this.dom.tdError=t,this.dom.tdValue.parentNode.appendChild(t));var o=document.createElement("div");o.className="jsoneditor-popover jsoneditor-right",o.appendChild(document.createTextNode(e.message));e=document.createElement("button");e.type="button",e.className="jsoneditor-schema-error",e.appendChild(o),e.onmouseover=e.onfocus=function(){for(var e=["right","above","below","left"],t=0;t<e.length;t++){o.className="jsoneditor-popover jsoneditor-"+e[t];var n=this.editor.content.getBoundingClientRect(),i=o.getBoundingClientRect();if(j.insideRect(n,i,20))break}}.bind(this);var n=this.errorChild;for(n&&(e.onclick=function(){n.findParents().forEach(function(e){e.expand(!1)}),n.scrollTo(function(){n.focus()})});t.firstChild;)t.removeChild(t.firstChild);t.appendChild(e)}else t&&(this.dom.tdError.parentNode.removeChild(this.dom.tdError),delete this.dom.tdError)},_.prototype.getIndex=function(){if(this.parent){var e=this.parent.childs.indexOf(this);return-1!==e?e:null}return-1},_.prototype.setParent=function(e){this.parent=e},_.prototype.setField=function(e,t){this.field=e,this.previousField=e,this.fieldEditable=!0===t},_.prototype.getField=function(){return void 0===this.field&&this._getDomField(),this.field},_.prototype.setValue=function(e,t){var n,i,o,r,s,a=this.childs;if(this.type=this._getType(e),t&&t!==this.type){if("string"!==t||"auto"!==this.type)throw new Error('Type mismatch: cannot cast value of type "'+this.type+' to the specified type "'+t+'"');this.type=t}if("array"===this.type){for(this.childs||(this.childs=[]),r=0;r<e.length;r++)void 0===(n=e[r])||n instanceof Function||(r<this.childs.length?((i=this.childs[r]).fieldEditable=!1,i.index=r,i.setValue(n)):(i=new _(this.editor,{value:n}),o=r<this.MAX_VISIBLE_CHILDS,this.appendChild(i,o,!1)));for(s=this.childs.length;s>=e.length;s--)this.removeChild(this.childs[s],!1)}else if("object"===this.type){for(this.childs||(this.childs=[]),s=this.childs.length-1;0<=s;s--)e.hasOwnProperty(this.childs[s].field)||this.removeChild(this.childs[s],!1);for(var l in r=0,e)e.hasOwnProperty(l)&&(n=e[l],void 0===n||n instanceof Function||(i=this.findChildByProperty(l),i?(i.setField(l,!0),i.setValue(n)):(i=new _(this.editor,{field:l,value:n}),o=r<this.MAX_VISIBLE_CHILDS,this.appendChild(i,o,!1))),r++);!(this.value="")===this.editor.options.sortObjectKeys&&this.sort([],"asc")}else this.hideChilds(),delete this.append,delete this.showMore,delete this.expanded,delete this.childs,this.value=e;Array.isArray(a)!==Array.isArray(this.childs)&&this.recreateDom(),this.updateDom({updateIndexes:!0}),this.previousValue=this.value},_.prototype.setInternalValue=function(e){var t,n,i,o,r,s=this.childs;if(this.type=e.type,"array"===e.type){for(this.childs||(this.childs=[]),o=0;o<e.childs.length;o++)void 0===(t=e.childs[o])||t instanceof Function||(o<this.childs.length?((n=this.childs[o]).fieldEditable=!1,n.index=o,n.setInternalValue(t)):(n=new _(this.editor,{internalValue:t}),i=o<this.MAX_VISIBLE_CHILDS,this.appendChild(n,i,!1)));for(r=this.childs.length;r>=e.childs.length;r--)this.removeChild(this.childs[r],!1)}else if("object"===e.type){for(this.childs||(this.childs=[]),o=0;o<e.childs.length;o++)void 0===(t=e.childs[o])||t instanceof Function||(o<this.childs.length?(delete(n=this.childs[o]).index,n.setField(t.field,!0),n.setInternalValue(t.value)):(n=new _(this.editor,{field:t.field,internalValue:t.value}),i=o<this.MAX_VISIBLE_CHILDS,this.appendChild(n,i,!1)));for(r=this.childs.length;r>=e.childs.length;r--)this.removeChild(this.childs[r],!1)}else this.hideChilds(),delete this.append,delete this.showMore,delete this.expanded,delete this.childs,this.value=e.value;Array.isArray(s)!==Array.isArray(this.childs)&&this.recreateDom(),this.updateDom({updateIndexes:!0}),this.previousValue=this.value},_.prototype.recreateDom=function(){var e;this.dom&&this.dom.tr&&this.dom.tr.parentNode&&(e=this._detachFromDom(),this.clearDom(),this._attachToDom(e))},_.prototype.getValue=function(){if("array"==this.type){var t=[];return this.childs.forEach(function(e){t.push(e.getValue())}),t}if("object"!=this.type)return void 0===this.value&&this._getDomValue(),this.value;var n={};return this.childs.forEach(function(e){n[e.getField()]=e.getValue()}),n},_.prototype.getInternalValue=function(){return"array"===this.type?{type:this.type,childs:this.childs.map(function(e){return e.getInternalValue()})}:"object"===this.type?{type:this.type,childs:this.childs.map(function(e){return{field:e.getField(),value:e.getInternalValue()}})}:(void 0===this.value&&this._getDomValue(),{type:this.type,value:this.value})},_.prototype.getLevel=function(){return this.parent?this.parent.getLevel()+1:0},_.prototype.getNodePath=function(){var e=this.parent?this.parent.getNodePath():[];return e.push(this),e},_.prototype.clone=function(){var t,n=new _(this.editor);return n.type=this.type,n.field=this.field,n.fieldInnerText=this.fieldInnerText,n.fieldEditable=this.fieldEditable,n.previousField=this.previousField,n.value=this.value,n.valueInnerText=this.valueInnerText,n.previousValue=this.previousValue,n.expanded=this.expanded,n.visibleChilds=this.visibleChilds,this.childs?(t=[],this.childs.forEach(function(e){e=e.clone();e.setParent(n),t.push(e)}),n.childs=t):n.childs=void 0,n},_.prototype.expand=function(t){this.childs&&(this.expanded=!0,this.dom.expand&&(this.dom.expand.className="jsoneditor-expanded"),this.showChilds(),!1!==t&&this.childs.forEach(function(e){e.expand(t)}))},_.prototype.collapse=function(t){this.childs&&(this.hideChilds(),!1!==t&&this.childs.forEach(function(e){e.collapse(t)}),this.dom.expand&&(this.dom.expand.className="jsoneditor-collapsed"),this.expanded=!1)},_.prototype.showChilds=function(){if(this.childs&&this.expanded){var e=this.dom.tr,t=e?e.parentNode:void 0;if(t){var n=this.getAppendDom();n.parentNode||((o=e.nextSibling)?t.insertBefore(n,o):t.appendChild(n));for(var i=Math.min(this.childs.length,this.visibleChilds),o=this._getNextTr(),r=0;r<i;r++){var s=this.childs[r];s.getDom().parentNode||t.insertBefore(s.getDom(),o),s.showChilds()}n=this.getShowMoreDom(),o=this._getNextTr();n.parentNode||t.insertBefore(n,o),this.showMore.updateDom()}}},_.prototype._getNextTr=function(){return this.showMore&&this.showMore.getDom().parentNode?this.showMore.getDom():this.append&&this.append.getDom().parentNode?this.append.getDom():void 0},_.prototype.hide=function(e){var t=this.dom.tr,n=t?t.parentNode:void 0;n&&n.removeChild(t),this.hideChilds(e)},_.prototype.hideChilds=function(e){var t;this.childs&&this.expanded&&((t=this.getAppendDom()).parentNode&&t.parentNode.removeChild(t),this.childs.forEach(function(e){e.hide()}),(t=this.getShowMoreDom()).parentNode&&t.parentNode.removeChild(t),e&&!e.resetVisibleChilds||delete this.visibleChilds)},_.prototype.expandTo=function(){for(var e=this.parent;e;)e.expanded||e.expand(),e=e.parent},_.prototype.appendChild=function(e,t,n){var i,o;this._hasChilds()&&(e.setParent(this),e.fieldEditable="object"==this.type,"array"==this.type&&(e.index=this.childs.length),"object"===this.type&&null==e.field&&e.setField(""),this.childs.push(e),this.expanded&&!1!==t&&(i=e.getDom(),t=(o=this._getNextTr())?o.parentNode:void 0,o&&t&&t.insertBefore(i,o),e.showChilds(),this.visibleChilds++),!1!==n&&(this.updateDom({updateIndexes:!0}),e.updateDom({recurse:!0})))},_.prototype.moveBefore=function(e,t){var n,i,o;this._hasChilds()&&((n=this.dom.tr?this.dom.tr.parentNode:void 0)&&((i=document.createElement("tr")).style.height=n.clientHeight+"px",n.appendChild(i)),e.parent&&e.parent.removeChild(e),t instanceof P||!t?this.childs.length+1>this.visibleChilds?(o=this.childs[this.visibleChilds-1],this.insertBefore(e,o)):this.appendChild(e):this.insertBefore(e,t),n&&n.removeChild(i))},_.prototype.insertBefore=function(e,t){if(this._hasChilds()){if(this.visibleChilds++,"object"===this.type&&null==e.field&&e.setField(""),t===this.append)e.setParent(this),e.fieldEditable="object"==this.type,this.childs.push(e);else{var n=this.childs.indexOf(t);if(-1==n)throw new Error("Node not found");e.setParent(this),e.fieldEditable="object"==this.type,this.childs.splice(n,0,e)}var i;this.expanded&&(i=e.getDom(),t=(n=t.getDom())?n.parentNode:void 0,n&&t&&t.insertBefore(i,n),e.showChilds(),this.showChilds()),this.updateDom({updateIndexes:!0}),e.updateDom({recurse:!0})}},_.prototype.insertAfter=function(e,t){this._hasChilds()&&(t=this.childs.indexOf(t),(t=this.childs[t+1])?this.insertBefore(e,t):this.appendChild(e))},_.prototype.search=function(t,n){Array.isArray(n)||(n=[]);var e=t?t.toLowerCase():void 0;return delete this.searchField,delete this.searchValue,void 0!==this.field&&n.length<=this.MAX_SEARCH_RESULTS&&(-1!==String(this.field).toLowerCase().indexOf(e)&&(this.searchField=!0,n.push({node:this,elem:"field"})),this._updateDomField()),this._hasChilds()?this.childs&&this.childs.forEach(function(e){e.search(t,n)}):void 0!==this.value&&n.length<=this.MAX_SEARCH_RESULTS&&(-1!==String(this.value).toLowerCase().indexOf(e)&&(this.searchValue=!0,n.push({node:this,elem:"value"})),this._updateDomValue()),n},_.prototype.scrollTo=function(e){this.expandPathToNode(),this.dom.tr&&this.dom.tr.parentNode&&this.editor.scrollTo(this.dom.tr.offsetTop,e)},_.prototype.expandPathToNode=function(){for(var e=this;e&&e.parent;){for(var t="array"===e.parent.type?e.index:e.parent.childs.indexOf(e);e.parent.visibleChilds<t+1;)e.parent.visibleChilds+=_.prototype.MAX_VISIBLE_CHILDS;e.parent.expand(!1),e=e.parent}},_.focusElement=void 0,_.prototype.focus=function(e){if(_.focusElement=e,this.dom.tr&&this.dom.tr.parentNode){var t=this.dom;switch(e){case"drag":(t.drag||t.menu).focus();break;case"menu":t.menu.focus();break;case"expand":this._hasChilds()?t.expand.focus():t.field&&this.fieldEditable?(t.field.focus(),j.selectContentEditable(t.field)):t.value&&!this._hasChilds()?(t.value.focus(),j.selectContentEditable(t.value)):t.menu.focus();break;case"field":t.field&&this.fieldEditable?(t.field.focus(),j.selectContentEditable(t.field)):t.value&&!this._hasChilds()?(t.value.focus(),j.selectContentEditable(t.value)):(this._hasChilds()?t.expand:t.menu).focus();break;default:t.select?t.select.focus():t.value&&!this._hasChilds()?(t.value.focus(),j.selectContentEditable(t.value)):t.field&&this.fieldEditable?(t.field.focus(),j.selectContentEditable(t.field)):(this._hasChilds()?t.expand:t.menu).focus()}}},_.select=function(e){setTimeout(function(){j.selectContentEditable(e)},0)},_.prototype.blur=function(){this._getDomValue(!1),this._getDomField(!1)},_.prototype.containsNode=function(e){if(this==e)return!0;var t=this.childs;if(t)for(var n=0,i=t.length;n<i;n++)if(t[n].containsNode(e))return!0;return!1},_.prototype.removeChild=function(e,t){if(this.childs){var n=this.childs.indexOf(e);if(-1!==n){n<this.visibleChilds&&this.expanded&&this.visibleChilds--,e.hide(),delete e.searchField,delete e.searchValue;n=this.childs.splice(n,1)[0];return n.parent=null,!1!==t&&this.updateDom({updateIndexes:!0}),n}}},_.prototype._remove=function(e){this.removeChild(e)},_.prototype.changeType=function(e){var t,n=this.type;n!=e&&("string"!=e&&"auto"!=e||"string"!=n&&"auto"!=n?(t=this._detachFromDom(),this.clearDom(),"object"==(this.type=e)?(this.childs||(this.childs=[]),this.childs.forEach(function(e,t){e.clearDom(),delete e.index,e.fieldEditable=!0,null==e.field&&(e.field="")}),"string"!=n&&"auto"!=n||(this.expanded=!0)):"array"==e?(this.childs||(this.childs=[]),this.childs.forEach(function(e,t){e.clearDom(),e.fieldEditable=!1,e.index=t}),"string"!=n&&"auto"!=n||(this.expanded=!0)):this.expanded=!1,this._attachToDom(t)):this.type=e,"auto"!=e&&"string"!=e||(this.value="string"==e?String(this.value):this._stringCast(String(this.value)),this.focus()),this.updateDom({updateIndexes:!0}))},_.prototype.deepEqual=function(e){if("array"===this.type){if(!Array.isArray(e))return!1;if(this.childs.length!==e.length)return!1;for(i=0;i<this.childs.length;i++)if(!this.childs[i].deepEqual(e[i]))return!1}else if("object"===this.type){if("object"!=typeof e)return!1;for(var t={},n=0,i=0;i<this.childs.length;i++){var o=this.childs[i];if(!t[o.field]){if(t[o.field]=!0,n++,!(o.field in e))return!1;if(!o.deepEqual(e[o.field]))return!1}}if(n!==Object.keys(e).length)return!1}else if(this.value!==e)return!1;return!0},_.prototype._getDomValue=function(e){if(this.dom.value&&"array"!=this.type&&"object"!=this.type&&(this.valueInnerText=j.getInnerText(this.dom.value)),null!=this.valueInnerText)try{var t,n;(n="string"==this.type?this._unescapeHTML(this.valueInnerText):(t=this._unescapeHTML(this.valueInnerText),this._stringCast(t)))!==this.value&&(this.value=n,this._debouncedOnChangeValue())}catch(n){if(!(this.value=void 0)!==e)throw n}},_.prototype._onChangeValue=function(){var e=this.editor.getDomSelection();e.range&&(t=j.textDiff(String(this.value),String(this.previousValue)),e.range.startOffset=t.start,e.range.endOffset=t.end);var t,n=this.editor.getDomSelection();n.range&&(t=j.textDiff(String(this.previousValue),String(this.value)),n.range.startOffset=t.start,n.range.endOffset=t.end),this.editor._onAction("editValue",{path:this.getInternalPath(),oldValue:this.previousValue,newValue:this.value,oldSelection:e,newSelection:n}),this.previousValue=this.value},_.prototype._onChangeField=function(){var e=this.editor.getDomSelection(),t=this.previousField||"";e.range&&(n=j.textDiff(this.field,t),e.range.startOffset=n.start,e.range.endOffset=n.end);var n=this.editor.getDomSelection();n.range&&(t=j.textDiff(t,this.field),n.range.startOffset=t.start,n.range.endOffset=t.end),this.editor._onAction("editField",{parentPath:this.parent.getInternalPath(),index:this.getIndex(),oldValue:this.previousField,newValue:this.field,oldSelection:e,newSelection:n}),this.previousField=this.field},_.prototype._updateDomValue=function(){var e=this.dom.value;if(e){var t=["jsoneditor-value"],n=this.value,i="auto"==this.type?j.type(n):this.type,n="string"==i&&j.isUrl(n);if(t.push("jsoneditor-"+i),n&&t.push("jsoneditor-url"),""==String(this.value)&&"array"!=this.type&&"object"!=this.type&&t.push("jsoneditor-empty"),this.searchValueActive&&t.push("jsoneditor-highlight-active"),this.searchValue&&t.push("jsoneditor-highlight"),e.className=t.join(" "),"array"==i||"object"==i?(t=this.childs?this.childs.length:0,e.title=this.type+" containing "+t+" items"):n&&this.editable.value?e.title=u("openUrl"):e.title="","boolean"===i&&this.editable.value?(this.dom.checkbox||(this.dom.checkbox=document.createElement("input"),this.dom.checkbox.type="checkbox",this.dom.tdCheckbox=document.createElement("td"),this.dom.tdCheckbox.className="jsoneditor-tree",this.dom.tdCheckbox.appendChild(this.dom.checkbox),this.dom.tdValue.parentNode.insertBefore(this.dom.tdCheckbox,this.dom.tdValue)),this.dom.checkbox.checked=this.value):this.dom.tdCheckbox&&(this.dom.tdCheckbox.parentNode.removeChild(this.dom.tdCheckbox),delete this.dom.tdCheckbox,delete this.dom.checkbox),this.enum&&this.editable.value){if(!this.dom.select){this.dom.select=document.createElement("select"),this.id=this.field+"_"+(new Date).getUTCMilliseconds(),this.dom.select.id=this.id,this.dom.select.name=this.dom.select.id,this.dom.select.option=document.createElement("option"),this.dom.select.option.value="",this.dom.select.option.innerHTML="--",this.dom.select.appendChild(this.dom.select.option);for(var o=0;o<this.enum.length;o++)this.dom.select.option=document.createElement("option"),this.dom.select.option.value=this.enum[o],this.dom.select.option.innerHTML=this.enum[o],this.dom.select.option.value==this.value&&(this.dom.select.option.selected=!0),this.dom.select.appendChild(this.dom.select.option);this.dom.tdSelect=document.createElement("td"),this.dom.tdSelect.className="jsoneditor-tree",this.dom.tdSelect.appendChild(this.dom.select),this.dom.tdValue.parentNode.insertBefore(this.dom.tdSelect,this.dom.tdValue)}!this.schema||this.schema.hasOwnProperty("oneOf")||this.schema.hasOwnProperty("anyOf")||this.schema.hasOwnProperty("allOf")?delete this.valueFieldHTML:(this.valueFieldHTML=this.dom.tdValue.innerHTML,this.dom.tdValue.style.visibility="hidden",this.dom.tdValue.innerHTML="")}else this.dom.tdSelect&&(this.dom.tdSelect.parentNode.removeChild(this.dom.tdSelect),delete this.dom.tdSelect,delete this.dom.select,this.dom.tdValue.innerHTML=this.valueFieldHTML,this.dom.tdValue.style.visibility="",delete this.valueFieldHTML);j.stripFormatting(e)}},_.prototype._updateDomField=function(){var e=this.dom.field;e&&(""==String(this.field)&&"array"!=this.parent.type?j.addClassName(e,"jsoneditor-empty"):j.removeClassName(e,"jsoneditor-empty"),this.searchFieldActive?j.addClassName(e,"jsoneditor-highlight-active"):j.removeClassName(e,"jsoneditor-highlight-active"),this.searchField?j.addClassName(e,"jsoneditor-highlight"):j.removeClassName(e,"jsoneditor-highlight"),j.stripFormatting(e))},_.prototype._getDomField=function(e){if(this.dom.field&&this.fieldEditable&&(this.fieldInnerText=j.getInnerText(this.dom.field)),null!=this.fieldInnerText)try{var t=this._unescapeHTML(this.fieldInnerText);t!==this.field&&(this.field=t,this._debouncedOnChangeField())}catch(t){if(!(this.field=void 0)!==e)throw t}},_.prototype.validate=function(){var e=[];if("object"===this.type){for(var t={},n=[],i=0;i<this.childs.length;i++){var o=this.childs[i];t.hasOwnProperty(o.field)&&n.push(o.field),t[o.field]=!0}0<n.length&&(e=this.childs.filter(function(e){return-1!==n.indexOf(e.field)}).map(function(e){return{node:e,error:{message:u("duplicateKey")+' "'+e.field+'"'}}}))}if(this.childs)for(i=0;i<this.childs.length;i++){var r=this.childs[i].validate();0<r.length&&(e=e.concat(r))}return e},_.prototype.clearDom=function(){this.dom={}},_.prototype.getDom=function(){var e,t=this.dom;if(t.tr)return t.tr;this._updateEditability(),t.tr=document.createElement("tr"),"tree"===(t.tr.node=this).editor.options.mode&&(e=document.createElement("td"),this.editable.field&&this.parent&&((n=document.createElement("button")).type="button",(t.drag=n).className="jsoneditor-dragarea",n.title=u("drag"),e.appendChild(n)),t.tr.appendChild(e),n=document.createElement("td"),(e=document.createElement("button")).type="button",(t.menu=e).className="jsoneditor-contextmenu",e.title=u("actionsMenu"),n.appendChild(t.menu),t.tr.appendChild(n));var n=document.createElement("td");return t.tr.appendChild(n),t.tree=this._createDomTree(),n.appendChild(t.tree),this.updateDom({updateIndexes:!0}),t.tr},_.prototype.isVisible=function(){return this.dom&&this.dom.tr&&this.dom.tr.parentNode||!1},_.onDragStart=function(t,e){if(!Array.isArray(t))return _.onDragStart([t],e);var n,i,o,r,s;0!==t.length&&(n=t[0],i=t[t.length-1],o=n.parent,s=_.getNodeFromTarget(e.target),r=n.editor,s=j.getAbsoluteTop(s.dom.tr)-j.getAbsoluteTop(n.dom.tr),r.mousemove||(r.mousemove=j.addEventListener(window,"mousemove",function(e){_.onDrag(t,e)})),r.mouseup||(r.mouseup=j.addEventListener(window,"mouseup",function(e){_.onDragEnd(t,e)})),r.highlighter.lock(),r.drag={oldCursor:document.body.style.cursor,oldSelection:r.getDomSelection(),oldPaths:t.map(l),oldParent:o,oldNextNode:o.childs[i.getIndex()+1]||o.append,oldParentPathRedo:o.getInternalPath(),oldIndexRedo:n.getIndex(),mouseX:e.pageX,offsetY:s,level:n.getLevel()},document.body.style.cursor="move",e.preventDefault())},_.onDrag=function(e,t){if(!Array.isArray(e))return _.onDrag([e],t);if(0!==e.length){var n,i,o,r,s,a,l=e[0].editor,c=t.pageY-l.drag.offsetY,d=t.pageX,u=!1,h=e[0],p=h.dom.tr,f=j.getAbsoluteTop(p),m=p.offsetHeight;if(c<f){for(x=p;x=x.previousSibling,i=_.getNodeFromTarget(x),r=x?j.getAbsoluteTop(x):0,x&&c<r;);(i=i&&!i.parent?void 0:i)||(x=(g=p.parentNode.firstChild)?g.nextSibling:void 0,(i=_.getNodeFromTarget(x))==h&&(i=void 0)),i&&i.isVisible()&&((r=(x=i.dom.tr)?j.getAbsoluteTop(x):0)+m<c&&(i=void 0)),i&&(e.forEach(function(e){i.parent.moveBefore(e,i)}),u=!0)}else{var g,v=e[e.length-1];if(m=(g=v.expanded&&v.append?v.append.getDom():v.dom.tr)?g.nextSibling:void 0){for(s=j.getAbsoluteTop(m),n=m;o=_.getNodeFromTarget(n),n&&(a=n.nextSibling?j.getAbsoluteTop(n.nextSibling):0,a=n?a-s:0,o&&o.parent.childs.length==e.length&&o.parent.childs[e.length-1]==v&&(f+=27),n=n.nextSibling),n&&f+a<c;);if(o&&o.parent){for(var m=d-l.drag.mouseX,m=Math.round(m/24/2),b=l.drag.level+m,y=o.getLevel(),x=o.dom.tr&&o.dom.tr.previousSibling;y<b&&x;){if(i=_.getNodeFromTarget(x),!e.some(function(e){return e===i||i.isDescendantOf(e)})){if(!(i instanceof P))break;var w=i.parent.childs;if(w.length==e.length&&w[e.length-1]==v)break;y=(o=_.getNodeFromTarget(x)).getLevel()}x=x.previousSibling}(o=o instanceof P&&!o.isVisible()&&o.parent.showMore.isVisible()?o._nextNode():o)&&o.dom.tr&&g.nextSibling!=o.dom.tr&&(e.forEach(function(e){o.parent.moveBefore(e,o)}),u=!0)}}}u&&(l.drag.mouseX=d,l.drag.level=h.getLevel()),l.startAutoScroll(c),t.preventDefault()}},_.onDragEnd=function(e,t){if(!Array.isArray(e))return _.onDrag([e],t);var n,i,o,r,s,a,l,c,d;0!==e.length&&(d=e[0],n=d.editor,e[0]&&e[0].dom.menu.focus(),i=n.drag.oldParent.getInternalPath(),o=d.parent.getInternalPath(),r=n.drag.oldParent===d.parent,s=n.drag.oldNextNode.getIndex(),a=d.getIndex(),l=n.drag.oldParentPathRedo,c=n.drag.oldIndexRedo,d=r&&c<a?a+e.length:a,r&&c===a||n._onAction("moveNodes",{count:e.length,fieldNames:e.map(A),oldParentPath:i,newParentPath:o,oldIndex:s,newIndex:a,oldIndexRedo:c,newIndexRedo:d,oldParentPathRedo:l,newParentPathRedo:null,oldSelection:n.drag.oldSelection,newSelection:n.getDomSelection()}),document.body.style.cursor=n.drag.oldCursor,n.highlighter.unlock(),e.forEach(function(e){t.target!==e.dom.drag&&t.target!==e.dom.menu&&n.highlighter.unhighlight()}),delete n.drag,n.mousemove&&(j.removeEventListener(window,"mousemove",n.mousemove),delete n.mousemove),n.mouseup&&(j.removeEventListener(window,"mouseup",n.mouseup),delete n.mouseup),n.stopAutoScroll(),t.preventDefault())},_.prototype.isDescendantOf=function(e){for(var t=this.parent;t;){if(t==e)return!0;t=t.parent}return!1},_.prototype._createDomField=function(){return document.createElement("div")},_.prototype.setHighlight=function(t){this.dom.tr&&(t?j.addClassName(this.dom.tr,"jsoneditor-highlight"):j.removeClassName(this.dom.tr,"jsoneditor-highlight"),this.append&&this.append.setHighlight(t),this.childs&&this.childs.forEach(function(e){e.setHighlight(t)}))},_.prototype.setSelected=function(t,e){this.selected=t,this.dom.tr&&(t?j.addClassName(this.dom.tr,"jsoneditor-selected"):j.removeClassName(this.dom.tr,"jsoneditor-selected"),e?j.addClassName(this.dom.tr,"jsoneditor-first"):j.removeClassName(this.dom.tr,"jsoneditor-first"),this.append&&this.append.setSelected(t),this.showMore&&this.showMore.setSelected(t),this.childs&&this.childs.forEach(function(e){e.setSelected(t)}))},_.prototype.updateValue=function(e){this.value=e,this.previousValue=e,this.updateDom()},_.prototype.updateField=function(e){this.field=e,this.previousField=e,this.updateDom()},_.prototype.updateDom=function(t){var e=this.dom.tree;e&&(e.style.marginLeft=24*this.getLevel()+"px");e=this.dom.field;e&&(this.fieldEditable?(e.contentEditable=this.editable.field,e.spellcheck=!1,e.className="jsoneditor-field"):e.className="jsoneditor-readonly",n=null!=this.index?this.index:null!=this.field?this.field:this._hasChilds()?this.type:"",e.innerHTML=this._escapeHTML(n),this._updateSchema());var n,e=this.dom.value;e&&(n=this.childs?this.childs.length:0,"array"==this.type?(e.innerHTML="["+n+"]",j.addClassName(this.dom.tr,"jsoneditor-expandable")):"object"==this.type?(e.innerHTML="{"+n+"}",j.addClassName(this.dom.tr,"jsoneditor-expandable")):(e.innerHTML=this._escapeHTML(this.value),j.removeClassName(this.dom.tr,"jsoneditor-expandable"))),this._updateDomField(),this._updateDomValue(),t&&!0===t.updateIndexes&&this._updateDomIndexes(),t&&!0===t.recurse&&this.childs&&this.childs.forEach(function(e){e.updateDom(t)}),this.error&&this.updateError(),this.append&&this.append.updateDom(),this.showMore&&this.showMore.updateDom()},_.prototype._updateSchema=function(){this.editor&&this.editor.options&&(this.schema=this.editor.options.schema?_._findSchema(this.editor.options.schema,this.getPath()):null,this.schema?this.enum=_._findEnum(this.schema):delete this.enum)},_._findEnum=function(e){if(e.enum)return e.enum;e=e.oneOf||e.anyOf||e.allOf;if(e){e=e.filter(function(e){return e.enum});if(0<e.length)return e[0].enum}return null},_._findSchema=function(e,t){for(var n=r=e,i=(i=e.oneOf||e.anyOf||e.allOf)||[e],o=0;o<i.length;o++)for(var r=i[o],s=0;s<t.length&&r;s++){var a=t[s];if("string"==typeof a&&r.patternProperties&&s==t.length-1)for(var l in r.patternProperties)n=_._findSchema(r.patternProperties[l],t.slice(s,t.length));else r.items&&r.items.properties?(r=r.items.properties[a])&&(n=_._findSchema(r,t.slice(s,t.length))):"string"==typeof a&&r.properties?(r=r.properties[a]||null)&&(n=_._findSchema(r,t.slice(s,t.length))):"number"==typeof a&&r.items&&(r=r.items)&&(n=_._findSchema(r,t.slice(s,t.length)))}return n},_.prototype._updateDomIndexes=function(){var e=this.dom.value,t=this.childs;e&&t&&("array"==this.type?t.forEach(function(e,t){e.index=t;e=e.dom.field;e&&(e.innerHTML=t)}):"object"==this.type&&t.forEach(function(e){null!=e.index&&(delete e.index,null==e.field&&(e.field=""))}))},_.prototype._createDomValue=function(){var e;return"array"==this.type?(e=document.createElement("div")).innerHTML="[...]":"object"==this.type?(e=document.createElement("div")).innerHTML="{...}":(!this.editable.value&&j.isUrl(this.value)?(e=document.createElement("a")).href=this.value:((e=document.createElement("div")).contentEditable=this.editable.value,e.spellcheck=!1),e.innerHTML=this._escapeHTML(this.value)),e},_.prototype._createDomExpandButton=function(){var e=document.createElement("button");return e.type="button",this._hasChilds()?(e.className=this.expanded?"jsoneditor-expanded":"jsoneditor-collapsed",e.title=u("expandTitle")):(e.className="jsoneditor-invisible",e.title=""),e},_.prototype._createDomTree=function(){var e=this.dom,t=document.createElement("table"),n=document.createElement("tbody");t.style.borderCollapse="collapse",t.className="jsoneditor-values",t.appendChild(n);var i=document.createElement("tr");n.appendChild(i);n=document.createElement("td");n.className="jsoneditor-tree",i.appendChild(n),e.expand=this._createDomExpandButton(),n.appendChild(e.expand),e.tdExpand=n;n=document.createElement("td");n.className="jsoneditor-tree",i.appendChild(n),e.field=this._createDomField(),n.appendChild(e.field),e.tdField=n;n=document.createElement("td");n.className="jsoneditor-tree",i.appendChild(n),"object"!=this.type&&"array"!=this.type&&(n.appendChild(document.createTextNode(":")),n.className="jsoneditor-separator"),e.tdSeparator=n;n=document.createElement("td");return n.className="jsoneditor-tree",i.appendChild(n),e.value=this._createDomValue(),n.appendChild(e.value),e.tdValue=n,t},_.prototype.onEvent=function(e){var t,n=e.type,i=e.target||e.srcElement,o=this.dom,r=this,s=this._hasChilds();i!=o.drag&&i!=o.menu||("mouseover"==n?this.editor.highlighter.highlight(this):"mouseout"==n&&this.editor.highlighter.unhighlight()),"click"==n&&i==o.menu&&((t=r.editor.highlighter).highlight(r),t.lock(),j.addClassName(o.menu,"jsoneditor-selected"),this.showContextMenu(o.menu,function(){j.removeClassName(o.menu,"jsoneditor-selected"),t.unlock(),t.unhighlight()})),"click"!=n||i!=o.expand&&("view"!==r.editor.options.mode&&"form"!==r.editor.options.mode||"DIV"!==i.nodeName)||!s||(c=e.ctrlKey,this._onExpand(c)),"change"==n&&i==o.checkbox&&(this.dom.value.innerHTML=!this.value,this._getDomValue()),"change"==n&&i==o.select&&(this.dom.value.innerHTML=o.select.value,this._getDomValue(),this._updateDomValue());var a=o.value;if(i==a)switch(n){case"blur":case"change":this._getDomValue(!0),this._updateDomValue(),this.value&&(a.innerHTML=this._escapeHTML(this.value));break;case"input":this._getDomValue(!0),this._updateDomValue();break;case"keydown":case"mousedown":this.editor.selection=this.editor.getDomSelection();break;case"click":e.ctrlKey&&this.editable.value&&j.isUrl(this.value)&&(e.preventDefault(),window.open(this.value,"_blank"));break;case"keyup":this._getDomValue(!0),this._updateDomValue();break;case"cut":case"paste":setTimeout(function(){r._getDomValue(!0),r._updateDomValue()},1)}var l=o.field;if(i==l)switch(n){case"blur":case"change":this._getDomField(!0),this._updateDomField(),this.field&&(l.innerHTML=this._escapeHTML(this.field));break;case"input":this._getDomField(!0),this._updateSchema(),this._updateDomField(),this._updateDomValue();break;case"keydown":case"mousedown":this.editor.selection=this.editor.getDomSelection();break;case"keyup":this._getDomField(!0),this._updateDomField();break;case"cut":case"paste":setTimeout(function(){r._getDomField(!0),r._updateDomField()},1)}var c=o.tree;c&&i==c.parentNode&&"click"==n&&!e.hasMoved&&((null!=e.offsetX?e.offsetX<24*(this.getLevel()+1):e.pageX<j.getAbsoluteLeft(o.tdSeparator))||s?l&&(j.setEndOfContentEditable(l),l.focus()):a&&!this.enum&&(j.setEndOfContentEditable(a),a.focus())),(i!=o.tdExpand||s)&&i!=o.tdField&&i!=o.tdSeparator||"click"!=n||e.hasMoved||l&&(j.setEndOfContentEditable(l),l.focus()),"keydown"==n&&this.onKeyDown(e)},_.prototype.onKeyDown=function(e){var t,n,i,o,r,s,a,l,c,d,u,h,p,f,m,g,v=e.which||e.keyCode,b=e.target||e.srcElement,y=e.ctrlKey,x=e.shiftKey,w=e.altKey,C=!1,k="tree"===this.editor.options.mode,S=0<this.editor.multiselection.nodes.length?this.editor.multiselection.nodes:[this],T=S[0],E=S[S.length-1];13==v?b==this.dom.value?this.editable.value&&!e.ctrlKey||j.isUrl(this.value)&&(window.open(this.value,"_blank"),C=!0):b==this.dom.expand&&this._hasChilds()&&(u=e.ctrlKey,this._onExpand(u),b.focus(),C=!0):68==v?y&&k&&(_.onDuplicate(S),C=!0):69==v?y&&(this._onExpand(x),b.focus(),C=!0):77==v&&k?y&&(this.showContextMenu(b),C=!0):46==v&&k?y&&(_.onRemove(S),C=!0):45==v&&k?y&&!x?(this._onInsertBefore(),C=!0):y&&x&&(this._onInsertAfter(),C=!0):35==v?w&&((u=this._lastNode())&&u.focus(_.focusElement||this._getElementName(b)),C=!0):36==v?w&&((h=this._firstNode())&&h.focus(_.focusElement||this._getElementName(b)),C=!0):37==v?w&&!x?((h=this._previousElement(b))&&this.focus(this._getElementName(h)),C=!0):w&&x&&k&&(p=E.expanded?(p=E.getAppendDom())?p.nextSibling:void 0:E.getDom().nextSibling)&&(m=_.getNodeFromTarget(p),p=p.nextSibling,g=_.getNodeFromTarget(p),m&&m instanceof P&&1!=E.parent.childs.length&&g&&g.parent&&(n=this.editor.getDomSelection(),i=(o=T.parent).childs[E.getIndex()+1]||o.append,r=T.getIndex(),s=g.getIndex(),a=o.getInternalPath(),l=g.parent.getInternalPath(),S.forEach(function(e){g.parent.moveBefore(e,g)}),this.focus(_.focusElement||this._getElementName(b)),this.editor._onAction("moveNodes",{count:S.length,fieldNames:S.map(A),oldParentPath:o.getInternalPath(),newParentPath:T.parent.getInternalPath(),oldIndex:i.getIndex(),newIndex:T.getIndex(),oldIndexRedo:r,newIndexRedo:s,oldParentPathRedo:a,newParentPathRedo:l,oldSelection:n,newSelection:this.editor.getDomSelection()}))):38==v?w&&!x?((t=this._previousNode())&&(this.editor.deselect(!0),t.focus(_.focusElement||this._getElementName(b))),C=!0):!w&&y&&x&&k?((t=this._previousNode())&&((d=this.editor.multiselection).start=d.start||this,d.end=t,c=this.editor._findTopLevelNodes(d.start,d.end),this.editor.select(c),t.focus("field")),C=!0):w&&x&&k&&((t=T._previousNode())&&t.parent&&(n=this.editor.getDomSelection(),i=(o=T.parent).childs[E.getIndex()+1]||o.append,r=T.getIndex(),s=t.getIndex(),a=o.getInternalPath(),l=t.parent.getInternalPath(),S.forEach(function(e){t.parent.moveBefore(e,t)}),this.focus(_.focusElement||this._getElementName(b)),this.editor._onAction("moveNodes",{count:S.length,fieldNames:S.map(A),oldParentPath:o.getInternalPath(),newParentPath:T.parent.getInternalPath(),oldIndex:i.getIndex(),newIndex:T.getIndex(),oldIndexRedo:r,newIndexRedo:s,oldParentPathRedo:a,newParentPathRedo:l,oldSelection:n,newSelection:this.editor.getDomSelection()})),C=!0):39==v?w&&!x?((f=this._nextElement(b))&&this.focus(this._getElementName(f)),C=!0):w&&x&&k&&((f=T.getDom().previousSibling)&&(t=_.getNodeFromTarget(f))&&t.parent&&!t.isVisible()&&(n=this.editor.getDomSelection(),i=(o=T.parent).childs[E.getIndex()+1]||o.append,r=T.getIndex(),s=t.getIndex(),a=o.getInternalPath(),l=t.parent.getInternalPath(),S.forEach(function(e){t.parent.moveBefore(e,t)}),this.focus(_.focusElement||this._getElementName(b)),this.editor._onAction("moveNodes",{count:S.length,fieldNames:S.map(A),oldParentPath:o.getInternalPath(),newParentPath:T.parent.getInternalPath(),oldIndex:i.getIndex(),newIndex:T.getIndex(),oldIndexRedo:r,newIndexRedo:s,oldParentPathRedo:a,newParentPathRedo:l,oldSelection:n,newSelection:this.editor.getDomSelection()}))):40==v&&(w&&!x?((m=this._nextNode())&&(this.editor.deselect(!0),m.focus(_.focusElement||this._getElementName(b))),C=!0):!w&&y&&x&&k?((m=this._nextNode())&&((d=this.editor.multiselection).start=d.start||this,d.end=m,c=this.editor._findTopLevelNodes(d.start,d.end),this.editor.select(c),m.focus("field")),C=!0):w&&x&&k&&((g=(m=(m=(m=E.expanded?E.append?E.append._nextNode():void 0:E._nextNode())&&!m.isVisible()?m.parent.showMore:m)&&m instanceof P?E:m)&&(m._nextNode()||m.parent.append))&&g.parent&&(n=this.editor.getDomSelection(),i=(o=T.parent).childs[E.getIndex()+1]||o.append,r=T.getIndex(),s=g.getIndex(),a=o.getInternalPath(),l=g.parent.getInternalPath(),S.forEach(function(e){g.parent.moveBefore(e,g)}),this.focus(_.focusElement||this._getElementName(b)),this.editor._onAction("moveNodes",{count:S.length,fieldNames:S.map(A),oldParentPath:o.getInternalPath(),newParentPath:T.parent.getInternalPath(),oldParentPathRedo:a,newParentPathRedo:l,oldIndexRedo:r,newIndexRedo:s,oldIndex:i.getIndex(),newIndex:T.getIndex(),oldSelection:n,newSelection:this.editor.getDomSelection()})),C=!0)),C&&(e.preventDefault(),e.stopPropagation())},_.prototype._onExpand=function(e){var t,n,i;e&&(i=(n=(t=this.dom.tr.parentNode).parentNode).scrollTop,n.removeChild(t)),this.expanded?this.collapse(e):this.expand(e),e&&(n.appendChild(t),n.scrollTop=i)},_.onRemove=function(e){if(!Array.isArray(e))return _.onRemove([e]);var t,n,i,o,r,s;e&&0<e.length&&(t=(s=e[0]).parent,n=s.editor,i=s.getIndex(),n.highlighter.unhighlight(),o=n.getDomSelection(),_.blurNodes(e),r=n.getDomSelection(),s=e.map(l),e.forEach(function(e){e.parent._remove(e)}),n._onAction("removeNodes",{nodes:e,paths:s,parentPath:t.getInternalPath(),index:i,oldSelection:o,newSelection:r}))},_.onDuplicate=function(e){if(!Array.isArray(e))return _.onDuplicate([e]);var t,n,i,o,r,s,a;e&&0<e.length&&(t=e[e.length-1],n=t.parent,(i=t.editor).deselect(i.multiselection.nodes),o=i.getDomSelection(),r=t,s=e.map(function(e){e=e.clone();return n.insertAfter(e,r),r=e}),1===e.length?s[0].focus():i.select(s),a=i.getDomSelection(),i._onAction("duplicateNodes",{paths:e.map(l),clonePaths:s.map(l),afterPath:t.getInternalPath(),parentPath:n.getInternalPath(),oldSelection:o,newSelection:a}))},_.prototype._onInsertBefore=function(e,t,n){var i=this.editor.getDomSelection(),e=new _(this.editor,{field:null!=e?e:"",value:null!=t?t:"",type:n});e.expand(!0);t=this.getInternalPath();this.parent.insertBefore(e,this),this.editor.highlighter.unhighlight(),e.focus("field");n=this.editor.getDomSelection();this.editor._onAction("insertBeforeNodes",{nodes:[e],paths:[e.getInternalPath()],beforePath:t,parentPath:this.parent.getInternalPath(),oldSelection:i,newSelection:n})},_.prototype._onInsertAfter=function(e,t,n){var i=this.editor.getDomSelection(),t=new _(this.editor,{field:null!=e?e:"",value:null!=t?t:"",type:n});t.expand(!0),this.parent.insertAfter(t,this),this.editor.highlighter.unhighlight(),t.focus("field");n=this.editor.getDomSelection();this.editor._onAction("insertAfterNodes",{nodes:[t],paths:[t.getInternalPath()],afterPath:this.getInternalPath(),parentPath:this.parent.getInternalPath(),oldSelection:i,newSelection:n})},_.prototype._onAppend=function(e,t,n){var i=this.editor.getDomSelection(),t=new _(this.editor,{field:null!=e?e:"",value:null!=t?t:"",type:n});t.expand(!0),this.parent.appendChild(t),this.editor.highlighter.unhighlight(),t.focus("field");n=this.editor.getDomSelection();this.editor._onAction("appendNodes",{nodes:[t],paths:[t.getInternalPath()],parentPath:this.parent.getInternalPath(),oldSelection:i,newSelection:n})},_.prototype._onChangeType=function(e){var t,n,i=this.type;e!=i&&(t=this.editor.getDomSelection(),this.changeType(e),n=this.editor.getDomSelection(),this.editor._onAction("changeType",{path:this.getInternalPath(),oldType:i,newType:e,oldSelection:t,newSelection:n}))},_.prototype.sort=function(n,e){var t,i;this._hasChilds()&&(this.hideChilds(),t=this.childs,this.childs=this.childs.concat(),i="desc"===e?-1:1,"object"===this.type?this.childs.sort(function(e,t){return i*o(e.field,t.field)}):this.childs.sort(function(e,t){e=e.getNestedChild(n),t=t.getNestedChild(n);if(!e)return i;if(!t)return-i;e=e.value,t=t.value;return"string"!=typeof e&&"string"!=typeof t?t<e?i:e<t?-i:0:i*o(e,t)}),this._updateDomIndexes(),this.editor._onAction("sort",{path:this.getInternalPath(),oldChilds:t,newChilds:this.childs}),this.showChilds())},_.prototype.update=function(e){var t=this.getInternalValue();this.setValue(e),this.editor._onAction("transform",{path:this.getInternalPath(),oldValue:t,newValue:this.getInternalValue()})},_.prototype._detachFromDom=function(){var e=this.dom.tr?this.dom.tr.parentNode:void 0,t=this.expanded?this.getAppendDom():this.getDom(),t=t&&t.parentNode?t.nextSibling:void 0;return this.hide({resetVisibleChilds:!1}),{table:e,nextTr:t}},_.prototype._attachToDom=function(e){e.table&&(e.nextTr?e.table.insertBefore(this.getDom(),e.nextTr):e.table.appendChild(this.getDom())),this.expanded&&this.showChilds()},_.prototype.transform=function(e){if(this._hasChilds()){this.hideChilds();try{var t=this.getInternalValue(),n=i.search(t,e);this.setValue(n),this.editor._onAction("transform",{path:this.getInternalPath(),oldValue:t,newValue:this.getInternalValue()}),this.showChilds()}catch(e){this.showChilds(),this.editor._onError(e)}}},_.prototype.getNestedChild=function(e){for(var t=0,n=this;n&&t<e.length;)n=n.findChildByProperty(e[t]),t++;return n},_.prototype.findChildByProperty=function(t){if("object"===this.type)return this.childs.find(function(e){return e.field===t})},_.prototype.getChildPaths=function(t){var n={};return this._getChildPaths(n,"",t),"array"===this.type&&this.childs.forEach(function(e){e._getChildPaths(n,"",t)}),Object.keys(n).sort()},_.prototype._getChildPaths=function(t,n,i){"auto"!==this.type&&"string"!==this.type&&!i||(t[n||"."]=!0),"object"===this.type&&this.childs.forEach(function(e){e._getChildPaths(t,n+"."+e.field,i)})},_.prototype.getAppendDom=function(){return this.append||(this.append=new P(this.editor),this.append.setParent(this)),this.append.getDom()},_.prototype.getShowMoreDom=function(){return this.showMore||(this.showMore=new p(this.editor,this)),this.showMore.getDom()},_.getNodeFromTarget=function(e){for(;e;){if(e.node)return e.node;e=e.parentNode}},_.blurNodes=function(e){var t,n;Array.isArray(e)?(t=(n=e[0]).parent,n=n.getIndex(),(t.childs[n+e.length]?t.childs[n+e.length]:t.childs[n-1]||t).focus()):_.blurNodes([e])},_.prototype.nextSibling=function(){var e=this.parent.childs.indexOf(this);return this.parent.childs[e+1]||this.parent.append},_.prototype._previousNode=function(){var e=null,t=this.getDom();if(t&&t.parentNode)for(var n=t;n=n.previousSibling,e=_.getNodeFromTarget(n),n&&e&&e instanceof P&&!e.isVisible(););return e},_.prototype._nextNode=function(){var e=null,t=this.getDom();if(t&&t.parentNode)for(var n=t;n=n.nextSibling,e=_.getNodeFromTarget(n),n&&e&&e instanceof P&&!e.isVisible(););return e},_.prototype._firstNode=function(){var e=null,t=this.getDom();return t&&t.parentNode&&(t=t.parentNode.firstChild,e=_.getNodeFromTarget(t)),e},_.prototype._lastNode=function(){var e=null,t=this.getDom();if(t&&t.parentNode)for(var n=t.parentNode.lastChild,e=_.getNodeFromTarget(n);n&&e&&!e.isVisible();)n=n.previousSibling,e=_.getNodeFromTarget(n);return e},_.prototype._previousElement=function(e){var t=this.dom;switch(e){case t.value:if(this.fieldEditable)return t.field;case t.field:if(this._hasChilds())return t.expand;case t.expand:return t.menu;case t.menu:if(t.drag)return t.drag;default:return null}},_.prototype._nextElement=function(e){var t=this.dom;switch(e){case t.drag:return t.menu;case t.menu:if(this._hasChilds())return t.expand;case t.expand:if(this.fieldEditable)return t.field;case t.field:if(!this._hasChilds())return t.value;default:return null}},_.prototype._getElementName=function(e){var t,n=this.dom;for(t in n)if(n.hasOwnProperty(t)&&n[t]==e)return t;return null},_.prototype._hasChilds=function(){return"array"==this.type||"object"==this.type},_.TYPE_TITLES={auto:u("autoType"),object:u("objectType"),array:u("arrayType"),string:u("stringType")},_.prototype.addTemplates=function(t,n){var i=this,e=i.editor.options.templates;null!=e&&(e.length&&t.push({type:"separator"}),e.forEach(function(e){t.push({text:e.text,className:e.className||"jsoneditor-type-object",title:e.title,click:(n?function(e,t){i._onAppend(e,t)}:function(e,t){i._onInsertBefore(e,t)}).bind(this,e.field,e.value)})}))},_.prototype.showContextMenu=function(e,t){var n,i=this,o=_.TYPE_TITLES,r=[];this.editable.value&&r.push({text:u("type"),title:u("typeTitle"),className:"jsoneditor-type-"+this.type,submenu:[{text:u("auto"),className:"jsoneditor-type-auto"+("auto"==this.type?" jsoneditor-selected":""),title:o.auto,click:function(){i._onChangeType("auto")}},{text:u("array"),className:"jsoneditor-type-array"+("array"==this.type?" jsoneditor-selected":""),title:o.array,click:function(){i._onChangeType("array")}},{text:u("object"),className:"jsoneditor-type-object"+("object"==this.type?" jsoneditor-selected":""),title:o.object,click:function(){i._onChangeType("object")}},{text:u("string"),className:"jsoneditor-type-string"+("string"==this.type?" jsoneditor-selected":""),title:o.string,click:function(){i._onChangeType("string")}}]}),this._hasChilds()&&(r.push({text:u("sort"),title:u("sortTitle",{type:this.type}),className:"jsoneditor-sort-asc",click:function(){var e=i.editor.options.modalAnchor||h;c(i,e)}}),r.push({text:u("transform"),title:u("transformTitle",{type:this.type}),className:"jsoneditor-transform",click:function(){var e=i.editor.options.modalAnchor||h;d(i,e)}})),this.parent&&this.parent._hasChilds()&&(r.length&&r.push({type:"separator"}),n=i.parent.childs,i==n[n.length-1]&&(n=[{text:u("auto"),className:"jsoneditor-type-auto",title:o.auto,click:function(){i._onAppend("","","auto")}},{text:u("array"),className:"jsoneditor-type-array",title:o.array,click:function(){i._onAppend("",[])}},{text:u("object"),className:"jsoneditor-type-object",title:o.object,click:function(){i._onAppend("",{})}},{text:u("string"),className:"jsoneditor-type-string",title:o.string,click:function(){i._onAppend("","","string")}}],i.addTemplates(n,!0),r.push({text:u("appendText"),title:u("appendTitle"),submenuTitle:u("appendSubmenuTitle"),className:"jsoneditor-append",click:function(){i._onAppend("","","auto")},submenu:n})),o=[{text:u("auto"),className:"jsoneditor-type-auto",title:o.auto,click:function(){i._onInsertBefore("","","auto")}},{text:u("array"),className:"jsoneditor-type-array",title:o.array,click:function(){i._onInsertBefore("",[])}},{text:u("object"),className:"jsoneditor-type-object",title:o.object,click:function(){i._onInsertBefore("",{})}},{text:u("string"),className:"jsoneditor-type-string",title:o.string,click:function(){i._onInsertBefore("","","string")}}],i.addTemplates(o,!1),r.push({text:u("insert"),title:u("insertTitle"),submenuTitle:u("insertSub"),className:"jsoneditor-insert",click:function(){i._onInsertBefore("","","auto")},submenu:o}),this.editable.field&&(r.push({text:u("duplicateText"),title:u("duplicateField"),className:"jsoneditor-duplicate",click:function(){_.onDuplicate(i)}}),r.push({text:u("removeText"),title:u("removeField"),className:"jsoneditor-remove",click:function(){_.onRemove(i)}}))),new s(r,{close:t}).show(e,this.editor.content)},_.prototype._getType=function(e){return e instanceof Array?"array":e instanceof Object?"object":"string"==typeof e&&"string"!=typeof this._stringCast(e)?"string":"auto"},_.prototype._stringCast=function(e){var t=e.toLowerCase(),n=Number(e),i=parseFloat(e);return""==e?"":"null"==t?null:"true"==t||"false"!=t&&(isNaN(n)||isNaN(i)?e:n)},_.prototype._escapeHTML=function(e){if("string"!=typeof e)return String(e);e=String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/  /g," &nbsp;").replace(/^ /,"&nbsp;").replace(/ $/,"&nbsp;"),e=JSON.stringify(e),e=e.substring(1,e.length-1);return e=!0===this.editor.options.escapeUnicode?j.escapeUnicodeChars(e):e},_.prototype._unescapeHTML=function(e){e='"'+this._escapeJSON(e)+'"';return j.parse(e).replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&nbsp;|\u00A0/g," ").replace(/&amp;/g,"&")},_.prototype._escapeJSON=function(e){for(var t="",n=0;n<e.length;){var i=e.charAt(n);"\n"==i?t+="\\n":"\\"==i?(t+=i,n++,""!==(i=e.charAt(n))&&-1!='"\\/bfnrtu'.indexOf(i)||(t+="\\"),t+=i):t+='"'==i?'\\"':i,n++}return t};var P=r(_),p=a(_);e.exports=_},function(e,t,n){!function(e){"use strict";function k(e){return null!==e&&"[object Array]"===Object.prototype.toString.call(e)}function S(e){return null!==e&&"[object Object]"===Object.prototype.toString.call(e)}function T(e,t){if(e===t)return!0;if(Object.prototype.toString.call(e)!==Object.prototype.toString.call(t))return!1;if(!0===k(e)){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!1===T(e[n],t[n]))return!1;return!0}if(!0!==S(e))return!1;var i,o,r={};for(i in e)if(hasOwnProperty.call(e,i)){if(!1===T(e[i],t[i]))return!1;r[i]=!0}for(o in t)if(hasOwnProperty.call(t,o)&&!0!==r[o])return!1;return!0}function E(e){if(""===e||!1===e||null===e)return!0;if(k(e)&&0===e.length)return!0;if(S(e)){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}return!1}function a(e){return"0"<=e&&e<="9"||"-"===e}function n(){}function r(){}function s(e){this.runtime=e}function l(e){this._interpreter=e,this.functionTable={abs:{_func:this._functionAbs,_signature:[{types:[c]}]},avg:{_func:this._functionAvg,_signature:[{types:[8]}]},ceil:{_func:this._functionCeil,_signature:[{types:[c]}]},contains:{_func:this._functionContains,_signature:[{types:[d,3]},{types:[1]}]},ends_with:{_func:this._functionEndsWith,_signature:[{types:[d]},{types:[d]}]},floor:{_func:this._functionFloor,_signature:[{types:[c]}]},length:{_func:this._functionLength,_signature:[{types:[d,3,4]}]},map:{_func:this._functionMap,_signature:[{types:[6]},{types:[3]}]},max:{_func:this._functionMax,_signature:[{types:[8,9]}]},merge:{_func:this._functionMerge,_signature:[{types:[4],variadic:!0}]},max_by:{_func:this._functionMaxBy,_signature:[{types:[3]},{types:[6]}]},sum:{_func:this._functionSum,_signature:[{types:[8]}]},starts_with:{_func:this._functionStartsWith,_signature:[{types:[d]},{types:[d]}]},min:{_func:this._functionMin,_signature:[{types:[8,9]}]},min_by:{_func:this._functionMinBy,_signature:[{types:[3]},{types:[6]}]},type:{_func:this._functionType,_signature:[{types:[1]}]},keys:{_func:this._functionKeys,_signature:[{types:[4]}]},values:{_func:this._functionValues,_signature:[{types:[4]}]},sort:{_func:this._functionSort,_signature:[{types:[9,8]}]},sort_by:{_func:this._functionSortBy,_signature:[{types:[3]},{types:[6]}]},join:{_func:this._functionJoin,_signature:[{types:[d]},{types:[9]}]},reverse:{_func:this._functionReverse,_signature:[{types:[d,3]}]},to_array:{_func:this._functionToArray,_signature:[{types:[1]}]},to_string:{_func:this._functionToString,_signature:[{types:[1]}]},to_number:{_func:this._functionToNumber,_signature:[{types:[1]}]},not_null:{_func:this._functionNotNull,_signature:[{types:[1],variadic:!0}]}}}var o="function"==typeof String.prototype.trimLeft?function(e){return e.trimLeft()}:function(e){return e.match(/^\s*(.*)/)[1]},c=0,d=2,u={".":"Dot","*":"Star",",":"Comma",":":"Colon","{":"Lbrace","}":"Rbrace","]":"Rbracket","(":"Lparen",")":"Rparen","@":"Current"},h={"<":!0,">":!0,"=":!0,"!":!0},p={" ":!0,"\t":!0,"\n":!0};n.prototype={tokenize:function(e){var t,n,i,o=[];for(this._current=0;this._current<e.length;)if("a"<=(i=e[this._current])&&i<="z"||"A"<=i&&i<="Z"||"_"===i)r=this._current,t=this._consumeUnquotedIdentifier(e),o.push({type:"UnquotedIdentifier",value:t,start:r});else if(void 0!==u[e[this._current]])o.push({type:u[e[this._current]],value:e[this._current],start:this._current}),this._current++;else if(a(e[this._current]))n=this._consumeNumber(e),o.push(n);else if("["===e[this._current])n=this._consumeLBracket(e),o.push(n);else if('"'===e[this._current])r=this._current,t=this._consumeQuotedIdentifier(e),o.push({type:"QuotedIdentifier",value:t,start:r});else if("'"===e[this._current])r=this._current,t=this._consumeRawStringLiteral(e),o.push({type:"Literal",value:t,start:r});else if("`"===e[this._current]){var r=this._current,s=this._consumeLiteral(e);o.push({type:"Literal",value:s,start:r})}else if(void 0!==h[e[this._current]])o.push(this._consumeOperator(e));else if(void 0!==p[e[this._current]])this._current++;else if("&"===e[this._current])r=this._current,this._current++,"&"===e[this._current]?(this._current++,o.push({type:"And",value:"&&",start:r})):o.push({type:"Expref",value:"&",start:r});else{if("|"!==e[this._current]){s=new Error("Unknown character:"+e[this._current]);throw s.name="LexerError",s}r=this._current,this._current++,"|"===e[this._current]?(this._current++,o.push({type:"Or",value:"||",start:r})):o.push({type:"Pipe",value:"|",start:r})}return o},_consumeUnquotedIdentifier:function(e){var t,n=this._current;for(this._current++;this._current<e.length&&("a"<=(t=e[this._current])&&t<="z"||"A"<=t&&t<="Z"||"0"<=t&&t<="9"||"_"===t);)this._current++;return e.slice(n,this._current)},_consumeQuotedIdentifier:function(e){var t=this._current;this._current++;for(var n=e.length;'"'!==e[this._current]&&this._current<n;){var i=this._current;"\\"!==e[i]||"\\"!==e[i+1]&&'"'!==e[i+1]?i++:i+=2,this._current=i}return this._current++,JSON.parse(e.slice(t,this._current))},_consumeRawStringLiteral:function(e){var t=this._current;this._current++;for(var n=e.length;"'"!==e[this._current]&&this._current<n;){var i=this._current;"\\"!==e[i]||"\\"!==e[i+1]&&"'"!==e[i+1]?i++:i+=2,this._current=i}return this._current++,e.slice(t+1,this._current-1).replace("\\'","'")},_consumeNumber:function(e){var t=this._current;this._current++;for(var n=e.length;a(e[this._current])&&this._current<n;)this._current++;return{type:"Number",value:parseInt(e.slice(t,this._current)),start:t}},_consumeLBracket:function(e){var t=this._current;return this._current++,"?"===e[this._current]?(this._current++,{type:"Filter",value:"[?",start:t}):"]"===e[this._current]?(this._current++,{type:"Flatten",value:"[]",start:t}):{type:"Lbracket",value:"[",start:t}},_consumeOperator:function(e){var t=this._current,n=e[t];return this._current++,"!"===n?"="===e[this._current]?(this._current++,{type:"NE",value:"!=",start:t}):{type:"Not",value:"!",start:t}:"<"===n?"="===e[this._current]?(this._current++,{type:"LTE",value:"<=",start:t}):{type:"LT",value:"<",start:t}:">"===n?"="===e[this._current]?(this._current++,{type:"GTE",value:">=",start:t}):{type:"GT",value:">",start:t}:"="===n&&"="===e[this._current]?(this._current++,{type:"EQ",value:"==",start:t}):void 0},_consumeLiteral:function(e){this._current++;for(var t=this._current,n=e.length;"`"!==e[this._current]&&this._current<n;){var i=this._current;"\\"!==e[i]||"\\"!==e[i+1]&&"`"!==e[i+1]?i++:i+=2,this._current=i}var t=(t=o(e.slice(t,this._current))).replace("\\`","`"),t=this._looksLikeJSON(t)?JSON.parse(t):JSON.parse('"'+t+'"');return this._current++,t},_looksLikeJSON:function(e){if(""===e)return!1;if(0<='[{"'.indexOf(e[0]))return!0;if(0<=["true","false","null"].indexOf(e))return!0;if(!(0<="-0123456789".indexOf(e[0])))return!1;try{return JSON.parse(e),!0}catch(e){return!1}}};var f={EOF:0,UnquotedIdentifier:0,QuotedIdentifier:0,Rbracket:0,Rparen:0,Comma:0,Rbrace:0,Number:0,Current:0,Expref:0,Pipe:1,Or:2,And:3,EQ:5,GT:5,LT:5,GTE:5,LTE:5,NE:5,Flatten:9,Star:20,Filter:21,Dot:40,Not:45,Lbrace:50,Lbracket:55,Lparen:60};r.prototype={parse:function(e){this._loadTokens(e),this.index=0;e=this.expression(0);if("EOF"===this._lookahead(0))return e;e=this._lookaheadToken(0),e=new Error("Unexpected token type: "+e.type+", value: "+e.value);throw e.name="ParserError",e},_loadTokens:function(e){var t=(new n).tokenize(e);t.push({type:"EOF",value:"",start:e.length}),this.tokens=t},expression:function(e){var t=this._lookaheadToken(0);this._advance();for(var n=this.nud(t),i=this._lookahead(0);e<f[i];)this._advance(),n=this.led(i,n),i=this._lookahead(0);return n},_lookahead:function(e){return this.tokens[this.index+e].type},_lookaheadToken:function(e){return this.tokens[this.index+e]},_advance:function(){this.index++},nud:function(e){var t,n;switch(e.type){case"Literal":return{type:"Literal",value:e.value};case"UnquotedIdentifier":return{type:"Field",name:e.value};case"QuotedIdentifier":var i={type:"Field",name:e.value};if("Lparen"===this._lookahead(0))throw new Error("Quoted identifier not allowed for function names.");return i;case"Not":return{type:"NotExpression",children:[t=this.expression(f.Not)]};case"Star":return t=null,{type:"ValueProjection",children:[{type:"Identity"},t="Rbracket"===this._lookahead(0)?{type:"Identity"}:this._parseProjectionRHS(f.Star)]};case"Filter":return this.led(e.type,{type:"Identity"});case"Lbrace":return this._parseMultiselectHash();case"Flatten":return{type:"Projection",children:[{type:"Flatten",children:[{type:"Identity"}]},t=this._parseProjectionRHS(f.Flatten)]};case"Lbracket":return"Number"===this._lookahead(0)||"Colon"===this._lookahead(0)?(t=this._parseIndexExpression(),this._projectIfSlice({type:"Identity"},t)):"Star"===this._lookahead(0)&&"Rbracket"===this._lookahead(1)?(this._advance(),this._advance(),{type:"Projection",children:[{type:"Identity"},t=this._parseProjectionRHS(f.Star)]}):this._parseMultiselectList();case"Current":return{type:"Current"};case"Expref":return{type:"ExpressionReference",children:[n=this.expression(f.Expref)]};case"Lparen":for(var o=[];"Rparen"!==this._lookahead(0);)"Current"===this._lookahead(0)?(n={type:"Current"},this._advance()):n=this.expression(0),o.push(n);return this._match("Rparen"),o[0];default:this._errorToken(e)}},led:function(e,t){var n;switch(e){case"Dot":var i=f.Dot;return"Star"!==this._lookahead(0)?{type:"Subexpression",children:[t,n=this._parseDotRHS(i)]}:(this._advance(),{type:"ValueProjection",children:[t,n=this._parseProjectionRHS(i)]});case"Pipe":return{type:"Pipe",children:[t,n=this.expression(f.Pipe)]};case"Or":return{type:"OrExpression",children:[t,n=this.expression(f.Or)]};case"And":return{type:"AndExpression",children:[t,n=this.expression(f.And)]};case"Lparen":for(var o,i=t.name,r=[];"Rparen"!==this._lookahead(0);)"Current"===this._lookahead(0)?(o={type:"Current"},this._advance()):o=this.expression(0),"Comma"===this._lookahead(0)&&this._match("Comma"),r.push(o);return this._match("Rparen"),{type:"Function",name:i,children:r};case"Filter":var s=this.expression(0);return this._match("Rbracket"),{type:"FilterProjection",children:[t,n="Flatten"===this._lookahead(0)?{type:"Identity"}:this._parseProjectionRHS(f.Filter),s]};case"Flatten":return{type:"Projection",children:[{type:"Flatten",children:[t]},this._parseProjectionRHS(f.Flatten)]};case"EQ":case"NE":case"GT":case"GTE":case"LT":case"LTE":return this._parseComparator(t,e);case"Lbracket":s=this._lookaheadToken(0);return"Number"===s.type||"Colon"===s.type?(n=this._parseIndexExpression(),this._projectIfSlice(t,n)):(this._match("Star"),this._match("Rbracket"),{type:"Projection",children:[t,n=this._parseProjectionRHS(f.Star)]});default:this._errorToken(this._lookaheadToken(0))}},_match:function(e){if(this._lookahead(0)!==e){var t=this._lookaheadToken(0),t=new Error("Expected "+e+", got: "+t.type);throw t.name="ParserError",t}this._advance()},_errorToken:function(e){e=new Error("Invalid token ("+e.type+'): "'+e.value+'"');throw e.name="ParserError",e},_parseIndexExpression:function(){if("Colon"===this._lookahead(0)||"Colon"===this._lookahead(1))return this._parseSliceExpression();var e={type:"Index",value:this._lookaheadToken(0).value};return this._advance(),this._match("Rbracket"),e},_projectIfSlice:function(e,t){e={type:"IndexExpression",children:[e,t]};return"Slice"===t.type?{type:"Projection",children:[e,this._parseProjectionRHS(f.Star)]}:e},_parseSliceExpression:function(){for(var e=[null,null,null],t=0,n=this._lookahead(0);"Rbracket"!==n&&t<3;){if("Colon"===n)t++,this._advance();else{if("Number"!==n){var i=this._lookahead(0),i=new Error("Syntax error, unexpected token: "+i.value+"("+i.type+")");throw i.name="Parsererror",i}e[t]=this._lookaheadToken(0).value,this._advance()}n=this._lookahead(0)}return this._match("Rbracket"),{type:"Slice",children:e}},_parseComparator:function(e,t){return{type:"Comparator",name:t,children:[e,this.expression(f[t])]}},_parseDotRHS:function(e){var t=this._lookahead(0);return 0<=["UnquotedIdentifier","QuotedIdentifier","Star"].indexOf(t)?this.expression(e):"Lbracket"===t?(this._match("Lbracket"),this._parseMultiselectList()):"Lbrace"===t?(this._match("Lbrace"),this._parseMultiselectHash()):void 0},_parseProjectionRHS:function(e){var t;if(f[this._lookahead(0)]<10)t={type:"Identity"};else if("Lbracket"===this._lookahead(0))t=this.expression(e);else if("Filter"===this._lookahead(0))t=this.expression(e);else{if("Dot"!==this._lookahead(0)){var n=this._lookaheadToken(0),n=new Error("Sytanx error, unexpected token: "+n.value+"("+n.type+")");throw n.name="ParserError",n}this._match("Dot"),t=this._parseDotRHS(e)}return t},_parseMultiselectList:function(){for(var e=[];"Rbracket"!==this._lookahead(0);){var t=this.expression(0);if(e.push(t),"Comma"===this._lookahead(0)&&(this._match("Comma"),"Rbracket"===this._lookahead(0)))throw new Error("Unexpected token Rbracket")}return this._match("Rbracket"),{type:"MultiSelectList",children:e}},_parseMultiselectHash:function(){for(var e,t,n=[],i=["UnquotedIdentifier","QuotedIdentifier"];;){if(t=this._lookaheadToken(0),i.indexOf(t.type)<0)throw new Error("Expecting an identifier token, got: "+t.type);if(e=t.value,this._advance(),this._match("Colon"),t=this.expression(0),n.push({type:"KeyValuePair",name:e,value:t}),"Comma"===this._lookahead(0))this._match("Comma");else if("Rbrace"===this._lookahead(0)){this._match("Rbrace");break}}return{type:"MultiSelectHash",children:n}}},s.prototype={search:function(e,t){return this.visit(e,t)},visit:function(e,t){var n,i,o,r,s;switch(e.type){case"Field":return null!==t&&S(t)?void 0===(l=t[e.name])?null:l:null;case"Subexpression":for(u=this.visit(e.children[0],t),m=1;m<e.children.length;m++)if(null===(u=this.visit(e.children[1],u)))return null;return u;case"IndexExpression":return C=this.visit(e.children[0],t),this.visit(e.children[1],C);case"Index":if(!k(t))return null;var a=e.value;return u=void 0===(u=t[a=a<0?t.length+a:a])?null:u;case"Slice":if(!k(t))return null;var l=e.children.slice(0),a=this.computeSliceParams(t.length,l),l=a[0],c=a[1],d=a[2],u=[];if(0<d)for(m=l;m<c;m+=d)u.push(t[m]);else for(m=l;c<m;m+=d)u.push(t[m]);return u;case"Projection":var h=this.visit(e.children[0],t);if(!k(h))return null;for(p=[],m=0;m<h.length;m++)null!==(i=this.visit(e.children[1],h[m]))&&p.push(i);return p;case"ValueProjection":if(!S(h=this.visit(e.children[0],t)))return null;for(var p=[],f=function(e){for(var t=Object.keys(e),n=[],i=0;i<t.length;i++)n.push(e[t[i]]);return n}(h),m=0;m<f.length;m++)null!==(i=this.visit(e.children[1],f[m]))&&p.push(i);return p;case"FilterProjection":if(!k(h=this.visit(e.children[0],t)))return null;var g=[],v=[];for(m=0;m<h.length;m++)E(n=this.visit(e.children[2],h[m]))||g.push(h[m]);for(var b=0;b<g.length;b++)null!==(i=this.visit(e.children[1],g[b]))&&v.push(i);return v;case"Comparator":switch(o=this.visit(e.children[0],t),r=this.visit(e.children[1],t),e.name){case"EQ":u=T(o,r);break;case"NE":u=!T(o,r);break;case"GT":u=r<o;break;case"GTE":u=r<=o;break;case"LT":u=o<r;break;case"LTE":u=o<=r;break;default:throw new Error("Unknown comparator: "+e.name)}return u;case"Flatten":var y=this.visit(e.children[0],t);if(!k(y))return null;var x=[];for(m=0;m<y.length;m++)k(i=y[m])?x.push.apply(x,i):x.push(i);return x;case"Identity":return t;case"MultiSelectList":if(null===t)return null;for(p=[],m=0;m<e.children.length;m++)p.push(this.visit(e.children[m],t));return p;case"MultiSelectHash":if(null===t)return null;for(p={},m=0;m<e.children.length;m++)p[(s=e.children[m]).name]=this.visit(s.value,t);return p;case"OrExpression":return n=E(n=this.visit(e.children[0],t))?this.visit(e.children[1],t):n;case"AndExpression":return!0===E(o=this.visit(e.children[0],t))?o:this.visit(e.children[1],t);case"NotExpression":return E(o=this.visit(e.children[0],t));case"Literal":return e.value;case"Pipe":return C=this.visit(e.children[0],t),this.visit(e.children[1],C);case"Current":return t;case"Function":var w=[];for(m=0;m<e.children.length;m++)w.push(this.visit(e.children[m],t));return this.runtime.callFunction(e.name,w);case"ExpressionReference":var C=e.children[0];return C.jmespathType="Expref",C;default:throw new Error("Unknown node type: "+e.type)}},computeSliceParams:function(e,t){var n=t[0],i=t[1],o=t[2],t=[null,null,null];if(null===o)o=1;else if(0===o){var r=new Error("Invalid slice, step cannot be 0");throw r.name="RuntimeError",r}r=o<0,n=null===n?r?e-1:0:this.capSliceRange(e,n,o),i=null===i?r?-1:e:this.capSliceRange(e,i,o);return t[0]=n,t[1]=i,t[2]=o,t},capSliceRange:function(e,t,n){return t<0?(t+=e)<0&&(t=n<0?-1:0):e<=t&&(t=n<0?e-1:e),t}},l.prototype={callFunction:function(e,t){var n=this.functionTable[e];if(void 0===n)throw new Error("Unknown function: "+e+"()");return this._validateArgs(e,t,n._signature),n._func.call(this,t)},_validateArgs:function(e,t,n){var i;if(n[n.length-1].variadic){if(t.length<n.length)throw i=1===n.length?" argument":" arguments",new Error("ArgumentError: "+e+"() takes at least"+n.length+i+" but received "+t.length)}else if(t.length!==n.length)throw i=1===n.length?" argument":" arguments",new Error("ArgumentError: "+e+"() takes "+n.length+i+" but received "+t.length);for(var o=0;o<n.length;o++){for(var r=!1,s=n[o].types,a=this._getTypeName(t[o]),l=0;l<s.length;l++)if(this._typeMatches(a,s[l],t[o])){r=!0;break}if(!r)throw new Error("TypeError: "+e+"() expected argument "+(o+1)+" to be type "+s+" but received type "+a+" instead.")}},_typeMatches:function(e,t,n){if(1===t)return!0;if(9!==t&&8!==t&&3!==t)return e===t;if(3===t)return 3===e;if(3===e){var i;8===t?i=c:9===t&&(i=d);for(var o=0;o<n.length;o++)if(!this._typeMatches(this._getTypeName(n[o]),i,n[o]))return!1;return!0}},_getTypeName:function(e){switch(Object.prototype.toString.call(e)){case"[object String]":return d;case"[object Number]":return c;case"[object Array]":return 3;case"[object Boolean]":return 5;case"[object Null]":return 7;case"[object Object]":return"Expref"===e.jmespathType?6:4}},_functionStartsWith:function(e){return 0===e[0].lastIndexOf(e[1])},_functionEndsWith:function(e){var t=e[0],e=e[1];return-1!==t.indexOf(e,t.length-e.length)},_functionReverse:function(e){if(this._getTypeName(e[0])===d){for(var t=e[0],n="",i=t.length-1;0<=i;i--)n+=t[i];return n}e=e[0].slice(0);return e.reverse(),e},_functionAbs:function(e){return Math.abs(e[0])},_functionCeil:function(e){return Math.ceil(e[0])},_functionAvg:function(e){for(var t=0,n=e[0],i=0;i<n.length;i++)t+=n[i];return t/n.length},_functionContains:function(e){return 0<=e[0].indexOf(e[1])},_functionFloor:function(e){return Math.floor(e[0])},_functionLength:function(e){return(S(e[0])?Object.keys(e[0]):e[0]).length},_functionMap:function(e){for(var t=[],n=this._interpreter,i=e[0],o=e[1],r=0;r<o.length;r++)t.push(n.visit(i,o[r]));return t},_functionMerge:function(e){for(var t={},n=0;n<e.length;n++){var i,o=e[n];for(i in o)t[i]=o[i]}return t},_functionMax:function(e){if(0<e[0].length){if(this._getTypeName(e[0][0])===c)return Math.max.apply(Math,e[0]);for(var t=e[0],n=t[0],i=1;i<t.length;i++)n.localeCompare(t[i])<0&&(n=t[i]);return n}return null},_functionMin:function(e){if(0<e[0].length){if(this._getTypeName(e[0][0])===c)return Math.min.apply(Math,e[0]);for(var t=e[0],n=t[0],i=1;i<t.length;i++)t[i].localeCompare(n)<0&&(n=t[i]);return n}return null},_functionSum:function(e){for(var t=0,n=e[0],i=0;i<n.length;i++)t+=n[i];return t},_functionType:function(e){switch(this._getTypeName(e[0])){case c:return"number";case d:return"string";case 3:return"array";case 4:return"object";case 5:return"boolean";case 6:return"expref";case 7:return"null"}},_functionKeys:function(e){return Object.keys(e[0])},_functionValues:function(e){for(var t=e[0],n=Object.keys(t),i=[],o=0;o<n.length;o++)i.push(t[n[o]]);return i},_functionJoin:function(e){var t=e[0];return e[1].join(t)},_functionToArray:function(e){return 3===this._getTypeName(e[0])?e[0]:[e[0]]},_functionToString:function(e){return this._getTypeName(e[0])===d?e[0]:JSON.stringify(e[0])},_functionToNumber:function(e){var t,n=this._getTypeName(e[0]);return n===c?e[0]:n!==d||(t=+e[0],isNaN(t))?null:t},_functionNotNull:function(e){for(var t=0;t<e.length;t++)if(7!==this._getTypeName(e[t]))return e[t];return null},_functionSort:function(e){e=e[0].slice(0);return e.sort(),e},_functionSortBy:function(e){var t=e[0].slice(0);if(0===t.length)return t;var o=this._interpreter,r=e[1],s=this._getTypeName(o.visit(r,t[0]));if([c,d].indexOf(s)<0)throw new Error("TypeError");for(var a=this,n=[],i=0;i<t.length;i++)n.push([i,t[i]]);n.sort(function(e,t){var n=o.visit(r,e[1]),i=o.visit(r,t[1]);if(a._getTypeName(n)!==s)throw new Error("TypeError: expected "+s+", received "+a._getTypeName(n));if(a._getTypeName(i)!==s)throw new Error("TypeError: expected "+s+", received "+a._getTypeName(i));return i<n?1:n<i?-1:e[0]-t[0]});for(var l=0;l<n.length;l++)t[l]=n[l][1];return t},_functionMaxBy:function(e){for(var t,n,i=e[1],o=e[0],r=this.createKeyFunction(i,[c,d]),s=-1/0,a=0;a<o.length;a++)(n=r(o[a]))>s&&(s=n,t=o[a]);return t},_functionMinBy:function(e){for(var t,n,i=e[1],o=e[0],r=this.createKeyFunction(i,[c,d]),s=1/0,a=0;a<o.length;a++)(n=r(o[a]))<s&&(s=n,t=o[a]);return t},createKeyFunction:function(n,i){var o=this,r=this._interpreter;return function(e){var t=r.visit(n,e);if(i.indexOf(o._getTypeName(t))<0){e="TypeError: expected one of "+i+", received "+o._getTypeName(t);throw new Error(e)}return t}}},e.tokenize=function(e){return(new n).tokenize(e)},e.compile=function(e){return(new r).parse(e)},e.search=function(e,t){var n=new r,i=new l,o=new s(i);return i._interpreter=o,t=n.parse(t),o.search(t,e)},e.strictDeepEqual=T}(t)},function(e,t){e.exports=function t(e,n){"use strict";function i(e){return t.insensitive&&(""+e).toLowerCase()||""+e}var o,r,s=/(^([+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?$|^0x[0-9a-f]+$|\d+)/gi,a=/(^[ ]*|[ ]*$)/g,l=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,c=/^0x[0-9a-f]+$/i,e=i(e).replace(a,"")||"",a=i(n).replace(a,"")||"",d=e.replace(s,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),u=a.replace(s,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),e=parseInt(e.match(c),16)||1!==d.length&&e.match(l)&&Date.parse(e),a=parseInt(a.match(c),16)||e&&a.match(l)&&Date.parse(a)||null;if(a){if(e<a)return-1;if(a<e)return 1}for(var h=0,p=Math.max(d.length,u.length);h<p;h++){if(o=!(d[h]||"").match(/^0/)&&parseFloat(d[h])||d[h]||0,r=!(u[h]||"").match(/^0/)&&parseFloat(u[h])||u[h]||0,isNaN(o)!==isNaN(r))return isNaN(o)?1:-1;if(typeof o!=typeof r&&(o+="",r+=""),o<r)return-1;if(r<o)return 1}return 0}},function(e,t,n){"use strict";var r=n(6),s=n(5),a=n(8).translate;e.exports=function(o){function e(e){this.editor=e,this.dom={}}return(e.prototype=new o).getDom=function(){var e=this.dom;if(e.tr)return e.tr;this._updateEditability();var t=document.createElement("tr");t.className="jsoneditor-append",t.node=this,e.tr=t,"tree"===this.editor.options.mode&&(e.tdDrag=document.createElement("td"),i=document.createElement("td"),e.tdMenu=i,(n=document.createElement("button")).type="button",n.className="jsoneditor-contextmenu",n.title="Click to open the actions menu (Ctrl+M)",e.menu=n,i.appendChild(e.menu));var n=document.createElement("td"),i=document.createElement("div");return i.innerHTML="("+a("empty")+")",i.className="jsoneditor-readonly",n.appendChild(i),e.td=n,e.text=i,this.updateDom(),t},e.prototype.getPath=function(){return null},e.prototype.getIndex=function(){return null},e.prototype.updateDom=function(e){var t=this.dom,n=t.td;n&&(n.style.paddingLeft=24*this.getLevel()+26+"px");var i=t.text;i&&(i.innerHTML="("+a("empty")+" "+this.parent.type+")");i=t.tr;this.isVisible()?t.tr.firstChild||(t.tdDrag&&i.appendChild(t.tdDrag),t.tdMenu&&i.appendChild(t.tdMenu),i.appendChild(n)):t.tr.firstChild&&(t.tdDrag&&i.removeChild(t.tdDrag),t.tdMenu&&i.removeChild(t.tdMenu),i.removeChild(n))},e.prototype.isVisible=function(){return 0==this.parent.childs.length},e.prototype.showContextMenu=function(e,t){var n=this,i=o.TYPE_TITLES,i=[{text:a("auto"),className:"jsoneditor-type-auto",title:i.auto,click:function(){n._onAppend("","","auto")}},{text:a("array"),className:"jsoneditor-type-array",title:i.array,click:function(){n._onAppend("",[])}},{text:a("object"),className:"jsoneditor-type-object",title:i.object,click:function(){n._onAppend("",{})}},{text:a("string"),className:"jsoneditor-type-string",title:i.string,click:function(){n._onAppend("","","string")}}];n.addTemplates(i,!0);i=[{text:a("appendText"),title:a("appendTitleAuto"),submenuTitle:a("appendSubmenuTitle"),className:"jsoneditor-insert",click:function(){n._onAppend("","","auto")},submenu:i}];new s(i,{close:t}).show(e,this.editor.content)},e.prototype.onEvent=function(e){var t,n=e.type,i=e.target||e.srcElement,o=this.dom;i==o.menu&&("mouseover"==n?this.editor.highlighter.highlight(this.parent):"mouseout"==n&&this.editor.highlighter.unhighlight()),"click"==n&&i==o.menu&&((t=this.editor.highlighter).highlight(this.parent),t.lock(),r.addClassName(o.menu,"jsoneditor-selected"),this.showContextMenu(o.menu,function(){r.removeClassName(o.menu,"jsoneditor-selected"),t.unlock(),t.unhighlight()})),"keydown"==n&&this.onKeyDown(e)},e}},function(e,t,n){"use strict";var s=n(8).translate;e.exports=function(e){function t(e,t){this.editor=e,this.parent=t,this.dom={}}return(t.prototype=new e).getDom=function(){return this.dom.tr||(this._updateEditability(),this.dom.tr||(n=(t=this).parent,(o=document.createElement("a")).appendChild(document.createTextNode(s("showMore"))),o.href="#",o.onclick=function(e){return n.visibleChilds=Math.floor(n.visibleChilds/n.MAX_VISIBLE_CHILDS+1)*n.MAX_VISIBLE_CHILDS,t.updateDom(),n.showChilds(),e.preventDefault(),!1},(r=document.createElement("a")).appendChild(document.createTextNode(s("showAll"))),r.href="#",r.onclick=function(e){return n.visibleChilds=1/0,t.updateDom(),n.showChilds(),e.preventDefault(),!1},e=document.createElement("div"),i=document.createTextNode(this._getShowMoreText()),e.className="jsoneditor-show-more",e.appendChild(i),e.appendChild(o),e.appendChild(document.createTextNode(". ")),e.appendChild(r),e.appendChild(document.createTextNode(". ")),(o=document.createElement("td")).appendChild(e),(r=document.createElement("tr")).appendChild(document.createElement("td")),r.appendChild(document.createElement("td")),r.appendChild(o),r.className="jsoneditor-show-more",this.dom.tr=r,this.dom.moreContents=e,this.dom.moreText=i),this.updateDom(),this.dom.tr);var t,n,e,i,o,r},t.prototype.updateDom=function(e){var t;this.isVisible()?(this.dom.tr.node=this.parent.childs[this.parent.visibleChilds],this.dom.tr.parentNode||(t=this.parent._getNextTr())&&t.parentNode.insertBefore(this.dom.tr,t),this.dom.moreText.nodeValue=this._getShowMoreText(),this.dom.moreContents.style.marginLeft=24*(this.getLevel()+1)+"px"):this.dom.tr&&this.dom.tr.parentNode&&this.dom.tr.parentNode.removeChild(this.dom.tr)},t.prototype._getShowMoreText=function(){return s("showMoreStatus",{visibleChilds:this.parent.visibleChilds,totalChilds:this.parent.childs.length})+" "},t.prototype.isVisible=function(){return this.parent.expanded&&this.parent.childs.length>this.parent.visibleChilds},t.prototype.onEvent=function(e){"keydown"===e.type&&this.onKeyDown(e)},t}},function(e,t,n){var i=n(16),o=n(8).translate;e.exports=function(a,e){var t='<div class="pico-modal-contents"><div class="pico-modal-header">'+o("sort")+"</div><form><table><tbody><tr>  <td>"+o("sortFieldLabel")+' </td>  <td class="jsoneditor-modal-input">  <div class="jsoneditor-select-wrapper">    <select id="field" title="'+o("sortFieldTitle")+'">    </select>  </div>  </td></tr><tr>  <td>'+o("sortDirectionLabel")+' </td>  <td class="jsoneditor-modal-input">  <div id="direction" class="jsoneditor-button-group"><input type="button" value="'+o("sortAscending")+'" title="'+o("sortAscendingTitle")+'" data-value="asc" class="jsoneditor-button-first jsoneditor-button-asc"/><input type="button" value="'+o("sortDescending")+'" title="'+o("sortDescendingTitle")+'" data-value="desc" class="jsoneditor-button-last jsoneditor-button-desc"/>  </div>  </td></tr><tr><td colspan="2" class="jsoneditor-modal-input jsoneditor-modal-actions">  <input type="submit" id="ok" value="'+o("ok")+'" /></td></tr></tbody></table></form></div>';i({parent:e,content:t,overlayClass:"jsoneditor-modal-overlay",modalClass:"jsoneditor-modal jsoneditor-modal-sort"}).afterCreate(function(n){function t(e){r.value=e,r.className="jsoneditor-button-group jsoneditor-button-group-value-"+r.value}var e=n.modalElem().querySelector("form"),i=n.modalElem().querySelector("#ok"),o=n.modalElem().querySelector("#field"),r=n.modalElem().querySelector("#direction"),s="array"===a.type?a.getChildPaths():["."];s.forEach(function(e){var t=document.createElement("option");t.text=e,t.value=e,o.appendChild(t)}),o.value=a.sortedBy?a.sortedBy.path:s[0],t(a.sortedBy?a.sortedBy.direction:"asc"),r.onclick=function(e){t(e.target.getAttribute("data-value"))},i.onclick=function(e){e.preventDefault(),e.stopPropagation(),n.close();var t=o.value,e="."===t?[]:t.split(".").slice(1);a.sortedBy={path:t,direction:r.value},a.sort(e,r.value)},e&&(e.onsubmit=i.onclick)}).afterClose(function(e){e.destroy()}).show()}},function(e,t,n){var i,o;!function(){"use strict";i=[],void 0!==(o="function"==typeof(o=function(){"use strict";function g(e){return"object"==typeof Node?e instanceof Node:e&&"object"==typeof e&&"number"==typeof e.nodeType}function v(e){return"string"==typeof e}function b(){var r=[];return{watch:r.push.bind(r),trigger:function(e,t){for(var n=!0,i={detail:t,preventDefault:function(){n=!1}},o=0;o<r.length;o++)r[o](e,i);return n}}}function n(e){return"none"===window.getComputedStyle(e).display}function o(e){this.elem=e}function y(e,t){return o.make(e("parent")).clazz("pico-overlay").clazz(e("overlayClass","")).stylize({display:"none",position:"fixed",top:"0px",left:"0px",height:"100%",width:"100%",zIndex:1e4}).stylize(e("overlayStyles",{opacity:.5,background:"#000"})).onClick(function(){e("overlayClose",!0)&&t()})}function x(e,t){var n=e("width","auto");"number"==typeof n&&(n+="px");var i=e("modalId","pico-"+r++);return o.make(e("parent")).clazz("pico-content").clazz(e("modalClass","")).stylize({display:"none",position:"fixed",zIndex:10001,left:"50%",top:"38.1966%",maxHeight:"90%",boxSizing:"border-box",width:n,"-ms-transform":"translate(-50%,-38.1966%)","-moz-transform":"translate(-50%,-38.1966%)","-webkit-transform":"translate(-50%,-38.1966%)","-o-transform":"translate(-50%,-38.1966%)",transform:"translate(-50%,-38.1966%)"}).stylize(e("modalStyles",{overflow:"auto",backgroundColor:"white",padding:"20px",borderRadius:"5px"})).html(e("content")).attr("id",i).attr("role","dialog").attr("aria-labelledby",e("ariaLabelledBy")).attr("aria-describedby",e("ariaDescribedBy",i)).onClick(function(e){new o(e.target).anyAncestor(function(e){return/\bpico-close\b/.test(e.elem.className)})&&t()})}function w(e,t){if(t("closeButton",!0))return e.child("button").html(t("closeHtml","&#xD7;")).clazz("pico-close").clazz(t("closeClass","")).stylize(t("closeStyles",{borderRadius:"2px",border:0,padding:0,cursor:"pointer",height:"15px",width:"15px",position:"absolute",top:"5px",right:"5px",fontSize:"16px",textAlign:"center",lineHeight:"15px",background:"#CCC"})).attr("aria-label",t("close-label","Close"))}function C(e){return function(){return e().elem}}function k(i,o){function t(e,t){return(e.msMatchesSelector||e.webkitMatchesSelector||e.matches).call(e,t)}function r(e){return!(n(e)||t(e,":disabled")||e.hasAttribute("contenteditable"))&&(e.hasAttribute("tabindex")||t(e,"input,select,textarea,button,a[href],area[href],iframe"))}function s(e){for(var t=e.getElementsByTagName("*"),n=0;n<t.length;n++)if(r(t[n]))return t[n]}function a(e){for(var t=e.getElementsByTagName("*"),n=t.length;n--;)if(r(t[n]))return t[n]}var e;i.beforeShow(function(){e=document.activeElement}),i.afterShow(function(){if(o()){var e=s(i.modalElem());e&&e.focus()}}),i.afterClose(function(){o()&&e&&e.focus(),e=null}),l.watch(function(e){if(o()&&i.isVisible()){var t=s(i.modalElem()),n=a(i.modalElem());(e.shiftKey?t:n)===document.activeElement&&((e.shiftKey?n:t).focus(),e.preventDefault())}})}function S(e,t){var n,i=new o(document.body);e.beforeShow(function(){n=i.elem.style.overflow,t()&&i.stylize({overflow:"hidden"})}),e.afterClose(function(){i.stylize({overflow:n})})}o.make=function(e,t){"string"==typeof e&&(e=document.querySelector(e));var n=document.createElement(t||"div");return(e||document.body).appendChild(n),new o(n)},o.prototype={child:function(e){return o.make(this.elem,e)},stylize:function(e){e=e||{},void 0!==e.opacity&&(e.filter="alpha(opacity="+100*e.opacity+")");for(var t in e)e.hasOwnProperty(t)&&(this.elem.style[t]=e[t]);return this},clazz:function(e){return this.elem.className+=" "+e,this},html:function(e){return g(e)?this.elem.appendChild(e):this.elem.innerHTML=e,this},onClick:function(e){return this.elem.addEventListener("click",e),this},destroy:function(){this.elem.parentNode.removeChild(this.elem)},hide:function(){this.elem.style.display="none"},show:function(){this.elem.style.display="block"},attr:function(e,t){return void 0!==t&&this.elem.setAttribute(e,t),this},anyAncestor:function(e){for(var t=this.elem;t;){if(e(new o(t)))return!0;t=t.parentNode}return!1},isVisible:function(){return!n(this.elem)}};var r=1,T=b(),l=b();return document.documentElement.addEventListener("keydown",function(e){var t=e.which||e.keyCode;27===t?T.trigger():9===t&&l.trigger(e)}),function(i){function o(e,t){var n=i[e];return"function"==typeof n&&(n=n(t)),void 0===n?t:n}function t(e){f().hide(),p().hide(),h.trigger(s,e)}function r(e){u.trigger(s,e)&&t(e)}function e(e){return function(){return e.apply(this,arguments),s}}function n(e,t){if(!a){var n=x(o,r);a={modal:n,overlay:y(o,r),close:w(n,o)},l.trigger(s,t)}return a[e]}(v(i)||g(i))&&(i={content:i});var s,a,l=b(),c=b(),d=b(),u=b(),h=b(),p=n.bind(window,"modal"),f=n.bind(window,"overlay"),m=n.bind(window,"close");return s={modalElem:C(p),closeElem:C(m),overlayElem:C(f),buildDom:e(n.bind(null,null)),isVisible:function(){return!!(a&&p&&p().isVisible())},show:function(e){return c.trigger(s,e)&&(f().show(),m(),p().show(),d.trigger(s,e)),this},close:e(r),forceClose:e(t),destroy:function(){p().destroy(),f().destroy(),f=p=m=void 0},options:function(t){Object.keys(t).map(function(e){i[e]=t[e]})},afterCreate:e(l.watch),beforeShow:e(c.watch),afterShow:e(d.watch),beforeClose:e(u.watch),afterClose:e(h.watch)},k(s,o.bind(null,"focus",!0)),S(s,o.bind(null,"bodyOverflow",!0)),T.watch(function(){o("escCloses",!0)&&s.isVisible()&&s.close()}),s}})?o.apply(t,i):o)&&(e.exports=o)}()},function(e,t,n){var w=n(11),i=n(16),C=n(18),o=n(8).translate,k=n(6).debounce;e.exports=function(y,e){var x=y.getValue(),t='<label class="pico-modal-contents"><div class="pico-modal-header">'+o("transform")+'</div><p>Enter a <a href="http://jmespath.org" target="_blank">JMESPath</a> query to filter, sort, or transform the JSON data.<br/>To learn JMESPath, go to <a href="http://jmespath.org/tutorial.html" target="_blank">the interactive tutorial</a>.</p><table><tbody><tr>  <th>'+o("transformWizardLabel")+' </th>  <td>  <div id="wizard" class="jsoneditor-jmespath-wizard">  <div>    <div class="jsoneditor-jmespath-wizard-label">'+o("transformWizardFilter")+'</div>    <div class="jsoneditor-jmespath-filter">      <div class="jsoneditor-inline jsoneditor-jmespath-filter-field" >        <select id="filterField">        </select>      </div>      <div class="jsoneditor-inline jsoneditor-jmespath-filter-relation" >        <select id="filterRelation">          <option value="==">==</option>          <option value="!=">!=</option>          <option value="<">&lt;</option>          <option value="<=">&lt;=</option>          <option value=">">&gt;</option>          <option value=">=">&gt;=</option>        </select>      </div>      <div class="jsoneditor-inline jsoneditor-jmespath-filter-value" >        <input placeholder="value..." id="filterValue" />      </div>    </div>  </div>  <div>    <div class="jsoneditor-jmespath-wizard-label">'+o("transformWizardSortBy")+'</div>    <div class="jsoneditor-jmespath-filter">      <div class="jsoneditor-inline jsoneditor-jmespath-sort-field">        <select id="sortField">        </select>      </div>      <div class="jsoneditor-inline jsoneditor-jmespath-sort-order" >        <select id="sortOrder">          <option value="asc">Ascending</option>          <option value="desc">Descending</option>        </select>      </div>    </div>  </div>  <div id="selectFieldsPart">    <div class="jsoneditor-jmespath-wizard-label">'+o("transformWizardSelectFields")+'</div>    <select class="jsoneditor-jmespath-select-fields" id="selectFields" multiple>    </select>  </div>  </div>  </td></tr><tr>  <th>'+o("transformQueryLabel")+' </th>  <td class="jsoneditor-modal-input">    <textarea id="query"               rows="4"               autocomplete="off"               autocorrect="off"               autocapitalize="off"               spellcheck="false"              title="'+o("transformQueryTitle")+'">[*]</textarea>  </td></tr><tr>  <th>'+o("transformPreviewLabel")+' </th>  <td class="jsoneditor-modal-input">    <textarea id="preview"         class="jsoneditor-transform-preview"        readonly> </textarea>  </td></tr><tr><td colspan="2" class="jsoneditor-modal-input jsoneditor-modal-actions">  <input type="submit" id="ok" value="'+o("ok")+'" autofocus /></td></tr></tbody></table></div>';i({parent:e,content:t,overlayClass:"jsoneditor-modal-overlay",modalClass:"jsoneditor-modal jsoneditor-modal-transform",focus:!1}).afterCreate(function(t){function n(e){return"."===e[0]?"."===e?"@":e.slice(1):e}function e(){var e,t;if(s.value&&a.value&&l.value?(e=s.value,t=JSON.stringify(y._stringCast(l.value)),h.value="[? "+e+" "+a.value+" `"+t+"`]"):h.value="[*]",c.value&&d.value&&(t=c.value,"desc"===d.value?h.value+=" | reverse(sort_by(@, &"+t+"))":h.value+=" | sort_by(@, &"+t+")"),u.value){for(var n,i=[],o=0;o<u.options.length;o++)u.options[o].selected&&(n=u.options[o].value,i.push(n));"]"!==h.value[h.value.length-1]&&(h.value+=" | [*]"),1===i.length?h.value+="."+n:1<i.length&&(h.value+=".{"+i.map(function(e){var t=e.split(".");return t[t.length-1]+": "+e}).join(", ")+"}")}b()}var i=t.modalElem(),o=i.querySelector("#wizard"),r=i.querySelector("#ok"),s=i.querySelector("#filterField"),a=i.querySelector("#filterRelation"),l=i.querySelector("#filterValue"),c=i.querySelector("#sortField"),d=i.querySelector("#sortOrder"),u=i.querySelector("#selectFields"),h=i.querySelector("#query"),p=i.querySelector("#preview");Array.isArray(x)||(o.style.display="none",o.parentNode.style.fontStyle="italic",o.parentNode.appendChild(document.createTextNode("(wizard not available for objects, only for arrays)"))),y.getChildPaths().forEach(function(e){var t=n(e),e=document.createElement("option");e.text=t,e.value=t,s.appendChild(e);e=document.createElement("option");e.text=t,e.value=t,c.appendChild(e)});var f=y.getChildPaths(!0).filter(function(e){return"."!==e});0<f.length?f.forEach(function(e){var t=n(e),e=document.createElement("option");e.text=t,e.value=t,u.appendChild(e)}):i.querySelector("#selectFieldsPart").style.display="none";var m=new C(s,{defaultSelected:!1,clearable:!0,allowDeselect:!0,placeholder:"field..."}),g=new C(a,{defaultSelected:!1,clearable:!0,allowDeselect:!0,placeholder:"compare..."}),v=new C(c,{defaultSelected:!1,clearable:!0,allowDeselect:!0,placeholder:"field..."}),o=new C(d,{defaultSelected:!1,clearable:!0,allowDeselect:!0,placeholder:"order..."}),f=new C(u,{multiple:!0,clearable:!0,defaultSelected:!1});m.on("selectr.change",e),g.on("selectr.change",e),l.oninput=e,v.on("selectr.change",e),o.on("selectr.change",e),f.on("selectr.change",e),i.querySelector(".pico-modal-contents").onclick=function(e){e.preventDefault()},h.value=Array.isArray(x)?"[*]":"@";var b=k(function(){try{var e=w.search(x,h.value),t=JSON.stringify(e,null,2).split("\n");100<t.length&&(t=t.slice(0,100).concat(["..."])),p.className="jsoneditor-transform-preview",p.value=t.join("\n"),r.disabled=!1}catch(e){p.className="jsoneditor-transform-preview jsoneditor-error",p.value=e.toString(),r.disabled=!0}},300);(h.oninput=b)(),r.onclick=function(e){e.preventDefault(),e.stopPropagation(),t.close(),y.transform(h.value)},setTimeout(function(){h.select(),h.focus(),h.selectionStart=3,h.selectionEnd=3})}).afterClose(function(e){e.destroy()}).show()}},function(e,t){"use strict";function l(e,t){return e.hasOwnProperty(t)&&(!0===e[t]||e[t].length)}function r(e,t,n){e.parentNode?e.parentNode.parentNode||t.appendChild(e.parentNode):t.appendChild(e),u.removeClass(e,"excluded"),n||(e.innerHTML=e.textContent)}function i(){}var n={defaultSelected:!0,width:"auto",disabled:!1,searchable:!0,clearable:!1,sortSelected:!1,allowDeselect:!1,closeOnScroll:!1,nativeDropdown:!1,placeholder:"Select an option...",taggable:!1,tagPlaceholder:"Enter a tag..."};i.prototype={on:function(e,t){this._events=this._events||{},this._events[e]=this._events[e]||[],this._events[e].push(t)},off:function(e,t){this._events=this._events||{},e in this._events!=0&&this._events[e].splice(this._events[e].indexOf(t),1)},emit:function(e){if(this._events=this._events||{},e in this._events!=0)for(var t=0;t<this._events[e].length;t++)this._events[e][t].apply(this,Array.prototype.slice.call(arguments,1))}},i.mixin=function(e){for(var t=["on","off","emit"],n=0;n<t.length;n++)"function"==typeof e?e.prototype[t[n]]=i.prototype[t[n]]:e[t[n]]=i.prototype[t[n]];return e};function s(){var n,e;this.items.length&&(n=document.createDocumentFragment(),this.config.pagination?(e=this.pages.slice(0,this.pageIndex),u.each(e,function(e,t){u.each(t,function(e,t){r(t,n,this.customOption)},this)},this)):u.each(this.items,function(e,t){r(t,n,this.customOption)},this),n.childElementCount&&(u.removeClass(this.items[this.navIndex],"active"),this.navIndex=n.querySelector(".selectr-option").idx,u.addClass(this.items[this.navIndex],"active")),this.tree.appendChild(n))}function c(e,t){return t=t||e,t=this.customOption?this.config.renderOption(t):e.textContent,(t=u.createElement("li",{class:"selectr-option",html:t,role:"treeitem","aria-selected":!1})).idx=e.idx,this.items.push(t),e.defaultSelected&&this.defaultSelected.push(e.idx),e.disabled&&(t.disabled=!0,u.addClass(t,"disabled")),t}function o(){var n,e=this.tree;e.scrollTop>=e.scrollHeight-e.offsetHeight&&this.pageIndex<this.pages.length&&(n=document.createDocumentFragment(),u.each(this.pages[this.pageIndex],function(e,t){r(t,n,this.customOption)},this),e.appendChild(n),this.pageIndex++,this.emit("selectr.paginate",{items:this.items.length,total:this.data.length,page:this.pageIndex,pages:this.pages.length}))}function a(){(this.config.searchable||this.config.taggable)&&(this.input.value=null,this.searching=!1,this.config.searchable&&u.removeClass(this.inputContainer,"active"),u.hasClass(this.container,"notice")&&(u.removeClass(this.container,"notice"),u.addClass(this.container,"open"),this.input.focus()),u.each(this.items,function(e,t){u.removeClass(t,"excluded"),this.customOption||(t.innerHTML=t.textContent)},this))}function d(e,t){if(t=t||{},!e)throw new Error("You must supply either a HTMLSelectElement or a CSS3 selector string.");if("string"==typeof(this.el=e)&&(this.el=document.querySelector(e)),null===this.el)throw new Error("The element you passed to Selectr can not be found.");if("select"!==this.el.nodeName.toLowerCase())throw new Error("The element you passed to Selectr is not a HTMLSelectElement.");this.render(t)}var u={extend:function(e,t){for(var n in t=t||{},e)e.hasOwnProperty(n)&&(t.hasOwnProperty(n)||(t[n]=e[n]));return t},each:function(e,t,n){if("[object Object]"===Object.prototype.toString.call(e))for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(n,i,e[i],e);else for(var o=0,r=e.length;o<r;o++)t.call(n,o,e[o],e)},createElement:function(e,t){var n,i,o=document,r=o.createElement(e);if(t&&"[object Object]"===Object.prototype.toString.call(t))for(n in t)n in r?r[n]=t[n]:"html"===n?r.innerHTML=t[n]:"text"===n?(i=o.createTextNode(t[n]),r.appendChild(i)):r.setAttribute(n,t[n]);return r},hasClass:function(e,t){if(e)return e.classList?e.classList.contains(t):!!e.className&&!!e.className.match(new RegExp("(\\s|^)"+t+"(\\s|$)"))},addClass:function(e,t){u.hasClass(e,t)||(e.classList?e.classList.add(t):e.className=e.className.trim()+" "+t)},removeClass:function(e,t){u.hasClass(e,t)&&(e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\s)"+t.split(" ").join("|")+"(\\s|$)","gi")," "))},closest:function(e,t){return e&&e!==document.body&&(t(e)?e:u.closest(e.parentNode,t))},isInt:function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},debounce:function(i,o,r){var s;return function(){var e=this,t=arguments,n=r&&!s;clearTimeout(s),s=setTimeout(function(){s=null,r||i.apply(e,t)},o),n&&i.apply(e,t)}},rect:function(e,t){var n=window,i=e.getBoundingClientRect(),e=t?n.pageXOffset:0,n=t?n.pageYOffset:0;return{bottom:i.bottom+n,height:i.height,left:i.left+e,right:i.right+e,top:i.top+n,width:i.width}},includes:function(e,t){return-1<e.indexOf(t)},truncate:function(e){for(;e.firstChild;)e.removeChild(e.firstChild)}};d.prototype.render=function(e){var t;this.rendered||(this.config=u.extend(n,e),this.originalType=this.el.type,this.originalIndex=this.el.tabIndex,this.defaultSelected=[],this.originalOptionCount=this.el.options.length,(this.config.multiple||this.config.taggable)&&(this.el.multiple=!0),this.disabled=l(this.config,"disabled"),this.opened=!1,this.config.taggable&&(this.config.searchable=!1),this.navigating=!1,this.mobileDevice=!1,/Android|webOS|iPhone|iPad|BlackBerry|Windows Phone|Opera Mini|IEMobile|Mobile/i.test(navigator.userAgent)&&(this.mobileDevice=!0),this.customOption=this.config.hasOwnProperty("renderOption")&&"function"==typeof this.config.renderOption,this.customSelected=this.config.hasOwnProperty("renderSelection")&&"function"==typeof this.config.renderSelection,i.mixin(this),function(){this.requiresPagination=this.config.pagination&&0<this.config.pagination,l(this.config,"width")&&(u.isInt(this.config.width)?this.width=this.config.width+"px":"auto"===this.config.width?this.width="100%":u.includes(this.config.width,"%")&&(this.width=this.config.width)),this.container=u.createElement("div",{class:"selectr-container"}),this.config.customClass&&u.addClass(this.container,this.config.customClass),this.mobileDevice?u.addClass(this.container,"selectr-mobile"):u.addClass(this.container,"selectr-desktop"),this.el.tabIndex=-1,this.config.nativeDropdown||this.mobileDevice?u.addClass(this.el,"selectr-visible"):u.addClass(this.el,"selectr-hidden"),this.selected=u.createElement("div",{class:"selectr-selected",disabled:this.disabled,tabIndex:1,"aria-expanded":!1}),this.label=u.createElement(this.el.multiple?"ul":"span",{class:"selectr-label"});var e,t=u.createElement("div",{class:"selectr-options-container"});this.tree=u.createElement("ul",{class:"selectr-options",role:"tree","aria-hidden":!0,"aria-expanded":!1}),this.notice=u.createElement("div",{class:"selectr-notice"}),this.el.setAttribute("aria-hidden",!0),this.disabled&&(this.el.disabled=!0),this.el.multiple&&(u.addClass(this.label,"selectr-tags"),u.addClass(this.container,"multiple"),this.tags=[],this.selectedValues=this.getSelectedProperties("value"),this.selectedIndexes=this.getSelectedProperties("idx")),this.selected.appendChild(this.label),this.config.clearable&&(this.selectClear=u.createElement("button",{class:"selectr-clear",type:"button"}),this.container.appendChild(this.selectClear),u.addClass(this.container,"clearable")),this.config.taggable&&(e=u.createElement("li",{class:"input-tag"}),this.input=u.createElement("input",{class:"selectr-tag-input",placeholder:this.config.tagPlaceholder,tagIndex:0,autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false",role:"textbox",type:"search"}),e.appendChild(this.input),this.label.appendChild(e),u.addClass(this.container,"taggable"),this.tagSeperators=[","],this.config.tagSeperators&&(this.tagSeperators=this.tagSeperators.concat(this.config.tagSeperators))),this.config.searchable&&(this.input=u.createElement("input",{class:"selectr-input",tagIndex:-1,autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false",role:"textbox",type:"search"}),this.inputClear=u.createElement("button",{class:"selectr-input-clear",type:"button"}),this.inputContainer=u.createElement("div",{class:"selectr-input-container"}),this.inputContainer.appendChild(this.input),this.inputContainer.appendChild(this.inputClear),t.appendChild(this.inputContainer)),t.appendChild(this.notice),t.appendChild(this.tree),this.items=[],this.options=[],this.el.options.length&&(this.options=[].slice.call(this.el.options));var n,i,o,r=!1,s=0;this.el.children.length&&u.each(this.el.children,function(e,t){"OPTGROUP"===t.nodeName?(r=u.createElement("ul",{class:"selectr-optgroup",role:"group",html:"<li class='selectr-optgroup--label'>"+t.label+"</li>"}),u.each(t.children,function(e,t){t.idx=s,r.appendChild(c.call(this,t,r)),s++},this)):(t.idx=s,c.call(this,t),s++)},this),this.config.data&&Array.isArray(this.config.data)&&(i=!(this.data=[]),r=!1,s=0,u.each(this.config.data,function(e,t){l(t,"children")?(i=u.createElement("optgroup",{label:t.text}),r=u.createElement("ul",{class:"selectr-optgroup",role:"group",html:"<li class='selectr-optgroup--label'>"+t.text+"</li>"}),u.each(t.children,function(e,t){(n=new Option(t.text,t.value,!1,t.hasOwnProperty("selected")&&!0===t.selected)).disabled=l(t,"disabled"),this.options.push(n),i.appendChild(n),n.idx=s,r.appendChild(c.call(this,n,t)),this.data[s]=t,s++},this)):((n=new Option(t.text,t.value,!1,t.hasOwnProperty("selected")&&!0===t.selected)).disabled=l(t,"disabled"),this.options.push(n),n.idx=s,c.call(this,n,t),this.data[s]=t,s++)},this)),this.setSelected(!0);for(var a=this.navIndex=0;a<this.items.length;a++)if(o=this.items[a],!u.hasClass(o,"disabled")){u.addClass(o,"active"),this.navIndex=a;break}this.requiresPagination&&(this.pageIndex=1,this.paginate()),this.container.appendChild(this.selected),this.container.appendChild(t),this.placeEl=u.createElement("div",{class:"selectr-placeholder"}),this.setPlaceholder(),this.selected.appendChild(this.placeEl),this.disabled&&this.disable(),this.el.parentNode.insertBefore(this.container,this.el),this.container.appendChild(this.el)}.call(this),this.bindEvents(),this.update(),this.optsRect=u.rect(this.tree),this.rendered=!0,this.el.multiple||(this.el.selectedIndex=this.selectedIndex),t=this,setTimeout(function(){t.emit("selectr.init")},20))},d.prototype.getSelected=function(){return this.el.querySelectorAll("option:checked")},d.prototype.getSelectedProperties=function(t){var e=this.getSelected();return[].slice.call(e).map(function(e){return e[t]}).filter(function(e){return null!=e})},d.prototype.bindEvents=function(){var i=this;this.events={},this.events.dismiss=function(e){e=e.target;this.container.contains(e)||!this.opened&&!u.hasClass(this.container,"notice")||this.close()}.bind(this),this.events.navigate=function(e){if(e=e||window.event,this.items.length&&this.opened&&u.includes([13,38,40],e.which)){if(e.preventDefault(),13===e.which)return!(this.config.taggable&&0<this.input.value.length)&&this.change(this.navIndex);var t,n=this.items[this.navIndex];switch(e.which){case 38:(t=0)<this.navIndex&&this.navIndex--;break;case 40:this.navIndex<this.items.length-(t=1)&&this.navIndex++}for(this.navigating=!0;u.hasClass(this.items[this.navIndex],"disabled")||u.hasClass(this.items[this.navIndex],"excluded");)if(t?this.navIndex++:this.navIndex--,this.searching){if(this.navIndex>this.tree.lastElementChild.idx){this.navIndex=this.tree.lastElementChild.idx;break}if(this.navIndex<this.tree.firstElementChild.idx){this.navIndex=this.tree.firstElementChild.idx;break}}e=u.rect(this.items[this.navIndex]);t?(0===this.navIndex?this.tree.scrollTop=0:e.top+e.height>this.optsRect.top+this.optsRect.height&&(this.tree.scrollTop=this.tree.scrollTop+(e.top+e.height-(this.optsRect.top+this.optsRect.height))),this.navIndex===this.tree.childElementCount-1&&this.requiresPagination&&o.call(this)):0===this.navIndex?this.tree.scrollTop=0:e.top-this.optsRect.top<0&&(this.tree.scrollTop=this.tree.scrollTop+(e.top-this.optsRect.top)),n&&u.removeClass(n,"active"),u.addClass(this.items[this.navIndex],"active")}else this.navigating=!1}.bind(this),this.events.reset=this.reset.bind(this),(this.config.nativeDropdown||this.mobileDevice)&&(this.container.addEventListener("touchstart",function(e){e.changedTouches[0].target===i.el&&i.toggle()}),(this.config.nativeDropdown||this.mobileDevice)&&this.container.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation(),e.target===i.el&&i.toggle()}),this.el.addEventListener("change",function(e){var t;i.el.multiple?(t=i.getSelectedProperties("idx"),t=function(e,t){for(var n,i=[],o=e.slice(0),r=0;r<t.length;r++)-1<(n=o.indexOf(t[r]))?o.splice(n,1):i.push(t[r]);return[i,o]}(i.selectedIndexes,t),u.each(t[0],function(e,t){i.select(t)},i),u.each(t[1],function(e,t){i.deselect(t)},i)):-1<i.el.selectedIndex&&i.select(i.el.selectedIndex)})),this.config.nativeDropdown&&this.container.addEventListener("keydown",function(e){"Enter"===e.key&&i.selected===document.activeElement&&(i.toggle(),setTimeout(function(){i.el.focus()},200))}),this.selected.addEventListener("click",function(e){i.disabled||i.toggle(),e.preventDefault(),e.stopPropagation()}),this.label.addEventListener("click",function(e){u.hasClass(e.target,"selectr-tag-remove")&&i.deselect(e.target.parentNode.idx)}),this.selectClear&&this.selectClear.addEventListener("click",this.clear.bind(this)),this.tree.addEventListener("mousedown",function(e){e.preventDefault()}),this.tree.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation();e=u.closest(e.target,function(e){return e&&u.hasClass(e,"selectr-option")});e&&(u.hasClass(e,"disabled")||(u.hasClass(e,"selected")?(i.el.multiple||!i.el.multiple&&i.config.allowDeselect)&&i.deselect(e.idx):i.select(e.idx),i.opened&&!i.el.multiple&&i.close()))}),this.tree.addEventListener("mouseover",function(e){u.hasClass(e.target,"selectr-option")&&(u.hasClass(e.target,"disabled")||(u.removeClass(i.items[i.navIndex],"active"),u.addClass(e.target,"active"),i.navIndex=[].slice.call(i.items).indexOf(e.target)))}),this.config.searchable&&(this.input.addEventListener("focus",function(e){i.searching=!0}),this.input.addEventListener("blur",function(e){i.searching=!1}),this.input.addEventListener("keyup",function(e){i.search(),i.config.taggable||(this.value.length?u.addClass(this.parentNode,"active"):u.removeClass(this.parentNode,"active"))}),this.inputClear.addEventListener("click",function(e){i.input.value=null,a.call(i),i.tree.childElementCount||s.call(i)})),this.config.taggable&&this.input.addEventListener("keyup",function(e){var n;i.search(),i.config.taggable&&this.value.length&&(n=this.value.trim(),13!==e.which&&!u.includes(i.tagSeperators,e.key)||(u.each(i.tagSeperators,function(e,t){n=n.replace(t,"")}),i.add({value:n,text:n,selected:!0},!0)?(i.close(),a.call(i)):(this.value="",i.setMessage("That tag is already in use."))))}),this.update=u.debounce(function(){i.opened&&i.config.closeOnScroll&&i.close(),i.width&&(i.container.style.width=i.width),i.invert()},50),this.requiresPagination&&(this.paginateItems=u.debounce(function(){o.call(this)},50),this.tree.addEventListener("scroll",this.paginateItems.bind(this))),document.addEventListener("click",this.events.dismiss),window.addEventListener("keydown",this.events.navigate),window.addEventListener("resize",this.update),window.addEventListener("scroll",this.update),this.el.form&&this.el.form.addEventListener("reset",this.events.reset)},d.prototype.setSelected=function(e){var n;this.config.data||this.el.multiple||!this.el.options.length||(0===this.el.selectedIndex&&(this.el.options[0].defaultSelected||this.config.defaultSelected||(this.el.selectedIndex=-1)),this.selectedIndex=this.el.selectedIndex,-1<this.selectedIndex&&this.select(this.selectedIndex)),this.config.multiple&&"select-one"===this.originalType&&!this.config.data&&this.el.options[0].selected&&!this.el.options[0].defaultSelected&&(this.el.options[0].selected=!1),u.each(this.options,function(e,t){t.selected&&t.defaultSelected&&this.select(t.idx)},this),this.config.selectedValue&&this.setValue(this.config.selectedValue),this.config.data&&(!this.el.multiple&&this.config.defaultSelected&&this.el.selectedIndex<0&&this.select(0),n=0,u.each(this.config.data,function(e,t){l(t,"children")?u.each(t.children,function(e,t){t.hasOwnProperty("selected")&&!0===t.selected&&this.select(n),n++},this):(t.hasOwnProperty("selected")&&!0===t.selected&&this.select(n),n++)},this))},d.prototype.destroy=function(){this.rendered&&(this.emit("selectr.destroy"),"select-one"===this.originalType&&(this.el.multiple=!1),this.config.data&&(this.el.innerHTML=""),u.removeClass(this.el,"selectr-hidden"),this.el.form&&u.off(this.el.form,"reset",this.events.reset),u.off(document,"click",this.events.dismiss),u.off(document,"keydown",this.events.navigate),u.off(window,"resize",this.update),u.off(window,"scroll",this.update),this.container.parentNode.replaceChild(this.el,this.container),this.rendered=!1)},d.prototype.change=function(e){var t=this.items[e],n=this.options[e];n.disabled||(n.selected&&u.hasClass(t,"selected")?this.deselect(e):this.select(e),this.opened&&!this.el.multiple&&this.close())},d.prototype.select=function(i){var e=this.items[i],t=[].slice.call(this.el.options),n=this.options[i];if(this.el.multiple){if(u.includes(this.selectedIndexes,i))return!1;if(this.config.maxSelections&&this.tags.length===this.config.maxSelections)return this.setMessage("A maximum of "+this.config.maxSelections+" items can be selected.",!0),!1;this.selectedValues.push(n.value),this.selectedIndexes.push(i),function(e){var l,c=this,n=document.createDocumentFragment(),t=this.options[e.idx],i=this.data?this.data[e.idx]:t,o=this.customSelected?this.config.renderSelection(i):t.textContent,i=u.createElement("li",{class:"selectr-tag",html:o}),o=u.createElement("button",{class:"selectr-tag-remove",type:"button"});i.appendChild(o),i.idx=e.idx,i.tag=t.value,this.tags.push(i),this.config.sortSelected?(t=this.tags.slice(),l=function(e,i){e.replace(/(\d+)|(\D+)/g,function(e,t,n){i.push([t||1/0,n||""])})},t.sort(function(e,t){var n,i,o=[],r=[];for(!0===c.config.sortSelected?(n=e.tag,i=t.tag):"text"===c.config.sortSelected&&(n=e.textContent,i=t.textContent),l(n,o),l(i,r);o.length&&r.length;){var s=o.shift(),a=r.shift(),a=s[0]-a[0]||s[1].localeCompare(a[1]);if(a)return a}return o.length-r.length}),u.each(t,function(e,t){n.appendChild(t)}),this.label.innerHTML=""):n.appendChild(i),this.config.taggable?this.label.insertBefore(n,this.input.parentNode):this.label.appendChild(n)}.call(this,e)}else{var o=this.data?this.data[i]:n;this.label.innerHTML=this.customSelected?this.config.renderSelection(o):n.textContent,this.selectedValue=n.value,this.selectedIndex=i,u.each(this.options,function(e,t){var n=this.items[e];e!==i&&(n&&u.removeClass(n,"selected"),t.selected=!1,t.removeAttribute("selected"))},this)}u.includes(t,n)||this.el.add(n),e.setAttribute("aria-selected",!0),u.addClass(e,"selected"),u.addClass(this.container,"has-selected"),n.selected=!0,n.setAttribute("selected",""),this.emit("selectr.change",n),this.emit("selectr.select",n)},d.prototype.deselect=function(e,t){var n=this.items[e],i=this.options[e];if(this.el.multiple){var o=this.selectedIndexes.indexOf(e);this.selectedIndexes.splice(o,1);o=this.selectedValues.indexOf(i.value);this.selectedValues.splice(o,1),function(n){var i=!1;u.each(this.tags,function(e,t){t.idx===n.idx&&(i=t)},this),i&&(this.label.removeChild(i),this.tags.splice(this.tags.indexOf(i),1))}.call(this,n),this.tags.length||u.removeClass(this.container,"has-selected")}else{if(!t&&!this.config.clearable&&!this.config.allowDeselect)return!1;this.label.innerHTML="",this.selectedValue=null,this.el.selectedIndex=this.selectedIndex=-1,u.removeClass(this.container,"has-selected")}this.items[e].setAttribute("aria-selected",!1),u.removeClass(this.items[e],"selected"),i.selected=!1,i.removeAttribute("selected"),this.emit("selectr.change",null),this.emit("selectr.deselect",i)},d.prototype.setValue=function(n){var i=Array.isArray(n);if(i||(n=n.toString().trim()),!this.el.multiple&&i)return!1;u.each(this.options,function(e,t){(i&&u.includes(n.toString(),t.value)||t.value===n)&&this.change(t.idx)},this)},d.prototype.getValue=function(e,t){var n,i;return this.el.multiple?e?this.selectedIndexes.length&&((i={}).values=[],u.each(this.selectedIndexes,function(e,t){t=this.options[t];i.values[e]={value:t.value,text:t.textContent}},this)):i=this.selectedValues.slice():i=e?{value:(n=this.options[this.selectedIndex]).value,text:n.textContent}:this.selectedValue,i=e&&t?JSON.stringify(i):i},d.prototype.add=function(n,i){if(n){if(this.data=this.data||[],this.items=this.items||[],this.options=this.options||[],Array.isArray(n))u.each(n,function(e,t){this.add(t,i)},this);else if("[object Object]"===Object.prototype.toString.call(n)){if(i){var o=!1;if(u.each(this.options,function(e,t){t.value.toLowerCase()===n.value.toLowerCase()&&(o=!0)}),o)return!1}var e=u.createElement("option",n);return this.data.push(n),this.options.push(e),e.idx=0<this.options.length?this.options.length-1:0,c.call(this,e),n.selected&&this.select(e.idx),e}return this.setPlaceholder(),this.config.pagination&&this.paginate(),!0}},d.prototype.remove=function(n){var i,o=[];Array.isArray(n)?u.each(n,function(e,t){u.isInt(t)?o.push(this.getOptionByIndex(t)):"string"==typeof n&&o.push(this.getOptionByValue(t))},this):u.isInt(n)?o.push(this.getOptionByIndex(n)):"string"==typeof n&&o.push(this.getOptionByValue(n)),o.length&&(u.each(o,function(e,t){i=t.idx,this.el.remove(t),this.options.splice(i,1);t=this.items[i].parentNode;t&&t.removeChild(this.items[i]),this.items.splice(i,1),u.each(this.options,function(e,t){t.idx=e,this.items[e].idx=e},this)},this),this.setPlaceholder(),this.config.pagination&&this.paginate())},d.prototype.removeAll=function(){this.clear(!0),u.each(this.el.options,function(e,t){this.el.remove(t)},this),u.truncate(this.tree),this.items=[],this.options=[],this.data=[],this.navIndex=0,this.requiresPagination&&(this.requiresPagination=!1,this.pageIndex=1,this.pages=[]),this.setPlaceholder()},d.prototype.search=function(i){var o,e,t;this.navigating||(i=i||this.input.value,o=document.createDocumentFragment(),this.removeMessage(),u.truncate(this.tree),1<i.length?(u.each(this.options,function(e,t){var n=this.items[t.idx];u.includes(t.textContent.toLowerCase(),i.toLowerCase())&&!t.disabled?(r(n,o,this.customOption),u.removeClass(n,"excluded"),this.customOption||(n.innerHTML=function(e,t){e=new RegExp(e,"i").exec(t.textContent);return!!e&&t.textContent.replace(e[0],"<span class='selectr-match'>"+e[0]+"</span>")}(i,t))):u.addClass(n,"excluded")},this),o.childElementCount?(e=this.items[this.navIndex],t=o.firstElementChild,u.removeClass(e,"active"),this.navIndex=t.idx,u.addClass(t,"active")):this.config.taggable||this.setMessage("no results.")):s.call(this),this.tree.appendChild(o))},d.prototype.toggle=function(){this.disabled||(this.opened?this.close():this.open())},d.prototype.open=function(){var e=this;return!!this.options.length&&(this.opened||this.emit("selectr.open"),this.opened=!0,this.mobileDevice||this.config.nativeDropdown?(u.addClass(this.container,"native-open"),void(this.config.data&&u.each(this.options,function(e,t){this.el.add(t)},this))):(u.addClass(this.container,"open"),s.call(this),this.invert(),this.tree.scrollTop=0,u.removeClass(this.container,"notice"),this.selected.setAttribute("aria-expanded",!0),this.tree.setAttribute("aria-hidden",!1),this.tree.setAttribute("aria-expanded",!0),void(this.config.searchable&&!this.config.taggable&&setTimeout(function(){e.input.focus(),e.input.tabIndex=0},10))))},d.prototype.close=function(){var e;this.opened&&this.emit("selectr.close"),this.opened=!1,this.mobileDevice||this.config.nativeDropdown?u.removeClass(this.container,"native-open"):(e=u.hasClass(this.container,"notice"),this.config.searchable&&!e&&(this.input.blur(),this.input.tabIndex=-1,this.searching=!1),e&&(u.removeClass(this.container,"notice"),this.notice.textContent=""),u.removeClass(this.container,"open"),u.removeClass(this.container,"native-open"),this.selected.setAttribute("aria-expanded",!1),this.tree.setAttribute("aria-hidden",!0),this.tree.setAttribute("aria-expanded",!1),u.truncate(this.tree),a.call(this))},d.prototype.enable=function(){this.disabled=!1,this.el.disabled=!1,this.selected.tabIndex=this.originalIndex,this.el.multiple&&u.each(this.tags,function(e,t){t.lastElementChild.tabIndex=0}),u.removeClass(this.container,"selectr-disabled")},d.prototype.disable=function(e){e||(this.el.disabled=!0),this.selected.tabIndex=-1,this.el.multiple&&u.each(this.tags,function(e,t){t.lastElementChild.tabIndex=-1}),this.disabled=!0,u.addClass(this.container,"selectr-disabled")},d.prototype.reset=function(){this.disabled||(this.clear(),this.setSelected(!0),u.each(this.defaultSelected,function(e,t){this.select(t)},this),this.emit("selectr.reset"))},d.prototype.clear=function(e){var t;this.el.multiple?this.selectedIndexes.length&&(t=this.selectedIndexes.slice(),u.each(t,function(e,t){this.deselect(t)},this)):-1<this.selectedIndex&&this.deselect(this.selectedIndex,e),this.emit("selectr.clear")},d.prototype.serialise=function(e){var i=[];return u.each(this.options,function(e,t){var n={value:t.value,text:t.textContent};t.selected&&(n.selected=!0),t.disabled&&(n.disabled=!0),i[e]=n}),e?JSON.stringify(i):i},d.prototype.serialize=function(e){return this.serialise(e)},d.prototype.setPlaceholder=function(e){e=e||this.config.placeholder||this.el.getAttribute("placeholder"),this.options.length||(e="No options available"),this.placeEl.innerHTML=e},d.prototype.paginate=function(){if(this.items.length){var n=this;return this.pages=this.items.map(function(e,t){return t%n.config.pagination==0?n.items.slice(t,t+n.config.pagination):null}).filter(function(e){return e}),this.pages}},d.prototype.setMessage=function(e,t){t&&this.close(),u.addClass(this.container,"notice"),this.notice.textContent=e},d.prototype.removeMessage=function(){u.removeClass(this.container,"notice"),this.notice.innerHTML=""},d.prototype.invert=function(){var e=u.rect(this.selected),t=this.tree.parentNode.offsetHeight,n=window.innerHeight;e.top+e.height+t>n?(u.addClass(this.container,"inverted"),this.isInverted=!0):(u.removeClass(this.container,"inverted"),this.isInverted=!1),this.optsRect=u.rect(this.tree)},d.prototype.getOptionByIndex=function(e){return this.options[e]},d.prototype.getOptionByValue=function(e){for(var t=!1,n=0,i=this.options.length;n<i;n++)if(this.options[n].value.trim()===e.toString().trim()){t=this.options[n];break}return t},e.exports=d},function(e,t,n){"use strict";function i(e,t,n,i){for(var o={code:{text:"Code",title:"Switch to code highlighter",click:function(){i("code")}},form:{text:"Form",title:"Switch to form editor",click:function(){i("form")}},text:{text:"Text",title:"Switch to plain text editor",click:function(){i("text")}},tree:{text:"Tree",title:"Switch to tree editor",click:function(){i("tree")}},view:{text:"View",title:"Switch to tree view",click:function(){i("view")}}},r=[],s=0;s<t.length;s++){var a=t[s],l=o[a];if(!l)throw new Error('Unknown mode "'+a+'"');l.className="jsoneditor-type-modes"+(n==a?" jsoneditor-selected":""),r.push(l)}var c=o[n];if(!c)throw new Error('Unknown mode "'+n+'"');var c=c.text,d=document.createElement("button");d.type="button",d.className="jsoneditor-modes jsoneditor-separator",d.innerHTML=c+" &#x25BE;",d.title="Switch editor mode",d.onclick=function(){new u(r).show(d)};c=document.createElement("div");c.className="jsoneditor-modes",c.style.position="relative",c.appendChild(d),e.appendChild(c),this.dom={container:e,box:d,frame:c}}var u=n(5);i.prototype.focus=function(){this.dom.box.focus()},i.prototype.destroy=function(){this.dom&&this.dom.frame&&this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame),this.dom=null},e.exports=i},function(e,t){"use strict";e.exports=function(a){function r(e){var t,n;document.createRange?((t=document.createRange()).selectNodeContents(e),t.collapse(!1),(n=window.getSelection()).removeAllRanges(),n.addRange(t)):document.selection&&((t=document.body.createTextRange()).moveToElementText(e),t.collapse(!1),t.select())}function s(e){return void 0===t&&((t=document.createElement("span")).style.visibility="hidden",t.style.position="fixed",t.style.outline="0",t.style.margin="0",t.style.padding="0",t.style.border="0",t.style.left="0",t.style.whiteSpace="pre",t.style.fontSize=i,t.style.fontFamily=o,t.style.fontWeight="normal",document.body.appendChild(t)),t.innerHTML=String(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),t.getBoundingClientRect().right}(a=a||{}).confirmKeys=a.confirmKeys||[39,35,9],a.caseSensitive=a.caseSensitive||!1;var i="",o="",l=document.createElement("div");l.style.position="relative",l.style.outline="0",l.style.border="0",l.style.margin="0",l.style.padding="0";var c=document.createElement("div");c.className="autocomplete dropdown",c.style.position="absolute",c.style.visibility="hidden";var t,d,u,h,p,n,f,m={onArrowDown:function(){},onArrowUp:function(){},onEnter:function(){},onTab:function(){},startFrom:0,options:[],element:null,elementHint:null,elementStyle:null,wrapper:l,show:function(e,t,n){this.startFrom=t,this.wrapper.remove(),this.elementHint&&(this.elementHint.remove(),this.elementHint=null),""==i&&(i=window.getComputedStyle(e).getPropertyValue("font-size")),""==o&&(o=window.getComputedStyle(e).getPropertyValue("font-family")),e.getBoundingClientRect().right,e.getBoundingClientRect().left,c.style.marginLeft="0",c.style.marginTop=e.getBoundingClientRect().height+"px",this.options=n,this.element!=e&&(this.element=e,this.elementStyle={zIndex:this.element.style.zIndex,position:this.element.style.position,backgroundColor:this.element.style.backgroundColor,borderColor:this.element.style.borderColor}),this.element.style.zIndex=3,this.element.style.position="relative",this.element.style.backgroundColor="transparent",this.element.style.borderColor="transparent",this.elementHint=e.cloneNode(),this.elementHint.className="autocomplete hint",this.elementHint.style.zIndex=2,this.elementHint.style.position="absolute",this.elementHint.onfocus=function(){this.element.focus()}.bind(this),this.element.addEventListener&&(this.element.removeEventListener("keydown",v),this.element.addEventListener("keydown",v,!1),this.element.removeEventListener("blur",b),this.element.addEventListener("blur",b,!1)),l.appendChild(this.elementHint),l.appendChild(c),e.parentElement.appendChild(l),this.repaint(e)},setText:function(e){this.element.innerText=e},getText:function(){return this.element.innerText},hideDropDown:function(){this.wrapper.remove(),this.elementHint&&(this.elementHint.remove(),this.elementHint=null,g.hide(),this.element.style.zIndex=this.elementStyle.zIndex,this.element.style.position=this.elementStyle.position,this.element.style.backgroundColor=this.elementStyle.backgroundColor,this.element.style.borderColor=this.elementStyle.borderColor)},repaint:function(e){var e=(e=e.innerText).replace("\n",""),t=(this.startFrom,this.options,this.options.length),n=e.substring(this.startFrom);d=e.substring(0,this.startFrom);for(var i=0;i<t;i++){var o=this.options[i];if(!a.caseSensitive&&0===o.toLowerCase().indexOf(n.toLowerCase())||a.caseSensitive&&0===o.indexOf(n)){this.elementHint.innerText=d+n+o.substring(n.length),this.elementHint.realInnerText=d+o;break}}c.style.left=s(d)+"px",g.refresh(n,this.options),this.elementHint.style.width=s(this.elementHint.innerText)+10+"px","hidden"==c.style.visibility||(this.elementHint.style.width=s(this.elementHint.innerText)+c.clientWidth+"px")}},g=(u=c,h=[],p=0,n=-1,f={rs:m,hide:function(){u.style.visibility="hidden"},refresh:function(e,t){u.style.visibility="hidden",p=0,u.innerHTML="";var n=window.innerHeight||document.documentElement.clientHeight,i=u.parentNode.getBoundingClientRect(),o=i.top-6,i=n-i.bottom-6;h=[];for(var r,s=0;s<t.length;s++)a.caseSensitive&&0!==t[s].indexOf(e)||!a.caseSensitive&&0!==t[s].toLowerCase().indexOf(e.toLowerCase())||((r=document.createElement("div")).className="item",r.onmouseover=y,r.onmouseout=x,r.onmousedown=w,r.__hint=t[s],r.innerHTML=t[s].substring(0,e.length)+"<b>"+t[s].substring(e.length)+"</b>",h.push(r),u.appendChild(r));0!==h.length&&(1===h.length&&(e.toLowerCase()===h[0].__hint.toLowerCase()&&!a.caseSensitive||e===h[0].__hint&&a.caseSensitive)||h.length<2||(f.highlight(0),3*i<o?(u.style.maxHeight=o+"px",u.style.top="",u.style.bottom="100%"):(u.style.top="100%",u.style.bottom="",u.style.maxHeight=i+"px"),u.style.visibility="visible"))},highlight:function(e){-1!=n&&h[n]&&(h[n].className="item"),h[e].className="item hover",n=e},move:function(e){return"hidden"===u.style.visibility?"":(p+e===-1||p+e===h.length||(p+=e,f.highlight(p)),h[p].__hint)},onmouseselection:function(){}}),v=function(e){var t=(e=e||window.event).keyCode;if(null!=this.elementHint&&33!=t&&34!=t){if(27==t)return m.hideDropDown(),m.element.focus(),e.preventDefault(),void e.stopPropagation();var n=(n=this.element.innerText).replace("\n","");if(this.startFrom,0<=a.confirmKeys.indexOf(t))return 9==t&&0==this.elementHint.innerText.length&&m.onTab(),void(0<this.elementHint.innerText.length&&this.element.innerText!=this.elementHint.realInnerText&&(this.element.innerText=this.elementHint.realInnerText,m.hideDropDown(),r(this.element),9==t&&(m.element.focus(),e.preventDefault(),e.stopPropagation())));if(13!=t){if(40==t){var i=n.substring(this.startFrom);return""==(o=g.move(1))&&m.onArrowDown(),this.elementHint.innerText=d+i+o.substring(i.length),this.elementHint.realInnerText=d+o,e.preventDefault(),void e.stopPropagation()}38==t&&(i=n.substring(this.startFrom),""==(o=g.move(-1))&&m.onArrowUp(),this.elementHint.innerText=d+i+o.substring(i.length),this.elementHint.realInnerText=d+o,e.preventDefault(),e.stopPropagation())}else if(0==this.elementHint.innerText.length)m.onEnter();else{var o="hidden"==c.style.visibility;if(g.hide(),o)return m.hideDropDown(),m.element.focus(),void m.onEnter();this.element.innerText=this.elementHint.realInnerText,m.hideDropDown(),r(this.element),e.preventDefault(),e.stopPropagation()}}}.bind(m),b=function(e){m.hideDropDown()}.bind(m);function y(){this.style.outline="1px solid #ddd"}function x(){this.style.outline="0"}function w(){f.hide(),f.onmouseselection(this.__hint,f.rs)}return g.onmouseselection=function(e,t){t.element.innerText=t.elementHint.innerText=d+e,t.hideDropDown(),window.setTimeout(function(){t.element.focus(),r(t.element)},1)},m}},function(e,t,l){"use strict";function n(){try{this.format()}catch(e){}}var c=l(22),d=l(19),u=l(6),i={create:function(e,t){void 0===(t=t||{}).statusBar&&(t.statusBar=!0),(this.options=t).indentation?this.indentation=Number(t.indentation):this.indentation=2;var n=t.ace||c;if(this.mode="code"==t.mode?"code":"text","code"==this.mode&&void 0===n&&(this.mode="text",console.warn("Failed to load Ace editor, falling back to plain text mode. Please use a JSONEditor bundle including Ace, or pass Ace as via the configuration option `ace`.")),this.theme=t.theme||"ace/theme/jsoneditor","ace/theme/jsoneditor"===this.theme&&n)try{l(26)}catch(e){console.error(e)}t.onTextSelectionChange&&this.onTextSelectionChange(t.onTextSelectionChange);var i=this;this.container=e,this.dom={},this.aceEditor=void 0,this.textarea=void 0,this.validateSchema=null,this._debouncedValidate=u.debounce(this.validate.bind(this),this.DEBOUNCE_INTERVAL),this.width=e.clientWidth,this.height=e.clientHeight,this.frame=document.createElement("div"),this.frame.className="jsoneditor jsoneditor-mode-"+this.options.mode,this.frame.onclick=function(e){e.preventDefault()},this.frame.onkeydown=function(e){i._onKeyDown(e)},this.menu=document.createElement("div"),this.menu.className="jsoneditor-menu",this.frame.appendChild(this.menu);var o=document.createElement("button");o.type="button",o.className="jsoneditor-format",o.title="Format JSON data, with proper indentation and line feeds (Ctrl+\\)",this.menu.appendChild(o),o.onclick=function(){try{i.format(),i._onChange()}catch(e){i._onError(e)}};o=document.createElement("button");o.type="button",o.className="jsoneditor-compact",o.title="Compact JSON data, remove all whitespaces (Ctrl+Shift+\\)",this.menu.appendChild(o),o.onclick=function(){try{i.compact(),i._onChange()}catch(e){i._onError(e)}};o=document.createElement("button");o.type="button",o.className="jsoneditor-repair",o.title="Repair JSON: fix quotes and escape characters, remove comments and JSONP notation, turn JavaScript objects into JSON.",this.menu.appendChild(o),o.onclick=function(){try{i.repair(),i._onChange()}catch(e){i._onError(e)}},this.options&&this.options.modes&&this.options.modes.length&&(this.modeSwitcher=new d(this.menu,this.options.modes,this.options.mode,function(e){i.setMode(e),i.modeSwitcher.focus()}));var r,o=this.options.onEditable&&typeof("function"===this.options.onEditable)&&!this.options.onEditable({});this.content=document.createElement("div"),this.content.className="jsoneditor-outer",this.frame.appendChild(this.content),this.container.appendChild(this.frame),"code"==this.mode?(this.editorDom=document.createElement("div"),this.editorDom.style.height="100%",this.editorDom.style.width="100%",this.content.appendChild(this.editorDom),(a=n.edit(this.editorDom)).$blockScrolling=1/0,a.setTheme(this.theme),a.setOptions({readOnly:o}),a.setShowPrintMargin(!1),a.setFontSize(13),a.getSession().setMode("ace/mode/json"),a.getSession().setTabSize(this.indentation),a.getSession().setUseSoftTabs(!0),a.getSession().setUseWrapMode(!0),a.commands.bindKey("Ctrl-L",null),a.commands.bindKey("Command-L",null),this.aceEditor=a,this.hasOwnProperty("editor")||Object.defineProperty(this,"editor",{get:function(){return console.warn('Property "editor" has been renamed to "aceEditor".'),i.aceEditor},set:function(e){console.warn('Property "editor" has been renamed to "aceEditor".'),i.aceEditor=e}}),(r=document.createElement("a")).appendChild(document.createTextNode("powered by ace")),r.href="http://ace.ajax.org",r.target="_blank",r.className="jsoneditor-poweredBy",r.onclick=function(){window.open(r.href,r.target)},this.menu.appendChild(r),a.on("change",this._onChange.bind(this)),a.on("changeSelection",this._onSelect.bind(this))):((s=document.createElement("textarea")).className="jsoneditor-text",s.spellcheck=!1,this.content.appendChild(s),this.textarea=s,this.textarea.readOnly=o,null===this.textarea.oninput?this.textarea.oninput=this._onChange.bind(this):this.textarea.onchange=this._onChange.bind(this),s.onselect=this._onSelect.bind(this),s.onmousedown=this._onMouseDown.bind(this),s.onblur=this._onBlur.bind(this));var s,a=document.createElement("div");a.className="validation-errors-container",this.dom.validationErrorsContainer=a,this.frame.appendChild(a),t.statusBar&&(u.addClassName(this.content,"has-status-bar"),this.curserInfoElements={},o=document.createElement("div"),(this.dom.statusBar=o).className="jsoneditor-statusbar",this.frame.appendChild(o),(s=document.createElement("span")).className="jsoneditor-curserinfo-label",s.innerText="Ln:",(a=document.createElement("span")).className="jsoneditor-curserinfo-val",a.innerText="1",o.appendChild(s),o.appendChild(a),(t=document.createElement("span")).className="jsoneditor-curserinfo-label",t.innerText="Col:",(s=document.createElement("span")).className="jsoneditor-curserinfo-val",s.innerText="1",o.appendChild(t),o.appendChild(s),this.curserInfoElements.colVal=s,this.curserInfoElements.lnVal=a,(s=document.createElement("span")).className="jsoneditor-curserinfo-label",s.innerText="characters selected",s.style.display="none",(a=document.createElement("span")).className="jsoneditor-curserinfo-count",a.innerText="0",a.style.display="none",this.curserInfoElements.countLabel=s,this.curserInfoElements.countVal=a,o.appendChild(a),o.appendChild(s)),this.setSchema(this.options.schema,this.options.schemaRefs)},_onChange:function(){if(!this.onChangeDisabled){if(this._debouncedValidate(),this.options.onChange)try{this.options.onChange()}catch(e){console.error("Error in onChange callback: ",e)}if(this.options.onChangeText)try{this.options.onChangeText(this.getText())}catch(e){console.error("Error in onChangeText callback: ",e)}}},_onSelect:function(){this._updateCursorInfo(),this._emitSelectionChange()},_onKeyDown:function(e){var t=!1;220==(e.which||e.keyCode)&&e.ctrlKey&&(e.shiftKey?this.compact():this.format(),this._onChange(),t=!0),t&&(e.preventDefault(),e.stopPropagation()),this._updateCursorInfo(),this._emitSelectionChange()},_onMouseDown:function(e){this._updateCursorInfo(),this._emitSelectionChange()},_onBlur:function(e){this._updateCursorInfo(),this._emitSelectionChange()},_updateCursorInfo:function(){function t(){s.curserInfoElements.countVal.innerText!==r&&(s.curserInfoElements.countVal.innerText=r,s.curserInfoElements.countVal.style.display=r?"inline":"none",s.curserInfoElements.countLabel.style.display=r?"inline":"none"),s.curserInfoElements.lnVal.innerText=i,s.curserInfoElements.colVal.innerText=o}var e,n,i,o,r,s=this;this.textarea?setTimeout(function(){var e=u.getInputSelection(s.textarea);e.startIndex!==e.endIndex&&(r=e.endIndex-e.startIndex),o=r&&s.cursorInfo&&s.cursorInfo.line===e.end.row&&s.cursorInfo.column===e.end.column?(i=e.start.row,e.start.column):(i=e.end.row,e.end.column),s.cursorInfo={line:i,column:o,count:r},s.options.statusBar&&t()},0):this.aceEditor&&this.curserInfoElements&&(e=this.aceEditor.getCursorPosition(),n=this.aceEditor.getSelectedText(),i=e.row+1,o=e.column+1,r=n.length,s.cursorInfo={line:i,column:o,count:r},this.options.statusBar&&t())},_emitSelectionChange:function(){var e;this._selectionChangedHandler&&(e=this.getTextSelection(),this._selectionChangedHandler(e.start,e.end,e.text))},destroy:function(){this.aceEditor&&(this.aceEditor.destroy(),this.aceEditor=null),this.frame&&this.container&&this.frame.parentNode==this.container&&this.container.removeChild(this.frame),this.modeSwitcher&&(this.modeSwitcher.destroy(),this.modeSwitcher=null),this.textarea=null,this._debouncedValidate=null},compact:function(){var e=this.get(),e=JSON.stringify(e);this.setText(e)},format:function(){var e=this.get(),e=JSON.stringify(e,null,this.indentation);this.setText(e)},repair:function(){var e=this.getText(),e=u.sanitize(e);this.setText(e)},focus:function(){this.textarea&&this.textarea.focus(),this.aceEditor&&this.aceEditor.focus()},resize:function(){this.aceEditor&&this.aceEditor.resize(!1)},set:function(e){this.setText(JSON.stringify(e,null,this.indentation))},update:function(e){this.updateText(JSON.stringify(e,null,this.indentation))},get:function(){var t,n=this.getText();try{t=u.parse(n)}catch(e){n=u.sanitize(n),t=u.parse(n)}return t},getText:function(){return this.textarea?this.textarea.value:this.aceEditor?this.aceEditor.getValue():""},setText:function(e){e=!0===this.options.escapeUnicode?u.escapeUnicodeChars(e):e;this.textarea&&(this.textarea.value=e),this.aceEditor&&(this.onChangeDisabled=!0,this.aceEditor.setValue(e,-1),this.onChangeDisabled=!1),this.validate()},updateText:function(e){this.getText()!==e&&(this.onChangeDisabled=!0,this.setText(e),this.onChangeDisabled=!1)},validate:function(){this.dom.validationErrors&&(this.dom.validationErrors.parentNode.removeChild(this.dom.validationErrors),this.dom.validationErrors=null,this.content.style.marginBottom="",this.content.style.paddingBottom="");var e,t,n=!1,i=[];try{e=this.get(),n=!0}catch(e){}n&&this.validateSchema&&(this.validateSchema(e)||(i=this.validateSchema.errors.map(function(e){return u.improveSchemaError(e)}))),0<i.length&&(3<i.length&&(i=i.slice(0,3),t=this.validateSchema.errors.length-3,i.push("("+t+" more errors...)")),(t=document.createElement("div")).innerHTML='<table class="jsoneditor-text-errors"><tbody>'+i.map(function(e){return'<tr><td><button class="jsoneditor-schema-error"></button></td>'+("string"==typeof e?'<td colspan="2"><pre>'+e+"</pre></td>":"<td>"+e.dataPath+"</td><td>"+e.message+"</td>")+"</tr>"}).join("")+"</tbody></table>",this.dom.validationErrors=t,this.dom.validationErrorsContainer.appendChild(t),t=t.clientHeight+(this.dom.statusBar?this.dom.statusBar.clientHeight:0),this.content.style.marginBottom=-t+"px",this.content.style.paddingBottom=t+"px"),this.aceEditor&&this.aceEditor.resize(!1)},getTextSelection:function(){var e={};if(this.textarea){var t=u.getInputSelection(this.textarea);return this.cursorInfo&&this.cursorInfo.line===t.end.row&&this.cursorInfo.column===t.end.column?(e.start=t.end,e.end=t.start):e=t,{start:e.start,end:e.end,text:this.textarea.value.substring(t.startIndex,t.endIndex)}}if(this.aceEditor){var n=this.aceEditor.getSelection(),i=this.aceEditor.getSelectedText(),t=n.getRange(),n=n.getSelectionLead();return n.row===t.end.row&&n.column===t.end.column?e=t:(e.start=t.end,e.end=t.start),{start:{row:e.start.row+1,column:e.start.column+1},end:{row:e.end.row+1,column:e.end.column+1},text:i}}},onTextSelectionChange:function(e){"function"==typeof e&&(this._selectionChangedHandler=u.debounce(e,this.DEBOUNCE_INTERVAL))},setTextSelection:function(e,t){var n,i,o;e&&t&&(this.textarea?(n=u.getIndexForPosition(this.textarea,e.row,e.column),i=u.getIndexForPosition(this.textarea,t.row,t.column),-1<n&&-1<i&&(this.textarea.setSelectionRange?(this.textarea.focus(),this.textarea.setSelectionRange(n,i)):this.textarea.createTextRange&&((o=this.textarea.createTextRange()).collapse(!0),o.moveEnd("character",i),o.moveStart("character",n),o.select()))):this.aceEditor&&(o={start:{row:e.row-1,column:e.column-1},end:{row:t.row-1,column:t.column-1}},this.aceEditor.selection.setRange(o)))}};e.exports=[{mode:"text",mixin:i,data:"text",load:n},{mode:"code",mixin:i,data:"text",load:n}]},function(e,t,n){var i;if(window.ace)i=window.ace;else try{i=n(!function(){var e=new Error('Cannot find module "brace"');throw e.code="MODULE_NOT_FOUND",e}()),n(23),n(25)}catch(e){}e.exports=i},function(e,t,d){ace.define("ace/mode/json_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],function(e,t,n){"use strict";var i=e("../lib/oop"),o=e("./text_highlight_rules").TextHighlightRules,e=function(){this.$rules={start:[{token:"variable",regex:'["](?:(?:\\\\.)|(?:[^"\\\\]))*?["]\\s*(?=:)'},{token:"string",regex:'"',next:"string"},{token:"constant.numeric",regex:"0[xX][0-9a-fA-F]+\\b"},{token:"constant.numeric",regex:"[+-]?\\d+(?:(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)?\\b"},{token:"constant.language.boolean",regex:"(?:true|false)\\b"},{token:"text",regex:"['](?:(?:\\\\.)|(?:[^'\\\\]))*?[']"},{token:"comment",regex:"\\/\\/.*$"},{token:"comment.start",regex:"\\/\\*",next:"comment"},{token:"paren.lparen",regex:"[[({]"},{token:"paren.rparen",regex:"[\\])}]"},{token:"text",regex:"\\s+"}],string:[{token:"constant.language.escape",regex:/\\(?:x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|["\\\/bfnrt])/},{token:"string",regex:'"|$',next:"start"},{defaultToken:"string"}],comment:[{token:"comment.end",regex:"\\*\\/",next:"start"},{defaultToken:"comment"}]}};i.inherits(e,o),t.JsonHighlightRules=e}),ace.define("ace/mode/matching_brace_outdent",["require","exports","module","ace/range"],function(e,t,n){"use strict";var o=e("../range").Range,e=function(){};(function(){this.checkOutdent=function(e,t){return!!/^\s+$/.test(e)&&/^\s*\}/.test(t)},this.autoOutdent=function(e,t){var n=e.getLine(t).match(/^(\s*\})/);if(!n)return 0;var i=n[1].length,n=e.findMatchingBracket({row:t,column:i});if(!n||n.row==t)return 0;n=this.$getIndent(e.getLine(n.row));e.replace(new o(t,0,t,i-1),n)},this.$getIndent=function(e){return e.match(/^\s*/)[0]}}).call(e.prototype),t.MatchingBraceOutdent=e}),ace.define("ace/mode/folding/cstyle",["require","exports","module","ace/lib/oop","ace/range","ace/mode/folding/fold_mode"],function(e,t,n){"use strict";var i=e("../../lib/oop"),d=e("../../range").Range,e=e("./fold_mode").FoldMode,t=t.FoldMode=function(e){e&&(this.foldingStartMarker=new RegExp(this.foldingStartMarker.source.replace(/\|[^|]*?$/,"|"+e.start)),this.foldingStopMarker=new RegExp(this.foldingStopMarker.source.replace(/\|[^|]*?$/,"|"+e.end)))};i.inherits(t,e),function(){this.foldingStartMarker=/([\{\[\(])[^\}\]\)]*$|^\s*(\/\*)/,this.foldingStopMarker=/^[^\[\{\(]*([\}\]\)])|^[\s\*]*(\*\/)/,this.singleLineBlockCommentRe=/^\s*(\/\*).*\*\/\s*$/,this.tripleStarBlockCommentRe=/^\s*(\/\*\*\*).*\*\/\s*$/,this.startRegionRe=/^\s*(\/\*|\/\/)#?region\b/,this._getFoldWidgetBase=this.getFoldWidget,this.getFoldWidget=function(e,t,n){var i=e.getLine(n);if(this.singleLineBlockCommentRe.test(i)&&!this.startRegionRe.test(i)&&!this.tripleStarBlockCommentRe.test(i))return"";n=this._getFoldWidgetBase(e,t,n);return!n&&this.startRegionRe.test(i)?"start":n},this.getFoldWidgetRange=function(e,t,n,i){var o=e.getLine(n);if(this.startRegionRe.test(o))return this.getCommentRegionBlock(e,o,n);var r=o.match(this.foldingStartMarker);if(r){var s=r.index;if(r[1])return this.openingBracketBlock(e,r[1],n,s);var a=e.getCommentFoldRange(n,s+r[0].length,1);return a&&!a.isMultiLine()&&(i?a=this.getSectionRange(e,n):"all"!=t&&(a=null)),a}if("markbegin"!==t&&(r=o.match(this.foldingStopMarker))){s=r.index+r[0].length;return r[1]?this.closingBracketBlock(e,r[1],n,s):e.getCommentFoldRange(n,s,-1)}},this.getSectionRange=function(e,t){for(var n=(a=e.getLine(t)).search(/\S/),i=t,o=a.length,r=t+=1,s=e.getLength();++t<s;){var a,l=(a=e.getLine(t)).search(/\S/);if(-1!==l){if(l<n)break;var c=this.getFoldWidgetRange(e,"all",t);if(c){if(c.start.row<=i)break;if(c.isMultiLine())t=c.end.row;else if(n==l)break}r=t}}return new d(i,o,r,e.getLine(r).length)},this.getCommentRegionBlock=function(e,t,n){for(var i=t.search(/\s*$/),o=e.getLength(),r=n,s=/^\s*(?:\/\*|\/\/|--)#?(end)?region\b/,a=1;++n<o;){t=e.getLine(n);var l=s.exec(t);if(l&&(l[1]?a--:a++,!a))break}if(r<n)return new d(r,i,n,t.length)}}.call(t.prototype)}),ace.define("ace/mode/json",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/json_highlight_rules","ace/mode/matching_brace_outdent","ace/mode/behaviour/cstyle","ace/mode/folding/cstyle","ace/worker/worker_client"],function(e,t,n){"use strict";var i=e("../lib/oop"),o=e("./text").Mode,r=e("./json_highlight_rules").JsonHighlightRules,s=e("./matching_brace_outdent").MatchingBraceOutdent,a=e("./behaviour/cstyle").CstyleBehaviour,l=e("./folding/cstyle").FoldMode,c=e("../worker/worker_client").WorkerClient,e=function(){this.HighlightRules=r,this.$outdent=new s,this.$behaviour=new a,this.foldingRules=new l};i.inherits(e,o),function(){this.getNextLineIndent=function(e,t,n){var i=this.$getIndent(t);return"start"==e&&t.match(/^.*[\{\(\[]\s*$/)&&(i+=n),i},this.checkOutdent=function(e,t,n){return this.$outdent.checkOutdent(t,n)},this.autoOutdent=function(e,t,n){this.$outdent.autoOutdent(t,n)},this.createWorker=function(t){var e=new c(["ace"],d(24),"JsonWorker");return e.attachToDocument(t.getDocument()),e.on("annotate",function(e){t.setAnnotations(e.data)}),e.on("terminate",function(){t.clearAnnotations()}),e},this.$id="ace/mode/json"}.call(e.prototype),t.Mode=e})},function(e,t){e.exports.id="ace/mode/json_worker",e.exports.src='"no use strict";!function(window){function resolveModuleId(id,paths){for(var testPath=id,tail="";testPath;){var alias=paths[testPath];if("string"==typeof alias)return alias+tail;if(alias)return alias.location.replace(/\\/*$/,"/")+(tail||alias.main||alias.name);if(alias===!1)return"";var i=testPath.lastIndexOf("/");if(-1===i)break;tail=testPath.substr(i)+tail,testPath=testPath.slice(0,i)}return id}if(!(void 0!==window.window&&window.document||window.acequire&&window.define)){window.console||(window.console=function(){var msgs=Array.prototype.slice.call(arguments,0);postMessage({type:"log",data:msgs})},window.console.error=window.console.warn=window.console.log=window.console.trace=window.console),window.window=window,window.ace=window,window.onerror=function(message,file,line,col,err){postMessage({type:"error",data:{message:message,data:err.data,file:file,line:line,col:col,stack:err.stack}})},window.normalizeModule=function(parentId,moduleName){if(-1!==moduleName.indexOf("!")){var chunks=moduleName.split("!");return window.normalizeModule(parentId,chunks[0])+"!"+window.normalizeModule(parentId,chunks[1])}if("."==moduleName.charAt(0)){var base=parentId.split("/").slice(0,-1).join("/");for(moduleName=(base?base+"/":"")+moduleName;-1!==moduleName.indexOf(".")&&previous!=moduleName;){var previous=moduleName;moduleName=moduleName.replace(/^\\.\\//,"").replace(/\\/\\.\\//,"/").replace(/[^\\/]+\\/\\.\\.\\//,"")}}return moduleName},window.acequire=function acequire(parentId,id){if(id||(id=parentId,parentId=null),!id.charAt)throw Error("worker.js acequire() accepts only (parentId, id) as arguments");id=window.normalizeModule(parentId,id);var module=window.acequire.modules[id];if(module)return module.initialized||(module.initialized=!0,module.exports=module.factory().exports),module.exports;if(!window.acequire.tlns)return console.log("unable to load "+id);var path=resolveModuleId(id,window.acequire.tlns);return".js"!=path.slice(-3)&&(path+=".js"),window.acequire.id=id,window.acequire.modules[id]={},importScripts(path),window.acequire(parentId,id)},window.acequire.modules={},window.acequire.tlns={},window.define=function(id,deps,factory){if(2==arguments.length?(factory=deps,"string"!=typeof id&&(deps=id,id=window.acequire.id)):1==arguments.length&&(factory=id,deps=[],id=window.acequire.id),"function"!=typeof factory)return window.acequire.modules[id]={exports:factory,initialized:!0},void 0;deps.length||(deps=["require","exports","module"]);var req=function(childId){return window.acequire(id,childId)};window.acequire.modules[id]={exports:{},factory:function(){var module=this,returnExports=factory.apply(this,deps.map(function(dep){switch(dep){case"require":return req;case"exports":return module.exports;case"module":return module;default:return req(dep)}}));return returnExports&&(module.exports=returnExports),module}}},window.define.amd={},acequire.tlns={},window.initBaseUrls=function(topLevelNamespaces){for(var i in topLevelNamespaces)acequire.tlns[i]=topLevelNamespaces[i]},window.initSender=function(){var EventEmitter=window.acequire("ace/lib/event_emitter").EventEmitter,oop=window.acequire("ace/lib/oop"),Sender=function(){};return function(){oop.implement(this,EventEmitter),this.callback=function(data,callbackId){postMessage({type:"call",id:callbackId,data:data})},this.emit=function(name,data){postMessage({type:"event",name:name,data:data})}}.call(Sender.prototype),new Sender};var main=window.main=null,sender=window.sender=null;window.onmessage=function(e){var msg=e.data;if(msg.event&&sender)sender._signal(msg.event,msg.data);else if(msg.command)if(main[msg.command])main[msg.command].apply(main,msg.args);else{if(!window[msg.command])throw Error("Unknown command:"+msg.command);window[msg.command].apply(window,msg.args)}else if(msg.init){window.initBaseUrls(msg.tlns),acequire("ace/lib/es5-shim"),sender=window.sender=window.initSender();var clazz=acequire(msg.module)[msg.classname];main=window.main=new clazz(sender)}}}}(this),ace.define("ace/lib/oop",["require","exports","module"],function(acequire,exports){"use strict";exports.inherits=function(ctor,superCtor){ctor.super_=superCtor,ctor.prototype=Object.create(superCtor.prototype,{constructor:{value:ctor,enumerable:!1,writable:!0,configurable:!0}})},exports.mixin=function(obj,mixin){for(var key in mixin)obj[key]=mixin[key];return obj},exports.implement=function(proto,mixin){exports.mixin(proto,mixin)}}),ace.define("ace/range",["require","exports","module"],function(acequire,exports){"use strict";var comparePoints=function(p1,p2){return p1.row-p2.row||p1.column-p2.column},Range=function(startRow,startColumn,endRow,endColumn){this.start={row:startRow,column:startColumn},this.end={row:endRow,column:endColumn}};(function(){this.isEqual=function(range){return this.start.row===range.start.row&&this.end.row===range.end.row&&this.start.column===range.start.column&&this.end.column===range.end.column},this.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"},this.contains=function(row,column){return 0==this.compare(row,column)},this.compareRange=function(range){var cmp,end=range.end,start=range.start;return cmp=this.compare(end.row,end.column),1==cmp?(cmp=this.compare(start.row,start.column),1==cmp?2:0==cmp?1:0):-1==cmp?-2:(cmp=this.compare(start.row,start.column),-1==cmp?-1:1==cmp?42:0)},this.comparePoint=function(p){return this.compare(p.row,p.column)},this.containsRange=function(range){return 0==this.comparePoint(range.start)&&0==this.comparePoint(range.end)},this.intersects=function(range){var cmp=this.compareRange(range);return-1==cmp||0==cmp||1==cmp},this.isEnd=function(row,column){return this.end.row==row&&this.end.column==column},this.isStart=function(row,column){return this.start.row==row&&this.start.column==column},this.setStart=function(row,column){"object"==typeof row?(this.start.column=row.column,this.start.row=row.row):(this.start.row=row,this.start.column=column)},this.setEnd=function(row,column){"object"==typeof row?(this.end.column=row.column,this.end.row=row.row):(this.end.row=row,this.end.column=column)},this.inside=function(row,column){return 0==this.compare(row,column)?this.isEnd(row,column)||this.isStart(row,column)?!1:!0:!1},this.insideStart=function(row,column){return 0==this.compare(row,column)?this.isEnd(row,column)?!1:!0:!1},this.insideEnd=function(row,column){return 0==this.compare(row,column)?this.isStart(row,column)?!1:!0:!1},this.compare=function(row,column){return this.isMultiLine()||row!==this.start.row?this.start.row>row?-1:row>this.end.row?1:this.start.row===row?column>=this.start.column?0:-1:this.end.row===row?this.end.column>=column?0:1:0:this.start.column>column?-1:column>this.end.column?1:0},this.compareStart=function(row,column){return this.start.row==row&&this.start.column==column?-1:this.compare(row,column)},this.compareEnd=function(row,column){return this.end.row==row&&this.end.column==column?1:this.compare(row,column)},this.compareInside=function(row,column){return this.end.row==row&&this.end.column==column?1:this.start.row==row&&this.start.column==column?-1:this.compare(row,column)},this.clipRows=function(firstRow,lastRow){if(this.end.row>lastRow)var end={row:lastRow+1,column:0};else if(firstRow>this.end.row)var end={row:firstRow,column:0};if(this.start.row>lastRow)var start={row:lastRow+1,column:0};else if(firstRow>this.start.row)var start={row:firstRow,column:0};return Range.fromPoints(start||this.start,end||this.end)},this.extend=function(row,column){var cmp=this.compare(row,column);if(0==cmp)return this;if(-1==cmp)var start={row:row,column:column};else var end={row:row,column:column};return Range.fromPoints(start||this.start,end||this.end)},this.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},this.isMultiLine=function(){return this.start.row!==this.end.row},this.clone=function(){return Range.fromPoints(this.start,this.end)},this.collapseRows=function(){return 0==this.end.column?new Range(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new Range(this.start.row,0,this.end.row,0)},this.toScreenRange=function(session){var screenPosStart=session.documentToScreenPosition(this.start),screenPosEnd=session.documentToScreenPosition(this.end);return new Range(screenPosStart.row,screenPosStart.column,screenPosEnd.row,screenPosEnd.column)},this.moveBy=function(row,column){this.start.row+=row,this.start.column+=column,this.end.row+=row,this.end.column+=column}}).call(Range.prototype),Range.fromPoints=function(start,end){return new Range(start.row,start.column,end.row,end.column)},Range.comparePoints=comparePoints,Range.comparePoints=function(p1,p2){return p1.row-p2.row||p1.column-p2.column},exports.Range=Range}),ace.define("ace/apply_delta",["require","exports","module"],function(acequire,exports){"use strict";exports.applyDelta=function(docLines,delta){var row=delta.start.row,startColumn=delta.start.column,line=docLines[row]||"";switch(delta.action){case"insert":var lines=delta.lines;if(1===lines.length)docLines[row]=line.substring(0,startColumn)+delta.lines[0]+line.substring(startColumn);else{var args=[row,1].concat(delta.lines);docLines.splice.apply(docLines,args),docLines[row]=line.substring(0,startColumn)+docLines[row],docLines[row+delta.lines.length-1]+=line.substring(startColumn)}break;case"remove":var endColumn=delta.end.column,endRow=delta.end.row;row===endRow?docLines[row]=line.substring(0,startColumn)+line.substring(endColumn):docLines.splice(row,endRow-row+1,line.substring(0,startColumn)+docLines[endRow].substring(endColumn))}}}),ace.define("ace/lib/event_emitter",["require","exports","module"],function(acequire,exports){"use strict";var EventEmitter={},stopPropagation=function(){this.propagationStopped=!0},preventDefault=function(){this.defaultPrevented=!0};EventEmitter._emit=EventEmitter._dispatchEvent=function(eventName,e){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var listeners=this._eventRegistry[eventName]||[],defaultHandler=this._defaultHandlers[eventName];if(listeners.length||defaultHandler){"object"==typeof e&&e||(e={}),e.type||(e.type=eventName),e.stopPropagation||(e.stopPropagation=stopPropagation),e.preventDefault||(e.preventDefault=preventDefault),listeners=listeners.slice();for(var i=0;listeners.length>i&&(listeners[i](e,this),!e.propagationStopped);i++);return defaultHandler&&!e.defaultPrevented?defaultHandler(e,this):void 0}},EventEmitter._signal=function(eventName,e){var listeners=(this._eventRegistry||{})[eventName];if(listeners){listeners=listeners.slice();for(var i=0;listeners.length>i;i++)listeners[i](e,this)}},EventEmitter.once=function(eventName,callback){var _self=this;callback&&this.addEventListener(eventName,function newCallback(){_self.removeEventListener(eventName,newCallback),callback.apply(null,arguments)})},EventEmitter.setDefaultHandler=function(eventName,callback){var handlers=this._defaultHandlers;if(handlers||(handlers=this._defaultHandlers={_disabled_:{}}),handlers[eventName]){var old=handlers[eventName],disabled=handlers._disabled_[eventName];disabled||(handlers._disabled_[eventName]=disabled=[]),disabled.push(old);var i=disabled.indexOf(callback);-1!=i&&disabled.splice(i,1)}handlers[eventName]=callback},EventEmitter.removeDefaultHandler=function(eventName,callback){var handlers=this._defaultHandlers;if(handlers){var disabled=handlers._disabled_[eventName];if(handlers[eventName]==callback)handlers[eventName],disabled&&this.setDefaultHandler(eventName,disabled.pop());else if(disabled){var i=disabled.indexOf(callback);-1!=i&&disabled.splice(i,1)}}},EventEmitter.on=EventEmitter.addEventListener=function(eventName,callback,capturing){this._eventRegistry=this._eventRegistry||{};var listeners=this._eventRegistry[eventName];return listeners||(listeners=this._eventRegistry[eventName]=[]),-1==listeners.indexOf(callback)&&listeners[capturing?"unshift":"push"](callback),callback},EventEmitter.off=EventEmitter.removeListener=EventEmitter.removeEventListener=function(eventName,callback){this._eventRegistry=this._eventRegistry||{};var listeners=this._eventRegistry[eventName];if(listeners){var index=listeners.indexOf(callback);-1!==index&&listeners.splice(index,1)}},EventEmitter.removeAllListeners=function(eventName){this._eventRegistry&&(this._eventRegistry[eventName]=[])},exports.EventEmitter=EventEmitter}),ace.define("ace/anchor",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(acequire,exports){"use strict";var oop=acequire("./lib/oop"),EventEmitter=acequire("./lib/event_emitter").EventEmitter,Anchor=exports.Anchor=function(doc,row,column){this.$onChange=this.onChange.bind(this),this.attach(doc),column===void 0?this.setPosition(row.row,row.column):this.setPosition(row,column)};(function(){function $pointsInOrder(point1,point2,equalPointsInOrder){var bColIsAfter=equalPointsInOrder?point1.column<=point2.column:point1.column<point2.column;return point1.row<point2.row||point1.row==point2.row&&bColIsAfter}function $getTransformedPoint(delta,point,moveIfEqual){var deltaIsInsert="insert"==delta.action,deltaRowShift=(deltaIsInsert?1:-1)*(delta.end.row-delta.start.row),deltaColShift=(deltaIsInsert?1:-1)*(delta.end.column-delta.start.column),deltaStart=delta.start,deltaEnd=deltaIsInsert?deltaStart:delta.end;return $pointsInOrder(point,deltaStart,moveIfEqual)?{row:point.row,column:point.column}:$pointsInOrder(deltaEnd,point,!moveIfEqual)?{row:point.row+deltaRowShift,column:point.column+(point.row==deltaEnd.row?deltaColShift:0)}:{row:deltaStart.row,column:deltaStart.column}}oop.implement(this,EventEmitter),this.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},this.getDocument=function(){return this.document},this.$insertRight=!1,this.onChange=function(delta){if(!(delta.start.row==delta.end.row&&delta.start.row!=this.row||delta.start.row>this.row)){var point=$getTransformedPoint(delta,{row:this.row,column:this.column},this.$insertRight);this.setPosition(point.row,point.column,!0)}},this.setPosition=function(row,column,noClip){var pos;if(pos=noClip?{row:row,column:column}:this.$clipPositionToDocument(row,column),this.row!=pos.row||this.column!=pos.column){var old={row:this.row,column:this.column};this.row=pos.row,this.column=pos.column,this._signal("change",{old:old,value:pos})}},this.detach=function(){this.document.removeEventListener("change",this.$onChange)},this.attach=function(doc){this.document=doc||this.document,this.document.on("change",this.$onChange)},this.$clipPositionToDocument=function(row,column){var pos={};return row>=this.document.getLength()?(pos.row=Math.max(0,this.document.getLength()-1),pos.column=this.document.getLine(pos.row).length):0>row?(pos.row=0,pos.column=0):(pos.row=row,pos.column=Math.min(this.document.getLine(pos.row).length,Math.max(0,column))),0>column&&(pos.column=0),pos}}).call(Anchor.prototype)}),ace.define("ace/document",["require","exports","module","ace/lib/oop","ace/apply_delta","ace/lib/event_emitter","ace/range","ace/anchor"],function(acequire,exports){"use strict";var oop=acequire("./lib/oop"),applyDelta=acequire("./apply_delta").applyDelta,EventEmitter=acequire("./lib/event_emitter").EventEmitter,Range=acequire("./range").Range,Anchor=acequire("./anchor").Anchor,Document=function(textOrLines){this.$lines=[""],0===textOrLines.length?this.$lines=[""]:Array.isArray(textOrLines)?this.insertMergedLines({row:0,column:0},textOrLines):this.insert({row:0,column:0},textOrLines)};(function(){oop.implement(this,EventEmitter),this.setValue=function(text){var len=this.getLength()-1;this.remove(new Range(0,0,len,this.getLine(len).length)),this.insert({row:0,column:0},text)},this.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},this.createAnchor=function(row,column){return new Anchor(this,row,column)},this.$split=0==="aaa".split(/a/).length?function(text){return text.replace(/\\r\\n|\\r/g,"\\n").split("\\n")}:function(text){return text.split(/\\r\\n|\\r|\\n/)},this.$detectNewLine=function(text){var match=text.match(/^.*?(\\r\\n|\\r|\\n)/m);this.$autoNewLine=match?match[1]:"\\n",this._signal("changeNewLineMode")},this.getNewLineCharacter=function(){switch(this.$newLineMode){case"windows":return"\\r\\n";case"unix":return"\\n";default:return this.$autoNewLine||"\\n"}},this.$autoNewLine="",this.$newLineMode="auto",this.setNewLineMode=function(newLineMode){this.$newLineMode!==newLineMode&&(this.$newLineMode=newLineMode,this._signal("changeNewLineMode"))},this.getNewLineMode=function(){return this.$newLineMode},this.isNewLine=function(text){return"\\r\\n"==text||"\\r"==text||"\\n"==text},this.getLine=function(row){return this.$lines[row]||""},this.getLines=function(firstRow,lastRow){return this.$lines.slice(firstRow,lastRow+1)},this.getAllLines=function(){return this.getLines(0,this.getLength())},this.getLength=function(){return this.$lines.length},this.getTextRange=function(range){return this.getLinesForRange(range).join(this.getNewLineCharacter())},this.getLinesForRange=function(range){var lines;if(range.start.row===range.end.row)lines=[this.getLine(range.start.row).substring(range.start.column,range.end.column)];else{lines=this.getLines(range.start.row,range.end.row),lines[0]=(lines[0]||"").substring(range.start.column);var l=lines.length-1;range.end.row-range.start.row==l&&(lines[l]=lines[l].substring(0,range.end.column))}return lines},this.insertLines=function(row,lines){return console.warn("Use of document.insertLines is deprecated. Use the insertFullLines method instead."),this.insertFullLines(row,lines)},this.removeLines=function(firstRow,lastRow){return console.warn("Use of document.removeLines is deprecated. Use the removeFullLines method instead."),this.removeFullLines(firstRow,lastRow)},this.insertNewLine=function(position){return console.warn("Use of document.insertNewLine is deprecated. Use insertMergedLines(position, [\'\', \'\']) instead."),this.insertMergedLines(position,["",""])},this.insert=function(position,text){return 1>=this.getLength()&&this.$detectNewLine(text),this.insertMergedLines(position,this.$split(text))},this.insertInLine=function(position,text){var start=this.clippedPos(position.row,position.column),end=this.pos(position.row,position.column+text.length);return this.applyDelta({start:start,end:end,action:"insert",lines:[text]},!0),this.clonePos(end)},this.clippedPos=function(row,column){var length=this.getLength();void 0===row?row=length:0>row?row=0:row>=length&&(row=length-1,column=void 0);var line=this.getLine(row);return void 0==column&&(column=line.length),column=Math.min(Math.max(column,0),line.length),{row:row,column:column}},this.clonePos=function(pos){return{row:pos.row,column:pos.column}},this.pos=function(row,column){return{row:row,column:column}},this.$clipPosition=function(position){var length=this.getLength();return position.row>=length?(position.row=Math.max(0,length-1),position.column=this.getLine(length-1).length):(position.row=Math.max(0,position.row),position.column=Math.min(Math.max(position.column,0),this.getLine(position.row).length)),position},this.insertFullLines=function(row,lines){row=Math.min(Math.max(row,0),this.getLength());var column=0;this.getLength()>row?(lines=lines.concat([""]),column=0):(lines=[""].concat(lines),row--,column=this.$lines[row].length),this.insertMergedLines({row:row,column:column},lines)},this.insertMergedLines=function(position,lines){var start=this.clippedPos(position.row,position.column),end={row:start.row+lines.length-1,column:(1==lines.length?start.column:0)+lines[lines.length-1].length};return this.applyDelta({start:start,end:end,action:"insert",lines:lines}),this.clonePos(end)},this.remove=function(range){var start=this.clippedPos(range.start.row,range.start.column),end=this.clippedPos(range.end.row,range.end.column);return this.applyDelta({start:start,end:end,action:"remove",lines:this.getLinesForRange({start:start,end:end})}),this.clonePos(start)},this.removeInLine=function(row,startColumn,endColumn){var start=this.clippedPos(row,startColumn),end=this.clippedPos(row,endColumn);return this.applyDelta({start:start,end:end,action:"remove",lines:this.getLinesForRange({start:start,end:end})},!0),this.clonePos(start)},this.removeFullLines=function(firstRow,lastRow){firstRow=Math.min(Math.max(0,firstRow),this.getLength()-1),lastRow=Math.min(Math.max(0,lastRow),this.getLength()-1);var deleteFirstNewLine=lastRow==this.getLength()-1&&firstRow>0,deleteLastNewLine=this.getLength()-1>lastRow,startRow=deleteFirstNewLine?firstRow-1:firstRow,startCol=deleteFirstNewLine?this.getLine(startRow).length:0,endRow=deleteLastNewLine?lastRow+1:lastRow,endCol=deleteLastNewLine?0:this.getLine(endRow).length,range=new Range(startRow,startCol,endRow,endCol),deletedLines=this.$lines.slice(firstRow,lastRow+1);return this.applyDelta({start:range.start,end:range.end,action:"remove",lines:this.getLinesForRange(range)}),deletedLines},this.removeNewLine=function(row){this.getLength()-1>row&&row>=0&&this.applyDelta({start:this.pos(row,this.getLine(row).length),end:this.pos(row+1,0),action:"remove",lines:["",""]})},this.replace=function(range,text){if(range instanceof Range||(range=Range.fromPoints(range.start,range.end)),0===text.length&&range.isEmpty())return range.start;if(text==this.getTextRange(range))return range.end;this.remove(range);var end;return end=text?this.insert(range.start,text):range.start},this.applyDeltas=function(deltas){for(var i=0;deltas.length>i;i++)this.applyDelta(deltas[i])},this.revertDeltas=function(deltas){for(var i=deltas.length-1;i>=0;i--)this.revertDelta(deltas[i])},this.applyDelta=function(delta,doNotValidate){var isInsert="insert"==delta.action;(isInsert?1>=delta.lines.length&&!delta.lines[0]:!Range.comparePoints(delta.start,delta.end))||(isInsert&&delta.lines.length>2e4&&this.$splitAndapplyLargeDelta(delta,2e4),applyDelta(this.$lines,delta,doNotValidate),this._signal("change",delta))},this.$splitAndapplyLargeDelta=function(delta,MAX){for(var lines=delta.lines,l=lines.length,row=delta.start.row,column=delta.start.column,from=0,to=0;;){from=to,to+=MAX-1;var chunk=lines.slice(from,to);if(to>l){delta.lines=chunk,delta.start.row=row+from,delta.start.column=column;break}chunk.push(""),this.applyDelta({start:this.pos(row+from,column),end:this.pos(row+to,column=0),action:delta.action,lines:chunk},!0)}},this.revertDelta=function(delta){this.applyDelta({start:this.clonePos(delta.start),end:this.clonePos(delta.end),action:"insert"==delta.action?"remove":"insert",lines:delta.lines.slice()})},this.indexToPosition=function(index,startRow){for(var lines=this.$lines||this.getAllLines(),newlineLength=this.getNewLineCharacter().length,i=startRow||0,l=lines.length;l>i;i++)if(index-=lines[i].length+newlineLength,0>index)return{row:i,column:index+lines[i].length+newlineLength};return{row:l-1,column:lines[l-1].length}},this.positionToIndex=function(pos,startRow){for(var lines=this.$lines||this.getAllLines(),newlineLength=this.getNewLineCharacter().length,index=0,row=Math.min(pos.row,lines.length),i=startRow||0;row>i;++i)index+=lines[i].length+newlineLength;return index+pos.column}}).call(Document.prototype),exports.Document=Document}),ace.define("ace/lib/lang",["require","exports","module"],function(acequire,exports){"use strict";exports.last=function(a){return a[a.length-1]},exports.stringReverse=function(string){return string.split("").reverse().join("")},exports.stringRepeat=function(string,count){for(var result="";count>0;)1&count&&(result+=string),(count>>=1)&&(string+=string);return result};var trimBeginRegexp=/^\\s\\s*/,trimEndRegexp=/\\s\\s*$/;exports.stringTrimLeft=function(string){return string.replace(trimBeginRegexp,"")},exports.stringTrimRight=function(string){return string.replace(trimEndRegexp,"")},exports.copyObject=function(obj){var copy={};for(var key in obj)copy[key]=obj[key];return copy},exports.copyArray=function(array){for(var copy=[],i=0,l=array.length;l>i;i++)copy[i]=array[i]&&"object"==typeof array[i]?this.copyObject(array[i]):array[i];return copy},exports.deepCopy=function deepCopy(obj){if("object"!=typeof obj||!obj)return obj;var copy;if(Array.isArray(obj)){copy=[];for(var key=0;obj.length>key;key++)copy[key]=deepCopy(obj[key]);return copy}if("[object Object]"!==Object.prototype.toString.call(obj))return obj;copy={};for(var key in obj)copy[key]=deepCopy(obj[key]);return copy},exports.arrayToMap=function(arr){for(var map={},i=0;arr.length>i;i++)map[arr[i]]=1;return map},exports.createMap=function(props){var map=Object.create(null);for(var i in props)map[i]=props[i];return map},exports.arrayRemove=function(array,value){for(var i=0;array.length>=i;i++)value===array[i]&&array.splice(i,1)},exports.escapeRegExp=function(str){return str.replace(/([.*+?^${}()|[\\]\\/\\\\])/g,"\\\\$1")},exports.escapeHTML=function(str){return str.replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/\'/g,"&#39;").replace(/</g,"&#60;")},exports.getMatchOffsets=function(string,regExp){var matches=[];return string.replace(regExp,function(str){matches.push({offset:arguments[arguments.length-2],length:str.length})}),matches},exports.deferredCall=function(fcn){var timer=null,callback=function(){timer=null,fcn()},deferred=function(timeout){return deferred.cancel(),timer=setTimeout(callback,timeout||0),deferred};return deferred.schedule=deferred,deferred.call=function(){return this.cancel(),fcn(),deferred},deferred.cancel=function(){return clearTimeout(timer),timer=null,deferred},deferred.isPending=function(){return timer},deferred},exports.delayedCall=function(fcn,defaultTimeout){var timer=null,callback=function(){timer=null,fcn()},_self=function(timeout){null==timer&&(timer=setTimeout(callback,timeout||defaultTimeout))};return _self.delay=function(timeout){timer&&clearTimeout(timer),timer=setTimeout(callback,timeout||defaultTimeout)},_self.schedule=_self,_self.call=function(){this.cancel(),fcn()},_self.cancel=function(){timer&&clearTimeout(timer),timer=null},_self.isPending=function(){return timer},_self}}),ace.define("ace/worker/mirror",["require","exports","module","ace/range","ace/document","ace/lib/lang"],function(acequire,exports){"use strict";acequire("../range").Range;var Document=acequire("../document").Document,lang=acequire("../lib/lang"),Mirror=exports.Mirror=function(sender){this.sender=sender;var doc=this.doc=new Document(""),deferredUpdate=this.deferredUpdate=lang.delayedCall(this.onUpdate.bind(this)),_self=this;sender.on("change",function(e){var data=e.data;if(data[0].start)doc.applyDeltas(data);else for(var i=0;data.length>i;i+=2){if(Array.isArray(data[i+1]))var d={action:"insert",start:data[i],lines:data[i+1]};else var d={action:"remove",start:data[i],end:data[i+1]};doc.applyDelta(d,!0)}return _self.$timeout?deferredUpdate.schedule(_self.$timeout):(_self.onUpdate(),void 0)})};(function(){this.$timeout=500,this.setTimeout=function(timeout){this.$timeout=timeout},this.setValue=function(value){this.doc.setValue(value),this.deferredUpdate.schedule(this.$timeout)},this.getValue=function(callbackId){this.sender.callback(this.doc.getValue(),callbackId)},this.onUpdate=function(){},this.isPending=function(){return this.deferredUpdate.isPending()}}).call(Mirror.prototype)}),ace.define("ace/mode/json/json_parse",["require","exports","module"],function(){"use strict";var at,ch,text,value,escapee={\'"\':\'"\',"\\\\":"\\\\","/":"/",b:"\\b",f:"\\f",n:"\\n",r:"\\r",t:"\t"},error=function(m){throw{name:"SyntaxError",message:m,at:at,text:text}},next=function(c){return c&&c!==ch&&error("Expected \'"+c+"\' instead of \'"+ch+"\'"),ch=text.charAt(at),at+=1,ch},number=function(){var number,string="";for("-"===ch&&(string="-",next("-"));ch>="0"&&"9">=ch;)string+=ch,next();if("."===ch)for(string+=".";next()&&ch>="0"&&"9">=ch;)string+=ch;if("e"===ch||"E"===ch)for(string+=ch,next(),("-"===ch||"+"===ch)&&(string+=ch,next());ch>="0"&&"9">=ch;)string+=ch,next();return number=+string,isNaN(number)?(error("Bad number"),void 0):number},string=function(){var hex,i,uffff,string="";if(\'"\'===ch)for(;next();){if(\'"\'===ch)return next(),string;if("\\\\"===ch)if(next(),"u"===ch){for(uffff=0,i=0;4>i&&(hex=parseInt(next(),16),isFinite(hex));i+=1)uffff=16*uffff+hex;string+=String.fromCharCode(uffff)}else{if("string"!=typeof escapee[ch])break;string+=escapee[ch]}else string+=ch}error("Bad string")},white=function(){for(;ch&&" ">=ch;)next()},word=function(){switch(ch){case"t":return next("t"),next("r"),next("u"),next("e"),!0;case"f":return next("f"),next("a"),next("l"),next("s"),next("e"),!1;case"n":return next("n"),next("u"),next("l"),next("l"),null}error("Unexpected \'"+ch+"\'")},array=function(){var array=[];if("["===ch){if(next("["),white(),"]"===ch)return next("]"),array;for(;ch;){if(array.push(value()),white(),"]"===ch)return next("]"),array;next(","),white()}}error("Bad array")},object=function(){var key,object={};if("{"===ch){if(next("{"),white(),"}"===ch)return next("}"),object;for(;ch;){if(key=string(),white(),next(":"),Object.hasOwnProperty.call(object,key)&&error(\'Duplicate key "\'+key+\'"\'),object[key]=value(),white(),"}"===ch)return next("}"),object;next(","),white()}}error("Bad object")};return value=function(){switch(white(),ch){case"{":return object();case"[":return array();case\'"\':return string();case"-":return number();default:return ch>="0"&&"9">=ch?number():word()}},function(source,reviver){var result;return text=source,at=0,ch=" ",result=value(),white(),ch&&error("Syntax error"),"function"==typeof reviver?function walk(holder,key){var k,v,value=holder[key];if(value&&"object"==typeof value)for(k in value)Object.hasOwnProperty.call(value,k)&&(v=walk(value,k),void 0!==v?value[k]=v:delete value[k]);return reviver.call(holder,key,value)}({"":result},""):result}}),ace.define("ace/mode/json_worker",["require","exports","module","ace/lib/oop","ace/worker/mirror","ace/mode/json/json_parse"],function(acequire,exports){"use strict";var oop=acequire("../lib/oop"),Mirror=acequire("../worker/mirror").Mirror,parse=acequire("./json/json_parse"),JsonWorker=exports.JsonWorker=function(sender){Mirror.call(this,sender),this.setTimeout(200)};oop.inherits(JsonWorker,Mirror),function(){this.onUpdate=function(){var value=this.doc.getValue(),errors=[];try{value&&parse(value)}catch(e){var pos=this.doc.indexToPosition(e.at-1);errors.push({row:pos.row,column:pos.column,text:e.message,type:"error"})}this.sender.emit("annotate",errors)}}.call(JsonWorker.prototype)}),ace.define("ace/lib/es5-shim",["require","exports","module"],function(){function Empty(){}function doesDefinePropertyWork(object){try{return Object.defineProperty(object,"sentinel",{}),"sentinel"in object}catch(exception){}}function toInteger(n){return n=+n,n!==n?n=0:0!==n&&n!==1/0&&n!==-(1/0)&&(n=(n>0||-1)*Math.floor(Math.abs(n))),n}Function.prototype.bind||(Function.prototype.bind=function(that){var target=this;if("function"!=typeof target)throw new TypeError("Function.prototype.bind called on incompatible "+target);var args=slice.call(arguments,1),bound=function(){if(this instanceof bound){var result=target.apply(this,args.concat(slice.call(arguments)));return Object(result)===result?result:this}return target.apply(that,args.concat(slice.call(arguments)))};return target.prototype&&(Empty.prototype=target.prototype,bound.prototype=new Empty,Empty.prototype=null),bound});var defineGetter,defineSetter,lookupGetter,lookupSetter,supportsAccessors,call=Function.prototype.call,prototypeOfArray=Array.prototype,prototypeOfObject=Object.prototype,slice=prototypeOfArray.slice,_toString=call.bind(prototypeOfObject.toString),owns=call.bind(prototypeOfObject.hasOwnProperty);if((supportsAccessors=owns(prototypeOfObject,"__defineGetter__"))&&(defineGetter=call.bind(prototypeOfObject.__defineGetter__),defineSetter=call.bind(prototypeOfObject.__defineSetter__),lookupGetter=call.bind(prototypeOfObject.__lookupGetter__),lookupSetter=call.bind(prototypeOfObject.__lookupSetter__)),2!=[1,2].splice(0).length)if(function(){function makeArray(l){var a=Array(l+2);return a[0]=a[1]=0,a}var lengthBefore,array=[];return array.splice.apply(array,makeArray(20)),array.splice.apply(array,makeArray(26)),lengthBefore=array.length,array.splice(5,0,"XXX"),lengthBefore+1==array.length,lengthBefore+1==array.length?!0:void 0\n}()){var array_splice=Array.prototype.splice;Array.prototype.splice=function(start,deleteCount){return arguments.length?array_splice.apply(this,[void 0===start?0:start,void 0===deleteCount?this.length-start:deleteCount].concat(slice.call(arguments,2))):[]}}else Array.prototype.splice=function(pos,removeCount){var length=this.length;pos>0?pos>length&&(pos=length):void 0==pos?pos=0:0>pos&&(pos=Math.max(length+pos,0)),length>pos+removeCount||(removeCount=length-pos);var removed=this.slice(pos,pos+removeCount),insert=slice.call(arguments,2),add=insert.length;if(pos===length)add&&this.push.apply(this,insert);else{var remove=Math.min(removeCount,length-pos),tailOldPos=pos+remove,tailNewPos=tailOldPos+add-remove,tailCount=length-tailOldPos,lengthAfterRemove=length-remove;if(tailOldPos>tailNewPos)for(var i=0;tailCount>i;++i)this[tailNewPos+i]=this[tailOldPos+i];else if(tailNewPos>tailOldPos)for(i=tailCount;i--;)this[tailNewPos+i]=this[tailOldPos+i];if(add&&pos===lengthAfterRemove)this.length=lengthAfterRemove,this.push.apply(this,insert);else for(this.length=lengthAfterRemove+add,i=0;add>i;++i)this[pos+i]=insert[i]}return removed};Array.isArray||(Array.isArray=function(obj){return"[object Array]"==_toString(obj)});var boxedString=Object("a"),splitString="a"!=boxedString[0]||!(0 in boxedString);if(Array.prototype.forEach||(Array.prototype.forEach=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,thisp=arguments[1],i=-1,length=self.length>>>0;if("[object Function]"!=_toString(fun))throw new TypeError;for(;length>++i;)i in self&&fun.call(thisp,self[i],i,object)}),Array.prototype.map||(Array.prototype.map=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0,result=Array(length),thisp=arguments[1];if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");for(var i=0;length>i;i++)i in self&&(result[i]=fun.call(thisp,self[i],i,object));return result}),Array.prototype.filter||(Array.prototype.filter=function(fun){var value,object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0,result=[],thisp=arguments[1];if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");for(var i=0;length>i;i++)i in self&&(value=self[i],fun.call(thisp,value,i,object)&&result.push(value));return result}),Array.prototype.every||(Array.prototype.every=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0,thisp=arguments[1];if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");for(var i=0;length>i;i++)if(i in self&&!fun.call(thisp,self[i],i,object))return!1;return!0}),Array.prototype.some||(Array.prototype.some=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0,thisp=arguments[1];if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");for(var i=0;length>i;i++)if(i in self&&fun.call(thisp,self[i],i,object))return!0;return!1}),Array.prototype.reduce||(Array.prototype.reduce=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0;if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");if(!length&&1==arguments.length)throw new TypeError("reduce of empty array with no initial value");var result,i=0;if(arguments.length>=2)result=arguments[1];else for(;;){if(i in self){result=self[i++];break}if(++i>=length)throw new TypeError("reduce of empty array with no initial value")}for(;length>i;i++)i in self&&(result=fun.call(void 0,result,self[i],i,object));return result}),Array.prototype.reduceRight||(Array.prototype.reduceRight=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0;if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");if(!length&&1==arguments.length)throw new TypeError("reduceRight of empty array with no initial value");var result,i=length-1;if(arguments.length>=2)result=arguments[1];else for(;;){if(i in self){result=self[i--];break}if(0>--i)throw new TypeError("reduceRight of empty array with no initial value")}do i in this&&(result=fun.call(void 0,result,self[i],i,object));while(i--);return result}),Array.prototype.indexOf&&-1==[0,1].indexOf(1,2)||(Array.prototype.indexOf=function(sought){var self=splitString&&"[object String]"==_toString(this)?this.split(""):toObject(this),length=self.length>>>0;if(!length)return-1;var i=0;for(arguments.length>1&&(i=toInteger(arguments[1])),i=i>=0?i:Math.max(0,length+i);length>i;i++)if(i in self&&self[i]===sought)return i;return-1}),Array.prototype.lastIndexOf&&-1==[0,1].lastIndexOf(0,-3)||(Array.prototype.lastIndexOf=function(sought){var self=splitString&&"[object String]"==_toString(this)?this.split(""):toObject(this),length=self.length>>>0;if(!length)return-1;var i=length-1;for(arguments.length>1&&(i=Math.min(i,toInteger(arguments[1]))),i=i>=0?i:length-Math.abs(i);i>=0;i--)if(i in self&&sought===self[i])return i;return-1}),Object.getPrototypeOf||(Object.getPrototypeOf=function(object){return object.__proto__||(object.constructor?object.constructor.prototype:prototypeOfObject)}),!Object.getOwnPropertyDescriptor){var ERR_NON_OBJECT="Object.getOwnPropertyDescriptor called on a non-object: ";Object.getOwnPropertyDescriptor=function(object,property){if("object"!=typeof object&&"function"!=typeof object||null===object)throw new TypeError(ERR_NON_OBJECT+object);if(owns(object,property)){var descriptor,getter,setter;if(descriptor={enumerable:!0,configurable:!0},supportsAccessors){var prototype=object.__proto__;object.__proto__=prototypeOfObject;var getter=lookupGetter(object,property),setter=lookupSetter(object,property);if(object.__proto__=prototype,getter||setter)return getter&&(descriptor.get=getter),setter&&(descriptor.set=setter),descriptor}return descriptor.value=object[property],descriptor}}}if(Object.getOwnPropertyNames||(Object.getOwnPropertyNames=function(object){return Object.keys(object)}),!Object.create){var createEmpty;createEmpty=null===Object.prototype.__proto__?function(){return{__proto__:null}}:function(){var empty={};for(var i in empty)empty[i]=null;return empty.constructor=empty.hasOwnProperty=empty.propertyIsEnumerable=empty.isPrototypeOf=empty.toLocaleString=empty.toString=empty.valueOf=empty.__proto__=null,empty},Object.create=function(prototype,properties){var object;if(null===prototype)object=createEmpty();else{if("object"!=typeof prototype)throw new TypeError("typeof prototype["+typeof prototype+"] != \'object\'");var Type=function(){};Type.prototype=prototype,object=new Type,object.__proto__=prototype}return void 0!==properties&&Object.defineProperties(object,properties),object}}if(Object.defineProperty){var definePropertyWorksOnObject=doesDefinePropertyWork({}),definePropertyWorksOnDom="undefined"==typeof document||doesDefinePropertyWork(document.createElement("div"));if(!definePropertyWorksOnObject||!definePropertyWorksOnDom)var definePropertyFallback=Object.defineProperty}if(!Object.defineProperty||definePropertyFallback){var ERR_NON_OBJECT_DESCRIPTOR="Property description must be an object: ",ERR_NON_OBJECT_TARGET="Object.defineProperty called on non-object: ",ERR_ACCESSORS_NOT_SUPPORTED="getters & setters can not be defined on this javascript engine";Object.defineProperty=function(object,property,descriptor){if("object"!=typeof object&&"function"!=typeof object||null===object)throw new TypeError(ERR_NON_OBJECT_TARGET+object);if("object"!=typeof descriptor&&"function"!=typeof descriptor||null===descriptor)throw new TypeError(ERR_NON_OBJECT_DESCRIPTOR+descriptor);if(definePropertyFallback)try{return definePropertyFallback.call(Object,object,property,descriptor)}catch(exception){}if(owns(descriptor,"value"))if(supportsAccessors&&(lookupGetter(object,property)||lookupSetter(object,property))){var prototype=object.__proto__;object.__proto__=prototypeOfObject,delete object[property],object[property]=descriptor.value,object.__proto__=prototype}else object[property]=descriptor.value;else{if(!supportsAccessors)throw new TypeError(ERR_ACCESSORS_NOT_SUPPORTED);owns(descriptor,"get")&&defineGetter(object,property,descriptor.get),owns(descriptor,"set")&&defineSetter(object,property,descriptor.set)}return object}}Object.defineProperties||(Object.defineProperties=function(object,properties){for(var property in properties)owns(properties,property)&&Object.defineProperty(object,property,properties[property]);return object}),Object.seal||(Object.seal=function(object){return object}),Object.freeze||(Object.freeze=function(object){return object});try{Object.freeze(function(){})}catch(exception){Object.freeze=function(freezeObject){return function(object){return"function"==typeof object?object:freezeObject(object)}}(Object.freeze)}if(Object.preventExtensions||(Object.preventExtensions=function(object){return object}),Object.isSealed||(Object.isSealed=function(){return!1}),Object.isFrozen||(Object.isFrozen=function(){return!1}),Object.isExtensible||(Object.isExtensible=function(object){if(Object(object)===object)throw new TypeError;for(var name="";owns(object,name);)name+="?";object[name]=!0;var returnValue=owns(object,name);return delete object[name],returnValue}),!Object.keys){var hasDontEnumBug=!0,dontEnums=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],dontEnumsLength=dontEnums.length;for(var key in{toString:null})hasDontEnumBug=!1;Object.keys=function(object){if("object"!=typeof object&&"function"!=typeof object||null===object)throw new TypeError("Object.keys called on a non-object");var keys=[];for(var name in object)owns(object,name)&&keys.push(name);if(hasDontEnumBug)for(var i=0,ii=dontEnumsLength;ii>i;i++){var dontEnum=dontEnums[i];owns(object,dontEnum)&&keys.push(dontEnum)}return keys}}Date.now||(Date.now=function(){return(new Date).getTime()});var ws="\t\\n\v\\f\\r   ᠎             　\\u2028\\u2029\ufeff";if(!String.prototype.trim||ws.trim()){ws="["+ws+"]";var trimBeginRegexp=RegExp("^"+ws+ws+"*"),trimEndRegexp=RegExp(ws+ws+"*$");String.prototype.trim=function(){return(this+"").replace(trimBeginRegexp,"").replace(trimEndRegexp,"")}}var toObject=function(o){if(null==o)throw new TypeError("can\'t convert "+o+" to object");return Object(o)}});'},function(e,t){ace.define("ace/ext/searchbox",["require","exports","module","ace/lib/dom","ace/lib/lang","ace/lib/event","ace/keyboard/hash_handler","ace/lib/keys"],function(e,t,n){"use strict";var o=e("../lib/dom"),r=e("../lib/lang"),s=e("../lib/event"),i=e("../keyboard/hash_handler").HashHandler,a=e("../lib/keys");o.importCssString('\t.ace_search {\tbackground-color: #ddd;\tcolor: #666;\tborder: 1px solid #cbcbcb;\tborder-top: 0 none;\toverflow: hidden;\tmargin: 0;\tpadding: 4px 6px 0 4px;\tposition: absolute;\ttop: 0;\tz-index: 99;\twhite-space: normal;\t}\t.ace_search.left {\tborder-left: 0 none;\tborder-radius: 0px 0px 5px 0px;\tleft: 0;\t}\t.ace_search.right {\tborder-radius: 0px 0px 0px 5px;\tborder-right: 0 none;\tright: 0;\t}\t.ace_search_form, .ace_replace_form {\tmargin: 0 20px 4px 0;\toverflow: hidden;\tline-height: 1.9;\t}\t.ace_replace_form {\tmargin-right: 0;\t}\t.ace_search_form.ace_nomatch {\toutline: 1px solid red;\t}\t.ace_search_field {\tborder-radius: 3px 0 0 3px;\tbackground-color: white;\tcolor: black;\tborder: 1px solid #cbcbcb;\tborder-right: 0 none;\tbox-sizing: border-box!important;\toutline: 0;\tpadding: 0;\tfont-size: inherit;\tmargin: 0;\tline-height: inherit;\tpadding: 0 6px;\tmin-width: 17em;\tvertical-align: top;\t}\t.ace_searchbtn {\tborder: 1px solid #cbcbcb;\tline-height: inherit;\tdisplay: inline-block;\tpadding: 0 6px;\tbackground: #fff;\tborder-right: 0 none;\tborder-left: 1px solid #dcdcdc;\tcursor: pointer;\tmargin: 0;\tposition: relative;\tbox-sizing: content-box!important;\tcolor: #666;\t}\t.ace_searchbtn:last-child {\tborder-radius: 0 3px 3px 0;\tborder-right: 1px solid #cbcbcb;\t}\t.ace_searchbtn:disabled {\tbackground: none;\tcursor: default;\t}\t.ace_searchbtn:hover {\tbackground-color: #eef1f6;\t}\t.ace_searchbtn.prev, .ace_searchbtn.next {\tpadding: 0px 0.7em\t}\t.ace_searchbtn.prev:after, .ace_searchbtn.next:after {\tcontent: "";\tborder: solid 2px #888;\twidth: 0.5em;\theight: 0.5em;\tborder-width:  2px 0 0 2px;\tdisplay:inline-block;\ttransform: rotate(-45deg);\t}\t.ace_searchbtn.next:after {\tborder-width: 0 2px 2px 0 ;\t}\t.ace_searchbtn_close {\tbackground: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAcCAYAAABRVo5BAAAAZ0lEQVR42u2SUQrAMAhDvazn8OjZBilCkYVVxiis8H4CT0VrAJb4WHT3C5xU2a2IQZXJjiQIRMdkEoJ5Q2yMqpfDIo+XY4k6h+YXOyKqTIj5REaxloNAd0xiKmAtsTHqW8sR2W5f7gCu5nWFUpVjZwAAAABJRU5ErkJggg==) no-repeat 50% 0;\tborder-radius: 50%;\tborder: 0 none;\tcolor: #656565;\tcursor: pointer;\tfont: 16px/16px Arial;\tpadding: 0;\theight: 14px;\twidth: 14px;\ttop: 9px;\tright: 7px;\tposition: absolute;\t}\t.ace_searchbtn_close:hover {\tbackground-color: #656565;\tbackground-position: 50% 100%;\tcolor: white;\t}\t.ace_button {\tmargin-left: 2px;\tcursor: pointer;\t-webkit-user-select: none;\t-moz-user-select: none;\t-o-user-select: none;\t-ms-user-select: none;\tuser-select: none;\toverflow: hidden;\topacity: 0.7;\tborder: 1px solid rgba(100,100,100,0.23);\tpadding: 1px;\tbox-sizing:    border-box!important;\tcolor: black;\t}\t.ace_button:hover {\tbackground-color: #eee;\topacity:1;\t}\t.ace_button:active {\tbackground-color: #ddd;\t}\t.ace_button.checked {\tborder-color: #3399ff;\topacity:1;\t}\t.ace_search_options{\tmargin-bottom: 3px;\ttext-align: right;\t-webkit-user-select: none;\t-moz-user-select: none;\t-o-user-select: none;\t-ms-user-select: none;\tuser-select: none;\tclear: both;\t}\t.ace_search_counter {\tfloat: left;\tfont-family: arial;\tpadding: 0 8px;\t}',"ace_searchbox");function l(e,t,n){var i=o.createElement("div");i.innerHTML=c,this.element=i.firstChild,this.setSession=this.setSession.bind(this),this.$init(),this.setEditor(e)}var c='<div class="ace_search right">\t    <span action="hide" class="ace_searchbtn_close"></span>\t    <div class="ace_search_form">\t        <input class="ace_search_field" placeholder="Search for" spellcheck="false"></input>\t        <span action="findPrev" class="ace_searchbtn prev"></span>\t        <span action="findNext" class="ace_searchbtn next"></span>\t        <span action="findAll" class="ace_searchbtn" title="Alt-Enter">All</span>\t    </div>\t    <div class="ace_replace_form">\t        <input class="ace_search_field" placeholder="Replace with" spellcheck="false"></input>\t        <span action="replaceAndFindNext" class="ace_searchbtn">Replace</span>\t        <span action="replaceAll" class="ace_searchbtn">All</span>\t    </div>\t    <div class="ace_search_options">\t        <span action="toggleReplace" class="ace_button" title="Toggel Replace mode"\t            style="float:left;margin-top:-2px;padding:0 5px;">+</span>\t        <span class="ace_search_counter"></span>\t        <span action="toggleRegexpMode" class="ace_button" title="RegExp Search">.*</span>\t        <span action="toggleCaseSensitive" class="ace_button" title="CaseSensitive Search">Aa</span>\t        <span action="toggleWholeWords" class="ace_button" title="Whole Word Search">\\b</span>\t        <span action="searchInSelection" class="ace_button" title="Search In Selection">S</span>\t    </div>\t</div>'.replace(/> +/g,">");(function(){this.setEditor=function(e){e.searchBox=this,e.renderer.scroller.appendChild(this.element),this.editor=e},this.setSession=function(e){this.searchRange=null,this.$syncOptions(!0)},this.$initElements=function(e){this.searchBox=e.querySelector(".ace_search_form"),this.replaceBox=e.querySelector(".ace_replace_form"),this.searchOption=e.querySelector("[action=searchInSelection]"),this.replaceOption=e.querySelector("[action=toggleReplace]"),this.regExpOption=e.querySelector("[action=toggleRegexpMode]"),this.caseSensitiveOption=e.querySelector("[action=toggleCaseSensitive]"),this.wholeWordOption=e.querySelector("[action=toggleWholeWords]"),this.searchInput=this.searchBox.querySelector(".ace_search_field"),this.replaceInput=this.replaceBox.querySelector(".ace_search_field"),this.searchCounter=e.querySelector(".ace_search_counter")},this.$init=function(){var e=this.element;this.$initElements(e);var i=this;s.addListener(e,"mousedown",function(e){setTimeout(function(){i.activeInput.focus()},0),s.stopPropagation(e)}),s.addListener(e,"click",function(e){var t=(e.target||e.srcElement).getAttribute("action");t&&i[t]?i[t]():i.$searchBarKb.commands[t]&&i.$searchBarKb.commands[t].exec(i),s.stopPropagation(e)}),s.addCommandKeyListener(e,function(e,t,n){n=a.keyCodeToString(n),n=i.$searchBarKb.findKeyCommand(t,n);n&&n.exec&&(n.exec(i),s.stopEvent(e))}),this.$onChange=r.delayedCall(function(){i.find(!1,!1)}),s.addListener(this.searchInput,"input",function(){i.$onChange.schedule(20)}),s.addListener(this.searchInput,"focus",function(){i.activeInput=i.searchInput,i.searchInput.value&&i.highlight()}),s.addListener(this.replaceInput,"focus",function(){i.activeInput=i.replaceInput,i.searchInput.value&&i.highlight()})},this.$closeSearchBarKb=new i([{bindKey:"Esc",name:"closeSearchBar",exec:function(e){e.searchBox.hide()}}]),this.$searchBarKb=new i,this.$searchBarKb.bindKeys({"Ctrl-f|Command-f":function(e){var t=e.isReplace=!e.isReplace;e.replaceBox.style.display=t?"":"none",e.replaceOption.checked=!1,e.$syncOptions(),e.searchInput.focus()},"Ctrl-H|Command-Option-F":function(e){e.replaceOption.checked=!0,e.$syncOptions(),e.replaceInput.focus()},"Ctrl-G|Command-G":function(e){e.findNext()},"Ctrl-Shift-G|Command-Shift-G":function(e){e.findPrev()},esc:function(e){setTimeout(function(){e.hide()})},Return:function(e){e.activeInput==e.replaceInput&&e.replace(),e.findNext()},"Shift-Return":function(e){e.activeInput==e.replaceInput&&e.replace(),e.findPrev()},"Alt-Return":function(e){e.activeInput==e.replaceInput&&e.replaceAll(),e.findAll()},Tab:function(e){(e.activeInput==e.replaceInput?e.searchInput:e.replaceInput).focus()}}),this.$searchBarKb.addCommands([{name:"toggleRegexpMode",bindKey:{win:"Alt-R|Alt-/",mac:"Ctrl-Alt-R|Ctrl-Alt-/"},exec:function(e){e.regExpOption.checked=!e.regExpOption.checked,e.$syncOptions()}},{name:"toggleCaseSensitive",bindKey:{win:"Alt-C|Alt-I",mac:"Ctrl-Alt-R|Ctrl-Alt-I"},exec:function(e){e.caseSensitiveOption.checked=!e.caseSensitiveOption.checked,e.$syncOptions()}},{name:"toggleWholeWords",bindKey:{win:"Alt-B|Alt-W",mac:"Ctrl-Alt-B|Ctrl-Alt-W"},exec:function(e){e.wholeWordOption.checked=!e.wholeWordOption.checked,e.$syncOptions()}},{name:"toggleReplace",exec:function(e){e.replaceOption.checked=!e.replaceOption.checked,e.$syncOptions()}},{name:"searchInSelection",exec:function(e){e.searchOption.checked=!e.searchRange,e.setSearchRange(e.searchOption.checked&&e.editor.getSelectionRange()),e.$syncOptions()}}]),this.setSearchRange=function(e){(this.searchRange=e)?this.searchRangeMarker=this.editor.session.addMarker(e,"ace_active-line"):this.searchRangeMarker&&(this.editor.session.removeMarker(this.searchRangeMarker),this.searchRangeMarker=null)},this.$syncOptions=function(e){o.setCssClass(this.replaceOption,"checked",this.searchRange),o.setCssClass(this.searchOption,"checked",this.searchOption.checked),this.replaceOption.textContent=this.replaceOption.checked?"-":"+",o.setCssClass(this.regExpOption,"checked",this.regExpOption.checked),o.setCssClass(this.wholeWordOption,"checked",this.wholeWordOption.checked),o.setCssClass(this.caseSensitiveOption,"checked",this.caseSensitiveOption.checked),this.replaceBox.style.display=this.replaceOption.checked?"":"none",this.find(!1,!1,e)},this.highlight=function(e){this.editor.session.highlight(e||this.editor.$search.$options.re),this.editor.renderer.updateBackMarkers()},this.find=function(e,t,n){n=!this.editor.find(this.searchInput.value,{skipCurrent:e,backwards:t,wrap:!0,regExp:this.regExpOption.checked,caseSensitive:this.caseSensitiveOption.checked,wholeWord:this.wholeWordOption.checked,preventScroll:n,range:this.searchRange})&&this.searchInput.value;o.setCssClass(this.searchBox,"ace_nomatch",n),this.editor._emit("findSearchBox",{match:!n}),this.highlight(),this.updateCounter()},this.updateCounter=function(){var e=this.editor,t=e.$search.$options.re,n=0,i=0;if(t){var o=this.searchRange?e.session.getTextRange(this.searchRange):e.getValue(),r=e.session.doc.positionToIndex(e.selection.anchor);this.searchRange&&(r-=e.session.doc.positionToIndex(this.searchRange.start));for(var s,a=t.lastIndex=0;(s=t.exec(o))&&((a=s.index)<=r&&i++,!(999<++n))&&(s[0]||(t.lastIndex=a+=1,!(a>=o.length))););}this.searchCounter.textContent=i+" of "+(999<n?"999+":n)},this.findNext=function(){this.find(!0,!1)},this.findPrev=function(){this.find(!0,!0)},this.findAll=function(){var e=!this.editor.findAll(this.searchInput.value,{regExp:this.regExpOption.checked,caseSensitive:this.caseSensitiveOption.checked,wholeWord:this.wholeWordOption.checked})&&this.searchInput.value;o.setCssClass(this.searchBox,"ace_nomatch",e),this.editor._emit("findSearchBox",{match:!e}),this.highlight(),this.hide()},this.replace=function(){this.editor.getReadOnly()||this.editor.replace(this.replaceInput.value)},this.replaceAndFindNext=function(){this.editor.getReadOnly()||(this.editor.replace(this.replaceInput.value),this.findNext())},this.replaceAll=function(){this.editor.getReadOnly()||this.editor.replaceAll(this.replaceInput.value)},this.hide=function(){this.active=!1,this.setSearchRange(null),this.editor.off("changeSession",this.setSession),this.element.style.display="none",this.editor.keyBinding.removeKeyboardHandler(this.$closeSearchBarKb),this.editor.focus()},this.show=function(e,t){this.active=!0,this.editor.on("changeSession",this.setSession),this.element.style.display="",this.replaceOption.checked=t,e&&(this.searchInput.value=e),this.searchInput.focus(),this.searchInput.select(),this.editor.keyBinding.addKeyboardHandler(this.$closeSearchBarKb),this.$syncOptions(!0)},this.isFocused=function(){var e=document.activeElement;return e==this.searchInput||e==this.replaceInput}}).call(l.prototype),t.SearchBox=l,t.Search=function(e,t){(e.searchBox||new l(e)).show(e.session.getTextRange(),t)}}),ace.acequire(["ace/ext/searchbox"],function(){})},function(e,t){ace.define("ace/theme/jsoneditor",["require","exports","module","ace/lib/dom"],function(e,t,n){t.isDark=!1,t.cssClass="ace-jsoneditor",t.cssText='.ace-jsoneditor .ace_gutter {\tbackground: #ebebeb;\tcolor: #333\t}\t\t.ace-jsoneditor.ace_editor {\tfont-family: "dejavu sans mono", "droid sans mono", consolas, monaco, "lucida console", "courier new", courier, monospace, sans-serif;\tline-height: 1.3;\tbackground-color: #fff;\t}\t.ace-jsoneditor .ace_print-margin {\twidth: 1px;\tbackground: #e8e8e8\t}\t.ace-jsoneditor .ace_scroller {\tbackground-color: #FFFFFF\t}\t.ace-jsoneditor .ace_text-layer {\tcolor: gray\t}\t.ace-jsoneditor .ace_variable {\tcolor: #1a1a1a\t}\t.ace-jsoneditor .ace_cursor {\tborder-left: 2px solid #000000\t}\t.ace-jsoneditor .ace_overwrite-cursors .ace_cursor {\tborder-left: 0px;\tborder-bottom: 1px solid #000000\t}\t.ace-jsoneditor .ace_marker-layer .ace_selection {\tbackground: lightgray\t}\t.ace-jsoneditor.ace_multiselect .ace_selection.ace_start {\tbox-shadow: 0 0 3px 0px #FFFFFF;\tborder-radius: 2px\t}\t.ace-jsoneditor .ace_marker-layer .ace_step {\tbackground: rgb(255, 255, 0)\t}\t.ace-jsoneditor .ace_marker-layer .ace_bracket {\tmargin: -1px 0 0 -1px;\tborder: 1px solid #BFBFBF\t}\t.ace-jsoneditor .ace_marker-layer .ace_active-line {\tbackground: #FFFBD1\t}\t.ace-jsoneditor .ace_gutter-active-line {\tbackground-color : #dcdcdc\t}\t.ace-jsoneditor .ace_marker-layer .ace_selected-word {\tborder: 1px solid lightgray\t}\t.ace-jsoneditor .ace_invisible {\tcolor: #BFBFBF\t}\t.ace-jsoneditor .ace_keyword,\t.ace-jsoneditor .ace_meta,\t.ace-jsoneditor .ace_support.ace_constant.ace_property-value {\tcolor: #AF956F\t}\t.ace-jsoneditor .ace_keyword.ace_operator {\tcolor: #484848\t}\t.ace-jsoneditor .ace_keyword.ace_other.ace_unit {\tcolor: #96DC5F\t}\t.ace-jsoneditor .ace_constant.ace_language {\tcolor: darkorange\t}\t.ace-jsoneditor .ace_constant.ace_numeric {\tcolor: red\t}\t.ace-jsoneditor .ace_constant.ace_character.ace_entity {\tcolor: #BF78CC\t}\t.ace-jsoneditor .ace_invalid {\tcolor: #FFFFFF;\tbackground-color: #FF002A;\t}\t.ace-jsoneditor .ace_fold {\tbackground-color: #AF956F;\tborder-color: #000000\t}\t.ace-jsoneditor .ace_storage,\t.ace-jsoneditor .ace_support.ace_class,\t.ace-jsoneditor .ace_support.ace_function,\t.ace-jsoneditor .ace_support.ace_other,\t.ace-jsoneditor .ace_support.ace_type {\tcolor: #C52727\t}\t.ace-jsoneditor .ace_string {\tcolor: green\t}\t.ace-jsoneditor .ace_comment {\tcolor: #BCC8BA\t}\t.ace-jsoneditor .ace_entity.ace_name.ace_tag,\t.ace-jsoneditor .ace_entity.ace_other.ace_attribute-name {\tcolor: #606060\t}\t.ace-jsoneditor .ace_markup.ace_underline {\ttext-decoration: underline\t}\t.ace-jsoneditor .ace_indent-guide {\tbackground: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y\t}',e("../lib/dom").importCssString(t.cssText,t.cssClass)})}],o={},n.m=i,n.c=o,n.p="",n(0);function n(e){if(o[e])return o[e].exports;var t=o[e]={exports:{},id:e,loaded:!1};return i[e].call(t.exports,t,t.exports,n),t.loaded=!0,t.exports}var i,o}),function(e){"use strict";"function"==typeof define&&define.amd?define(e):"undefined"!=typeof module&&void 0!==module.exports?module.exports=e():window.Sortable=e()}(function(){"use strict";if("undefined"==typeof window||!window.document)return function(){throw new Error("Sortable.js requires a window with a document")};function r(e){function t(n,i){return"function"==typeof(n=void 0===n||!0===n?o.name:n)?n:function(e,t){t=t.options.group.name;return i?n:n&&(n.join?-1<n.indexOf(t):t==n)}}var o={},n=e.group;o.name=(n=!n||"object"!=typeof n?{name:n}:n).name,o.checkPull=t(n.pull,!0),o.checkPut=t(n.put),o.revertClone=n.revertClone,e.group=o}var g,v,b,y,x,w,u,m,C,k,S,T,E,l,i,_,A,c,s,j,e,P={},o=/\s+/g,O=/left|right|inline/,D="Sortable"+(new Date).getTime(),I=window,h=I.document,a=I.parseInt,t=I.jQuery||I.Zepto,n=I.Polymer,d=!1,p=!!("draggable"in h.createElement("div")),f=!navigator.userAgent.match(/Trident.*rv[ :]?11\./)&&((e=h.createElement("x")).style.cssText="pointer-events:auto","auto"===e.style.pointerEvents),N=!1,R=Math.abs,L=Math.min,M=[],F=[],q=ee(function(e,t,n){if(n&&t.scroll){var i,o,r,s,a,l=n[D],c=t.scrollSensitivity,d=t.scrollSpeed,u=e.clientX,h=e.clientY,p=window.innerWidth,f=window.innerHeight;if(C!==n&&(m=t.scroll,C=n,k=t.scrollFn,!0===m)){m=n;do{if(m.offsetWidth<m.scrollWidth||m.offsetHeight<m.scrollHeight)break}while(m=m.parentNode)}m&&(n=(i=m).getBoundingClientRect(),o=(R(n.right-u)<=c)-(R(n.left-u)<=c),r=(R(n.bottom-h)<=c)-(R(n.top-h)<=c)),o||r||(r=(f-h<=c)-(h<=c),((o=(p-u<=c)-(u<=c))||r)&&(i=I)),P.vx===o&&P.vy===r&&P.el===i||(P.el=i,P.vx=o,P.vy=r,clearInterval(P.pid),i&&(P.pid=setInterval(function(){return a=r?r*d:0,s=o?o*d:0,"function"==typeof k?k.call(l,s,a,e):void(i===I?I.scrollTo(I.pageXOffset+s,I.pageYOffset+a):(i.scrollTop+=a,i.scrollLeft+=s))},24)))}},30);function z(e,t){if(!e||!e.nodeType||1!==e.nodeType)throw"Sortable: `el` must be HTMLElement, and not "+{}.toString.call(e);this.el=e,this.options=t=te({},t),e[D]=this;var n,i,o={group:Math.random(),sort:!0,disabled:!1,store:null,handle:null,scroll:!0,scrollSensitivity:30,scrollSpeed:10,draggable:/[uo]l/i.test(e.nodeName)?"li":">*",ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,setData:function(e,t){e.setData("Text",t.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0}};for(n in o)n in t||(t[n]=o[n]);for(i in r(t),this)"_"===i.charAt(0)&&"function"==typeof this[i]&&(this[i]=this[i].bind(this));this.nativeDraggable=!t.forceFallback&&p,$(e,"mousedown",this._onTapStart),$(e,"touchstart",this._onTapStart),$(e,"pointerdown",this._onTapStart),this.nativeDraggable&&($(e,"dragover",this),$(e,"dragenter",this)),F.push(this._onDragOver),t.store&&this.sort(t.store.get(this))}function H(e,t){"clone"!==e.lastPullMode&&(t=!0),y&&y.state!==t&&(W(y,"display",t?"none":""),t||y.state&&(e.options.group.revertClone?(x.insertBefore(y,w),e._animate(g,y)):x.insertBefore(y,g)),y.state=t)}function B(e,t,n){if(e){n=n||h;do{if(">*"===t&&e.parentNode===n||Z(e,t))return e}while(o=void 0,e=(o=(i=e).host)&&o.nodeType?o:i.parentNode)}var i,o;return null}function $(e,t,n){e.addEventListener(t,n,d)}function V(e,t,n){e.removeEventListener(t,n,d)}function U(e,t,n){var i;e&&(e.classList?e.classList[n?"add":"remove"](t):(i=(" "+e.className+" ").replace(o," ").replace(" "+t+" "," "),e.className=(i+(n?" "+t:"")).replace(o," ")))}function W(e,t,n){var i=e&&e.style;if(i){if(void 0===n)return h.defaultView&&h.defaultView.getComputedStyle?n=h.defaultView.getComputedStyle(e,""):e.currentStyle&&(n=e.currentStyle),void 0===t?n:n[t];i[t=!(t in i)?"-webkit-"+t:t]=n+("string"==typeof n?"":"px")}}function X(e,t,n){if(e){var i=e.getElementsByTagName(t),o=0,r=i.length;if(n)for(;o<r;o++)n(i[o],o);return i}return[]}function Y(e,t,n,i,o,r,s){e=e||t[D];var a=h.createEvent("Event"),l=e.options,c="on"+n.charAt(0).toUpperCase()+n.substr(1);a.initEvent(n,!0,!0),a.to=t,a.from=o||t,a.item=i||t,a.clone=y,a.oldIndex=r,a.newIndex=s,t.dispatchEvent(a),l[c]&&l[c].call(e,a)}function Q(e,t,n,i,o,r,s,a){var l,c=e[D],d=c.options.onMove,u=h.createEvent("Event");return u.initEvent("move",!0,!0),u.to=t,u.from=e,u.dragged=n,u.draggedRect=i,u.related=o||t,u.relatedRect=r||t.getBoundingClientRect(),u.willInsertAfter=a,e.dispatchEvent(u),l=d?d.call(c,u,s):l}function G(e){e.draggable=!1}function K(){N=!1}function J(e,t){var n=0;if(!e||!e.parentNode)return-1;for(;e=e&&e.previousElementSibling;)"TEMPLATE"===e.nodeName.toUpperCase()||">*"!==t&&!Z(e,t)||n++;return n}function Z(e,t){if(e){var n=(t=t.split(".")).shift().toUpperCase(),i=new RegExp("\\s("+t.join("|")+")(?=\\s)","g");return!(""!==n&&e.nodeName.toUpperCase()!=n||t.length&&((" "+e.className+" ").match(i)||[]).length!=t.length)}}function ee(e,t){var n,i;return function(){void 0===n&&(n=arguments,i=this,setTimeout(function(){1===n.length?e.call(i,n[0]):e.apply(i,n),n=void 0},t))}}function te(e,t){if(e&&t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function ne(e){return t?t(e).clone(!0)[0]:(n&&n.dom?n.dom(e):e).cloneNode(!0)}z.prototype={constructor:z,_onTapStart:function(e){var t,n=this,i=this.el,o=this.options,r=o.preventOnFilter,s=e.type,a=e.touches&&e.touches[0],l=(a||e).target,c=e.target.shadowRoot&&e.path[0]||l,d=o.filter;if(function(e){var t=e.getElementsByTagName("input"),n=t.length;for(;n--;){var i=t[n];i.checked&&M.push(i)}}(i),!g&&!("mousedown"===s&&0!==e.button||o.disabled)&&(l=B(l,o.draggable,i))&&u!==l){if(t=J(l,o.draggable),"function"==typeof d){if(d.call(this,e,l,this))return Y(n,c,"filter",l,i,t),void(r&&e.preventDefault())}else if(d=d&&d.split(",").some(function(e){if(e=B(c,e.trim(),i))return Y(n,e,"filter",l,i,t),!0}))return void(r&&e.preventDefault());o.handle&&!B(c,o.handle,i)||this._prepareDragStart(e,a,l,t)}},_prepareDragStart:function(e,t,n,i){var o=this,r=o.el,s=o.options,a=r.ownerDocument;n&&!g&&n.parentNode===r&&(c=e,x=r,v=(g=n).parentNode,w=g.nextSibling,u=n,_=s.group,l=i,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,g.style["will-change"]="transform",i=function(){o._disableDelayedDrag(),g.draggable=o.nativeDraggable,U(g,s.chosenClass,!0),o._triggerDragStart(e,t),Y(o,x,"choose",g,x,l)},s.ignore.split(",").forEach(function(e){X(g,e.trim(),G)}),$(a,"mouseup",o._onDrop),$(a,"touchend",o._onDrop),$(a,"touchcancel",o._onDrop),$(a,"pointercancel",o._onDrop),$(a,"selectstart",o),s.delay?($(a,"mouseup",o._disableDelayedDrag),$(a,"touchend",o._disableDelayedDrag),$(a,"touchcancel",o._disableDelayedDrag),$(a,"mousemove",o._disableDelayedDrag),$(a,"touchmove",o._disableDelayedDrag),$(a,"pointermove",o._disableDelayedDrag),o._dragStartTimer=setTimeout(i,s.delay)):i())},_disableDelayedDrag:function(){var e=this.el.ownerDocument;clearTimeout(this._dragStartTimer),V(e,"mouseup",this._disableDelayedDrag),V(e,"touchend",this._disableDelayedDrag),V(e,"touchcancel",this._disableDelayedDrag),V(e,"mousemove",this._disableDelayedDrag),V(e,"touchmove",this._disableDelayedDrag),V(e,"pointermove",this._disableDelayedDrag)},_triggerDragStart:function(e,t){(t=t||("touch"==e.pointerType?e:null))?(c={target:g,clientX:t.clientX,clientY:t.clientY},this._onDragStart(c,"touch")):this.nativeDraggable?($(g,"dragend",this),$(x,"dragstart",this._onDragStart)):this._onDragStart(c,!0);try{h.selection?setTimeout(function(){h.selection.empty()}):window.getSelection().removeAllRanges()}catch(e){}},_dragStarted:function(){var e;x&&g?(e=this.options,U(g,e.ghostClass,!0),U(g,e.dragClass,!1),Y(z.active=this,x,"start",g,x,l)):this._nulling()},_emulateDragOver:function(){if(s&&(this._lastX!==s.clientX||this._lastY!==s.clientY)){this._lastX=s.clientX,this._lastY=s.clientY,f||W(b,"display","none");var e=h.elementFromPoint(s.clientX,s.clientY),t=e,n=F.length;if(t)do{if(t[D]){for(;n--;)F[n]({clientX:s.clientX,clientY:s.clientY,target:e,rootEl:t});break}}while(t=(e=t).parentNode);f||W(b,"display","")}},_onTouchMove:function(e){if(c){var t=this.options,n=t.fallbackTolerance,i=t.fallbackOffset,o=e.touches?e.touches[0]:e,t=o.clientX-c.clientX+i.x,i=o.clientY-c.clientY+i.y,i=e.touches?"translate3d("+t+"px,"+i+"px,0)":"translate("+t+"px,"+i+"px)";if(!z.active){if(n&&L(R(o.clientX-this._lastX),R(o.clientY-this._lastY))<n)return;this._dragStarted()}this._appendGhost(),j=!0,s=o,W(b,"webkitTransform",i),W(b,"mozTransform",i),W(b,"msTransform",i),W(b,"transform",i),e.preventDefault()}},_appendGhost:function(){var e,t,n;b||(e=g.getBoundingClientRect(),t=W(g),n=this.options,U(b=g.cloneNode(!0),n.ghostClass,!1),U(b,n.fallbackClass,!0),U(b,n.dragClass,!0),W(b,"top",e.top-a(t.marginTop,10)),W(b,"left",e.left-a(t.marginLeft,10)),W(b,"width",e.width),W(b,"height",e.height),W(b,"opacity","0.8"),W(b,"position","fixed"),W(b,"zIndex","100000"),W(b,"pointerEvents","none"),n.fallbackOnBody&&h.body.appendChild(b)||x.appendChild(b),n=b.getBoundingClientRect(),W(b,"width",2*e.width-n.width),W(b,"height",2*e.height-n.height))},_onDragStart:function(e,t){var n=e.dataTransfer,i=this.options;this._offUpEvents(),_.checkPull(this,this,g,e)&&((y=ne(g)).draggable=!1,y.style["will-change"]="",W(y,"display","none"),U(y,this.options.chosenClass,!1),x.insertBefore(y,g),Y(this,x,"clone",g)),U(g,i.dragClass,!0),t?("touch"===t?($(h,"touchmove",this._onTouchMove),$(h,"touchend",this._onDrop),$(h,"touchcancel",this._onDrop),$(h,"pointermove",this._onTouchMove),$(h,"pointerup",this._onDrop)):($(h,"mousemove",this._onTouchMove),$(h,"mouseup",this._onDrop)),this._loopId=setInterval(this._emulateDragOver,50)):(n&&(n.effectAllowed="move",i.setData&&i.setData.call(this,n,g)),$(h,"drop",this),setTimeout(this._dragStarted,0))},_onDragOver:function(e){var t,n,i,o,r,s,a,l,c=this.el,d=this.options,u=d.group,h=z.active,p=_===u,f=!1,m=d.sort;if(void 0!==e.preventDefault&&(e.preventDefault(),d.dragoverBubble||e.stopPropagation()),!g.animated&&(j=!0,h&&!d.disabled&&(p?m||(s=!x.contains(g)):A===this||(h.lastPullMode=_.checkPull(this,h,g,e))&&u.checkPut(this,h,g,e))&&(void 0===e.rootEl||e.rootEl===this.el)&&(q(e,d,this.el),!N))){if(t=B(e.target,d.draggable,c),n=g.getBoundingClientRect(),A!==this&&(A=this,f=!0),s)return H(h,!0),v=x,void(y||w?x.insertBefore(g,y||w):m||x.appendChild(g));if(0===c.children.length||c.children[0]===b||c===e.target&&function(e,t){e=e.lastElementChild.getBoundingClientRect();return 5<t.clientY-(e.top+e.height)||5<t.clientX-(e.left+e.width)}(c,e)){if(t=0!==c.children.length&&c.children[0]!==b&&c===e.target?c.lastElementChild:t){if(t.animated)return;i=t.getBoundingClientRect()}H(h,p),!1!==Q(x,c,g,n,t,i,e)&&(g.contains(c)||(c.appendChild(g),v=c),this._animate(n,g),t&&this._animate(i,t))}else t&&!t.animated&&t!==g&&void 0!==t.parentNode[D]&&(S!==t&&(T=W(S=t),E=W(t.parentNode)),a=(i=t.getBoundingClientRect()).right-i.left,o=i.bottom-i.top,l=O.test(T.cssFloat+T.display)||"flex"==E.display&&0===E["flex-direction"].indexOf("row"),r=t.offsetWidth>g.offsetWidth,u=t.offsetHeight>g.offsetHeight,d=.5<(l?(e.clientX-i.left)/a:(e.clientY-i.top)/o),s=t.nextElementSibling,m=!1,l?m=(a=g.offsetTop)===(l=t.offsetTop)?t.previousElementSibling===g&&!r||d&&r:t.previousElementSibling===g||g.previousElementSibling===t?.5<(e.clientY-i.top)/o:a<l:f||(m=s!==g&&!u||d&&u),!1!==(e=Q(x,c,g,n,t,i,e,m))&&(1!==e&&-1!==e||(m=1===e),N=!0,setTimeout(K,30),H(h,p),g.contains(c)||(m&&!s?c.appendChild(g):t.parentNode.insertBefore(g,m?s:t)),v=g.parentNode,this._animate(n,g),this._animate(i,t)))}},_animate:function(e,t){var n,i=this.options.animation;i&&(n=t.getBoundingClientRect(),1===e.nodeType&&(e=e.getBoundingClientRect()),W(t,"transition","none"),W(t,"transform","translate3d("+(e.left-n.left)+"px,"+(e.top-n.top)+"px,0)"),t.offsetWidth,W(t,"transition","all "+i+"ms"),W(t,"transform","translate3d(0,0,0)"),clearTimeout(t.animated),t.animated=setTimeout(function(){W(t,"transition",""),W(t,"transform",""),t.animated=!1},i))},_offUpEvents:function(){var e=this.el.ownerDocument;V(h,"touchmove",this._onTouchMove),V(h,"pointermove",this._onTouchMove),V(e,"mouseup",this._onDrop),V(e,"touchend",this._onDrop),V(e,"pointerup",this._onDrop),V(e,"touchcancel",this._onDrop),V(e,"pointercancel",this._onDrop),V(e,"selectstart",this)},_onDrop:function(e){var t=this.el,n=this.options;clearInterval(this._loopId),clearInterval(P.pid),clearTimeout(this._dragStartTimer),V(h,"mousemove",this._onTouchMove),this.nativeDraggable&&(V(h,"drop",this),V(t,"dragstart",this._onDragStart)),this._offUpEvents(),e&&(j&&(e.preventDefault(),n.dropBubble||e.stopPropagation()),b&&b.parentNode&&b.parentNode.removeChild(b),x!==v&&"clone"===z.active.lastPullMode||y&&y.parentNode&&y.parentNode.removeChild(y),g&&(this.nativeDraggable&&V(g,"dragend",this),G(g),g.style["will-change"]="",U(g,this.options.ghostClass,!1),U(g,this.options.chosenClass,!1),Y(this,x,"unchoose",g,x,l),x!==v?0<=(i=J(g,n.draggable))&&(Y(null,v,"add",g,x,l,i),Y(this,x,"remove",g,x,l,i),Y(null,v,"sort",g,x,l,i),Y(this,x,"sort",g,x,l,i)):g.nextSibling!==w&&0<=(i=J(g,n.draggable))&&(Y(this,x,"update",g,x,l,i),Y(this,x,"sort",g,x,l,i)),z.active&&(Y(this,x,"end",g,x,l,i=null==i||-1===i?l:i),this.save()))),this._nulling()},_nulling:function(){x=g=v=b=w=y=u=m=C=c=s=j=i=S=T=A=_=z.active=null,M.forEach(function(e){e.checked=!0}),M.length=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragover":case"dragenter":g&&(this._onDragOver(e),function(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move");e.preventDefault()}(e));break;case"selectstart":e.preventDefault()}},toArray:function(){for(var e,t=[],n=this.el.children,i=0,o=n.length,r=this.options;i<o;i++)B(e=n[i],r.draggable,this.el)&&t.push(e.getAttribute(r.dataIdAttr)||function(e){var t=e.tagName+e.className+e.src+e.href+e.textContent,n=t.length,i=0;for(;n--;)i+=t.charCodeAt(n);return i.toString(36)}(e));return t},sort:function(e){var n={},i=this.el;this.toArray().forEach(function(e,t){t=i.children[t];B(t,this.options.draggable,i)&&(n[e]=t)},this),e.forEach(function(e){n[e]&&(i.removeChild(n[e]),i.appendChild(n[e]))})},save:function(){var e=this.options.store;e&&e.set(this)},closest:function(e,t){return B(e,t||this.options.draggable,this.el)},option:function(e,t){var n=this.options;if(void 0===t)return n[e];n[e]=t,"group"===e&&r(n)},destroy:function(){var e=this.el;e[D]=null,V(e,"mousedown",this._onTapStart),V(e,"touchstart",this._onTapStart),V(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(V(e,"dragover",this),V(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(e){e.removeAttribute("draggable")}),F.splice(F.indexOf(this._onDragOver),1),this._onDrop(),this.el=e=null}},$(h,"touchmove",function(e){z.active&&e.preventDefault()});try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){d={capture:!1,passive:!1}}}))}catch(e){}return z.utils={on:$,off:V,css:W,find:X,is:function(e,t){return!!B(e,t,e)},extend:te,throttle:ee,closest:B,toggleClass:U,clone:ne,index:J},z.create=function(e,t){return new z(e,t)},z.version="1.6.0",z}),function(i,o){"use strict";var r="pollster",s={ajax:{},callback:i.noop,count:1,first:!0,seconds:10,url:""},a=o.console||{log:i.noop,warn:i.noop},l={init:function(e){var t,n=i.extend(!0,{},s,i[r].defaults,e);n.url||n.ajax.url?n.pause?(o.clearInterval(t),t=0):(n.ajax.url="function"==typeof n.url?n.url():n.ajax.url,-1!==i.inArray(n.count,n.skip)?(n.skipped=!0,t=l.restart(n)):(n.skipped=!1,i.ajax(n.ajax).always(function(e){t=l.restart(n,e)}))):a.warn("jQuery.%s: No URL endpoint specified.",r)},restart:function(e,t){return e.callback.call(e.ajax.context||null,e,t=t||{}),e.first=!1,e.count++,setTimeout(function(){i[r].call(this,e)},1e3*e.seconds)}};i[r]=function(e){return l[e]?l[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void i.error('Error using jQuery.%s "%s"!',r,e):l.init.apply(this,arguments)},i[r].defaults=s}(jQuery,window),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.Notify=t()}(this,function(){"use strict";window.Notification&&"granted"!==window.Notification.permission&&window.Notification.requestPermission();var s="",t=["flash","scroll"],a={title:"iNotify !",body:"You have a new message.",openurl:""};function n(e){var t=document.createElement("audio"),n=void 0;if("[object Array]"===Object.prototype.toString.call(e)&&0<e.length)for(var i=0;i<e.length;i++)(n=document.createElement("source")).src=e[i],n.type="audio/"+e[i].match(/\.([^\\.]+)$/)[1],t.appendChild(n);else t.src=e;return t}function i(e,t){var n=document.createElement("canvas"),i=document.getElementsByTagName("head")[0],o=document.createElement("link"),r=null;return n.height=32,n.width=32,(r=n.getContext("2d")).fillStyle=t.backgroundColor,r.fillRect(0,0,32,32),r.textAlign="center",r.font='22px "helvetica", sans-serif',r.fillStyle=t.textColor,e&&r.fillText(e,16,24),o.setAttribute("rel","shortcut icon"),o.setAttribute("type","image/x-icon"),o.setAttribute("id","new"+t.id),o.setAttribute("href",n.toDataURL("image/png")),s=n.toDataURL("image/png"),i.appendChild(o)}function e(e){e&&this.init(e)}return e.prototype={init:function(e){var t;return this.interval=(e=e||{}).interval||100,this.effect=e.effect||"flash",this.title=e.title||document.title,this.message=e.message||this.title,this.onclick=e.onclick||this.onclick,this.openurl=e.openurl||this.openurl,this.updateFavicon=e.updateFavicon||{id:"favicon",textColor:"#fff",backgroundColor:"#2F9A00"},this.audio=e.audio||"",this.favicon=(t=this.updateFavicon,document.querySelectorAll("link[rel~=shortcut]")[0]||i("O",t)),this.cloneFavicon=this.favicon.cloneNode(!0),s=e.notification&&e.notification.icon?e.notification.icon:e.icon||this.favicon.href,a.icon=s,this.notification=e.notification||a,this.audio&&this.audio.file&&this.setURL(this.audio.file),this},render:function(){var e;return"flash"===this.effect?document.title=this.title===document.title?this.message:this.title:"scroll"===this.effect&&(e=this.message||document.title,this.scrollTitle&&this.scrollTitle.slice(1)?(this.scrollTitle=this.scrollTitle.slice(1),document.title=this.scrollTitle):(document.title=e,this.scrollTitle=e)),this},setTitle:function(e){if(!0===e){if(0<=t.indexOf(this.effect))return this.addTimer()}else e?(this.message=e,this.scrollTitle="",this.addTimer()):this.clearTimer();return this},setURL:function(e){return e&&(this.audioElm&&this.audioElm.remove(),this.audioElm=n(e),document.body.appendChild(this.audioElm)),this},loopPlay:function(){return this.setURL(),this.audioElm.loop=!0,this.player(),this},stopPlay:function(){return this.audioElm&&(this.audioElm.loop=!1,this.audioElm.pause()),this},player:function(){if(this.audio&&this.audio.file)return this.audioElm||(this.audioElm=n(this.audio.file),document.body.appendChild(this.audioElm)),this.audioElm.play(),this},notify:function(e){var t,n,i=this.notification,o=e.openurl||this.openurl,r=e.onclick||this.onclick;return window.Notification&&(i=e?function(e,t){for(var n in t)e[n]&&(t[n]=e[n]);return t}(e,i):a,(t={}).icon=e.icon||s,t.body=i.body,e.dir&&(t.dir=e.dir),(n=new Notification(i.title,t)).onclick=function(){r&&"function"==typeof r&&r(n),o&&window.open(o)},n.onshow=function(){e.onshow&&"function"==typeof e.onshow&&e.onshow(n)},n.onclose=function(){e.onclose&&"function"==typeof e.onclose&&e.onclose(n)},n.onerror=function(){e.onerror&&"function"==typeof e.onerror&&e.onerror(n)},this.Notifiy=n),this},isPermission:function(){return window.Notification&&"granted"===Notification.permission},setInterval:function(e){return e&&(this.interval=e,this.addTimer()),this},setFavicon:function(e){if(!e&&0!==e)return this.faviconClear();var t=document.getElementById("new"+this.updateFavicon.id);return this.favicon&&this.favicon.remove(),t&&t.remove(),i(this.updateFavicon.num=e,this.updateFavicon),this},setFaviconColor:function(e){return e&&(this.faviconRemove(),this.updateFavicon.textColor=e,i(this.updateFavicon.num,this.updateFavicon)),this},setFaviconBackgroundColor:function(e){return e&&(this.faviconRemove(),this.updateFavicon.backgroundColor=e,i(this.updateFavicon.num,this.updateFavicon)),this},faviconRemove:function(){this.faviconClear();var e=document.getElementById("new"+this.updateFavicon.id);this.favicon&&this.favicon.remove(),e&&e.remove()},addTimer:function(){return this.clearTimer(),0<=t.indexOf(this.effect)&&(this.timer=setInterval(this.render.bind(this),this.interval)),this},close:function(){this.Notifiy&&this.Notifiy.close()},faviconClear:function(){var e=document.getElementById("new"+this.updateFavicon.id),t=document.getElementsByTagName("head")[0],n=document.querySelectorAll("link[rel~=shortcut]");if(e&&e.remove(),0<n.length)for(var i=0;i<n.length;i++)n[i].remove();return t.appendChild(this.cloneFavicon),s=this.cloneFavicon.href,this.favicon=this.cloneFavicon,this},clearTimer:function(){return this.timer&&clearInterval(this.timer),document.title=this.title,this}},e});