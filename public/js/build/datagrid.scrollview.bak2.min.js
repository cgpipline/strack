$.extend($.fn.datagrid.defaults,{rowHeight:50,maxDivHeight:1e7,maxVisibleHeight:15e6,deltaTopHeight:0,groupHeight:28,expanderWidth:30,onBeforeFetch:function(t){},onFetch:function(t,e){}}),$.extend($.fn.datagrid.methods,{fixDetailRowHeight:function(t,d){return t.each(function(){var t=$.data(this,"datagrid").options,e=$.data(this,"datagrid").dc,a=t.finder.getTr(this,d,"body",1).next(),i=t.finder.getTr(this,d,"body",2).next();i.is(":visible")&&(a.css("height",""),i.css("height",""),t=Math.max(a.height(),i.height()),a.css("height",t),i.css("height",t)),e.body2.triggerHandler("scroll")})},getExpander:function(t,e){return $.data(t[0],"datagrid").options.finder.getTr(t[0],e).find("span.datagrid-row-expander")},getRowDetail:function(t,e){return $.data(t[0],"datagrid").options.finder.getTr(t[0],e,"body",2).next().find("div.datagrid-row-detail")},expandRow:function(t,i){return t.each(function(){var t,e=$(this).datagrid("options"),a=($.data(this,"datagrid").dc,$(this).datagrid("getExpander",i));a.hasClass("datagrid-row-expand")&&(a.removeClass("datagrid-row-expand").addClass("datagrid-row-collapse"),t=e.finder.getTr(this,i,"body",1).next(),a=e.finder.getTr(this,i,"body",2).next(),t.show(),a.show(),$(this).datagrid("fixDetailRowHeight",i),e.onExpandRow&&(a=$(this).datagrid("getRows")[i],e.onExpandRow.call(this,i,a)))})},collapseRow:function(t,d){return t.each(function(){var t,e=$(this).datagrid("options"),a=$.data(this,"datagrid").dc,i=$(this).datagrid("getExpander",d);i.hasClass("datagrid-row-collapse")&&(i.removeClass("datagrid-row-collapse").addClass("datagrid-row-expand"),t=e.finder.getTr(this,d,"body",1).next(),i=e.finder.getTr(this,d,"body",2).next(),t.hide(),i.hide(),a.body2.triggerHandler("scroll"),e.onCollapseRow&&(a=$(this).datagrid("getRows")[d],e.onCollapseRow.call(this,d,a)))})}}),$.extend($.fn.datagrid.defaults.finder,{getRow:function(t,e){var a="object"==typeof e?e.attr("datagrid-row-index"):e,e=$.data(t,"datagrid").data,t=$(t).datagrid("options");if("scrollview"===t.view.type){if(a<e.firstRows.length)return e.firstRows[a];a-=t.view.index}return e.rows[a]}});var scrollview=$.extend({},$.fn.datagrid.defaults.view,{type:"scrollview",index:0,r1:[],r2:[],rows:[],render:function(t,e,a){var i=$.data(t,"datagrid").options,d=this.rows||[];if(d.length){$(t).datagrid("getColumnFields",a);if(!a||i.rownumbers||i.frozenColumns&&i.frozenColumns.length){for(var r=this.index,o=['<div class="datagrid-btable-top"></div>'],s=[],n=0;n<d.length;n++){var l,g=d[n];(l=function(t){for(var e=0;e<s.length;e++){var a=s[e];if(a.value===t)return a}return null}(g[i.groupField]))?l.rows.push(g):(l={value:g[i.groupField],rows:[g]},s.push(l))}for(var h=[],n=0;n<s.length;n++)(l=s[n]).startIndex=r,r+=l.rows.length,h=h.concat(l.rows);for(n=0;n<s.length;n++)o.push(this.renderGroup.call(this,t,n,s[n],a));o.push('<div class="datagrid-btable-bottom"></div>'),$(e).html(o.join(""))}}},renderGroup:function(t,e,a,i){var d=$.data(t,"datagrid"),r=d.options,o=$(t).datagrid("getColumnFields",i),s=[];r.groupActive&&(s.push('<div class="datagrid-group" group-index='+e+">"),s.push('<table cellspacing="0" cellpadding="0" border="0" style="height:100%"><tbody>'),s.push("<tr>"),(i&&(r.rownumbers||r.frozenColumns.length)||!i&&!r.rownumbers&&!r.frozenColumns.length)&&s.push('<td style="border:0;text-align:center;width:25px"><span class="datagrid-row-expander datagrid-row-collapse icon-uniF077" style="display:inline-block;margin-left: 8px;cursor:pointer">&nbsp;</span></td>'),s.push('<td style="border:0;">'),i?(s.push('<span class="datagrid-group-title frozen_gtitle text-ellipsis">'),r.frozenColumns[0]&&2<=r.frozenColumns[0].length&&s.push(r.groupFormatter.call(t,a.value,a.rows))):(s.push('<span class="datagrid-group-title unfrozen_gtitle text-ellipsis">'),r.frozenColumns[0]&&r.frozenColumns[0].length<2&&s.push(r.groupFormatter.call(t,a.value,a.rows))),s.push("</span>"),s.push("</td>"),s.push("</tr>"),s.push("</tbody></table>"),s.push("</div>")),s.push('<table class="datagrid-btable" cellspacing="0" cellpadding="0" border="0"><tbody>');for(var n=a.startIndex,l=0;l<a.rows.length;l++){var g=r.rowStyler?r.rowStyler.call(t,n,a.rows[l]):"",h="",c="";"string"==typeof g?c=g:g&&(h=g.class||"",c=g.style||"");g=[];c&&g.push(c);c='class="datagrid-row '+(n%2&&r.striped?"datagrid-row-alt ":" ")+h+'"',h=0<g.length?'style="'+g.join(";")+'"':"",g=d.rowIdPrefix+"-"+(i?1:2)+"-"+n;s.push('<tr id="'+g+'" datagrid-row-index="'+n+'" '+c+" "+h+">"),s.push(this.renderRow.call(this,t,o,i,n,a.rows[l])),s.push("</tr>"),n++}return s.push("</tbody></table>"),s.join("")},onBeforeRender:function(d,t){var r=$.data(d,"datagrid"),o=r.options,e=r.dc,s=this;o._emptyMsg=o.emptyMsg,o.emptyMsg="",r.data.firstRows=r.data.rows,r.data.rows=[],this.groups=[],e.body1.add(e.body2).empty(),this.rows=[],this.r1=this.r2=[],function(){o.rowHeight=$(d).datagrid("getRowHeight");var a=$(d).datagrid("getPager");{var i;a.each(function(){$(this).pagination("options").onSelectPage=function(t,e){o.pageNumber=t||1,o.pageSize=e,a.pagination("refresh",{pageNumber:t,pageSize:e}),$(d).datagrid("gotoPage",o.pageNumber)}}),r.onLoadSuccess=o.onLoadSuccess,o.onLoadSuccess=function(){},o.remoteSort||(i=o.onBeforeSortColumn,o.onBeforeSortColumn=function(t,e){if(!1===i.call(this,t,e))return!1;r.data.rows=r.data.firstRows})}e.body2.unbind(".datagrid"),setTimeout(function(){e.body2.unbind(".datagrid").bind("scroll.datagrid",function(t){r.onLoadSuccess&&(o.onLoadSuccess=r.onLoadSuccess,r.onLoadSuccess=void 0,r.originalRows=$.extend(!0,[],r.data.firstRows)),s.scrollTimer&&clearTimeout(s.scrollTimer),s.scrollTimer=setTimeout(function(){s.scrolling.call(s,d)},50)}),e.body2.triggerHandler("scroll.datagrid")},0)}();var a=this;setTimeout(function(){a.bindEvents(d)},0)},onAfterRender:function(a){$.fn.datagrid.defaults.view.onAfterRender.call(this,a);var i=this,d=$.data(a,"datagrid"),t=d.options;d.onResizeColumn||(d.onResizeColumn=t.onResizeColumn),d.onResize||(d.onResize=t.onResize),t.onResizeColumn=function(t,e){i.resizeGroup(a),d.onResizeColumn.call(a,t,e)},t.onResize=function(t,e){i.resizeGroup(a),d.onResize.call($(a).datagrid("getPanel")[0],t,e)},i.resizeGroup(a);t=$.data(a,"datagrid").dc;t.footer1.add(t.footer2).find("span.datagrid-row-expander").css("visibility","hidden")},renderRow:function(t,e,a,i,d){var r=$.data(t,"datagrid").options,o=[];a&&r.rownumbers&&(a=i+1,r.pagination&&(a+=(r.pageNumber-1)*r.pageSize),o.push('<td class="datagrid-td-rownumber"><div class="datagrid-cell-rownumber">'+a+"</div></td>"));for(var s=0;s<e.length;s++){var n,l,g,h,c,p=e[s],u=$(t).datagrid("getColumnOption",p);u&&(n=d[p],g=l="","string"==typeof(c=u.styler&&u.styler(n,d,i)||"")?g=c:o&&(l=c.class||"",g=c.style||""),h=[],c=[],l&&h.push(l),g&&c.push(g),u.cbd&&(h.push(u.cbd),c.push("border-color:#DDD #"+u.bdc)),u.editor&&h.push("item-hover"),u.hidden&&c.push("display:none"),h=0<h.length?'class="'+h.join(" ")+'"':"",c=0<c.length?c.join(";"):"",o.push('<td field="'+p+'" style="'+c+'" '+h+">"),u.editor&&o.push('<a href="javascript:;" class="aign-right icon-hide-min dg-hid-icon"><i class="icon-uniE684"></i></a>'),u.checkbox?c="":u.expander?c="text-align:center;height:16px;":(c=g,u.align&&(c+=";text-align:"+u.align+";"),r.nowrap?r.autoRowHeight&&(c+=";height:auto;"):c+=";white-space:normal;height:auto;"),o.push('<div style="'+c+'" '),u.checkbox?o.push('class="datagrid-cell-check '):o.push('class="datagrid-cell '+u.cellClass),o.push('">'),u.checkbox?o.push('<input type="checkbox" name="'+p+'" value="'+(void 0!==n?n:"")+'">'):u.expander?o.push('<span class="datagrid-row-expander datagrid-row-expand" style="display:inline-block;width:16px;height:16px;cursor:pointer;" />'):u.formatter?o.push(u.formatter(n,d,i)):o.push(n),o.push("</div>"),o.push("</td>"))}return o.join("")},bindEvents:function(i){var t=$.data(i,"datagrid").dc,t=t.body1.add(t.body2),d=($.data(t[0],"events")||$._data(t[0],"events")).click[0].handler;t.unbind("click").bind("click",function(t){var e,a=$(t.target).closest("span.datagrid-row-expander");a.length?(e=a.closest("div.datagrid-group").attr("group-index"),a.hasClass("datagrid-row-collapse")?$(i).datagrid("collapseGroup",e):$(i).datagrid("expandGroup",e)):d(t),t.stopPropagation()}),t.scrollLeft(0).scroll(function(t){$(".datagrid-group").css("width","calc(100% + "+this.scrollLeft+"px)")})},scrolling:function(e){var t,a,i,d,r=$.data(e,"datagrid"),o=r.options,s=r.dc;o.finder.getRows(e).length?s.body2.is(":visible")&&(d=s.view2.children("div.datagrid-header").outerHeight(),i=s.body2.children("div.datagrid-btable-top"),t=s.body2.children("div.datagrid-btable-bottom"),i.length&&t.length&&(i=i.position().top+i._outerHeight()-d,d=t.position().top-d,i=Math.floor(i),d=Math.floor(d),i>s.body2.height()||d<0?this.reload.call(this,e):0<i?(a=Math.floor(this.index/o.pageSize),this.getRows.call(this,e,a,function(t){this.page=a,this.r2=this.r1,this.r1=t,this.index=(a-1)*o.pageSize,this.rows=this.r1.concat(this.r2),this.populate.call(this,e)})):d<s.body2.height()&&(r.data.rows.length+this.index>=r.data.total||(a=Math.floor(this.index/o.pageSize)+2,this.r2.length&&a++,this.getRows.call(this,e,a,function(t){this.page=a,this.r2.length?(this.r1=this.r2,this.r2=t,this.index+=o.pageSize):this.r2=t,this.rows=this.r1.concat(this.r2),this.populate.call(this,e)}))))):this.reload.call(this,e)},reload:function(e){var t=$.data(e,"datagrid"),a=t.options,i=t.dc,t=$(i.body2).scrollTop()+a.deltaTopHeight,t=Math.floor(t/a.rowHeight),d=Math.floor(t/a.pageSize)+1;this.getRows.call(this,e,d,function(t){this.page=d,this.index=(d-1)*a.pageSize,this.rows=t,this.r1=t,this.r2=[],this.populate.call(this,e),i.body2.triggerHandler("scroll.datagrid")})},getRows:function(e,a,i){var t,d=$.data(e,"datagrid"),r=d.options,o=(a-1)*r.pageSize;r.emptyMsg=r._emptyMsg,this.setEmptyMsg&&this.setEmptyMsg(e),o<0||!1!==r.onBeforeFetch.call(e,a)&&(t=[],d.data.firstRows?t=d.data.firstRows.slice(o,o+r.pageSize):d.data.firstRows=[],!t.length||t.length!==r.pageSize&&o+t.length!==d.data.total?(o=$.extend({},r.queryParams,{page:a,rows:r.pageSize}),r.sortName&&$.extend(o,{sort:r.sortName,order:r.sortOrder}),!1!==r.onBeforeLoad.call(e,o)&&($(e).datagrid("loading"),!1===r.loader.call(e,o,function(t){$(e).datagrid("loaded");t=r.loadFilter.call(e,t);r.onFetch.call(e,a,t.rows),t.rows&&t.rows.length?i.call(r.view,t.rows):r.onLoadSuccess.call(e,t)},function(){$(e).datagrid("loaded"),r.onLoadError.apply(e,arguments)})&&($(e).datagrid("loaded"),d.data.firstRows.length||(r.onFetch.call(e,a,d.data.firstRows),r.onLoadSuccess.call(e,d.data))))):(r.onFetch.call(e,a,t),i.call(this,t)))},populate:function(t){var e,a,i,d,r,o,s,n,l,g=$.data(t,"datagrid"),h=g.options,c=g.dc,p=h.rowHeight,u=h.maxDivHeight;function f(t,e){var a=Math.floor(e/u),i=e-u*a;e<0&&(i=0);for(var d=[],r=0;r<a;r++)d.push('<div style="height:'+u+'px"></div>');d.push('<div style="height:'+i+'px"></div>'),$(t).html(d.join(""))}this.rows.length&&(h.view.render.call(h.view,t,c.body2,!1),h.view.render.call(h.view,t,c.body1,!0),e=(o=c.body1.add(c.body2)).children("div.datagrid-btable-top"),a=o.children("div.datagrid-btable-bottom"),i=this.index*p,d=g.data.total*p-this.rows.length*p-i,n=c,l=0,(s=h).differhigh?n.body2.find(".datagrid-row").each(function(t){l=$(this).attr("datagrid-row-index"),n.body1.find("#datagrid-row-r1-1-"+l).css("height",$(this).height())}):(n.body1.find(".datagrid-row").css("height",s.rowheight),n.body2.find(".datagrid-row").css("height",s.rowheight)),f(e,i),f(a,d),g.data.rows=this.rows,o=c.body2.scrollTop()+h.deltaTopHeight,i>h.maxVisibleHeight?(h.deltaTopHeight=i-h.maxVisibleHeight,f(e,i-h.deltaTopHeight)):h.deltaTopHeight=0,d>h.maxVisibleHeight?f(a,h.maxVisibleHeight):0!=d||(r=g.data.total%h.pageSize)&&f(a,c.body2.height()-r*p),$(t).datagrid("setSelectionState"),c.body2.scrollTop(o-h.deltaTopHeight),h.pageNumber=this.page,(r=$(t).datagrid("getPager")).length&&(o=(o=(c=(p=r.pagination("options")).displayMsg).replace(/{from}/,this.index+1)).replace(/{to}/,this.index+this.rows.length),r.pagination("refresh",{pageNumber:this.page,displayMsg:o}),p.displayMsg=c),this.setEmptyMsg&&this.setEmptyMsg(t),h.onLoadSuccess.call(t,{total:g.data.total,rows:this.rows}))},refreshGroupTitle:function(t,e){var a=$.data(t,"datagrid"),i=a.options,d=a.dc,a=this.groups[e];d.body1.add(d.body2).children("div.datagrid-group[group-index="+e+"]").find("span.datagrid-group-title").html(i.groupFormatter.call(t,a.value,a.rows))},resizeGroup:function(t,e){var a=$.data(t,"datagrid"),i=a.dc,d=i.header2.find("table").find("tr.datagrid-filter-row").hide(),t=i.body2.children("table.datagrid-btable:first").width();(e=null==e?i.body2.children("div.datagrid-group"):i.body2.children("div.datagrid-group[group-index="+e+"]"))._outerWidth(t);t=a.options;t.frozenColumns&&t.frozenColumns.length&&(a=i.view1.width()-t.expanderWidth,i="rtl"==i.view1.css("direction").toLowerCase(),e.find(".datagrid-group-title").css(i?"right":"left",-a+"px")),d.length&&t.showFilterBar&&d.show()},setGroupIndex:function(t){for(var e=0,a=0;a<this.groups.length;a++){var i=this.groups[a];i.startIndex=e,e+=i.rows.length}},updateRow:function(d,r,t){var o=$.data(d,"datagrid").options,s=($(d).datagrid("getRows"),o.finder.getRow(d,r)),e=a(r);$.extend(s,t);var t=a(r),n=e.c,l=t.s,g="datagrid-row "+(r%2&&o.striped?"datagrid-row-alt ":" ")+t.c;function a(t){var e=o.rowStyler?o.rowStyler.call(d,t,s):"",a="",t="";return"string"==typeof e?t=e:e&&(a=e.class||"",t=e.style||""),{c:a,s:t}}function i(t){var e=$(d).datagrid("getColumnFields",t),a=o.finder.getTr(d,r,"body",t?1:2),i=a.find("div.datagrid-cell-check input[type=checkbox]").is(":checked");a.html(this.renderRow.call(this,d,e,t,r,s)),a.attr("style",l).removeClass(n).addClass(g),i&&a.find("div.datagrid-cell-check input[type=checkbox]")._propAttr("checked",!0)}i.call(this,!0),i.call(this,!1),$(d).datagrid("fixRowHeight",r)},insertRow:function(i,t,e){for(var a,d=$.data(i,"datagrid"),r=d.options,o=d.dc,s=null,n=0;n<this.groups.length;n++)if(this.groups[n].value==e[r.groupField]){s=this.groups[n],a=n;break}function l(t,e){var a=e?1:2,e=r.finder.getTr(i,t-1,"body",a);r.finder.getTr(i,t,"body",a).insertAfter(e)}s?((t=null==t?d.data.rows.length:t)<s.startIndex?t=s.startIndex:t>s.startIndex+s.rows.length&&(t=s.startIndex+s.rows.length),$.fn.datagrid.defaults.view.insertRow.call(this,i,t,e),t>=s.startIndex+s.rows.length&&(l(t,!0),l(t,!1)),s.rows.splice(t-s.startIndex,0,e)):(s={value:e[r.groupField],rows:[e],startIndex:d.data.rows.length},a=this.groups.length,o.body1.append(this.renderGroup.call(this,i,a,s,!0)),o.body2.append(this.renderGroup.call(this,i,a,s,!1)),this.groups.push(s),d.data.rows.push(e)),this.refreshGroupTitle(i,a)},deleteRow:function(t,e){var a=$.data(t,"datagrid"),i=a.options,a=a.dc,d=a.body1.add(a.body2),i=i.finder.getTr(t,e,"body",2).closest("table.datagrid-btable"),i=parseInt(i.prev().attr("group-index"));$.fn.datagrid.defaults.view.deleteRow.call(this,t,e);var r=this.groups[i];if(1<r.rows.length)r.rows.splice(e-r.startIndex,1),this.refreshGroupTitle(t,i);else{d.children("div.datagrid-group[group-index="+i+"]").remove();for(var o=i+1;o<this.groups.length;o++)d.children("div.datagrid-group[group-index="+o+"]").attr("group-index",o-1);this.groups.splice(i,1)}for(e=0,o=0;o<this.groups.length;o++)(r=this.groups[o]).startIndex=e,e+=r.rows.length}});$.fn.datagrid.methods.baseUpdateRow=$.fn.datagrid.methods.updateRow,$.fn.datagrid.methods.baseGetRowIndex=$.fn.datagrid.methods.getRowIndex,$.fn.datagrid.methods.baseScrollTo=$.fn.datagrid.methods.scrollTo,$.fn.datagrid.methods.baseGotoPage=$.fn.datagrid.methods.gotoPage,$.fn.datagrid.methods.baseSetSelectionState=$.fn.datagrid.methods.setSelectionState,$.extend($.fn.datagrid.methods,{getRowHeight:function(t){var e,a=t.datagrid("options");return a.rowHeight||(t=(e=$('<div style="position:absolute;top:-1000px;width:100px;height:100px;padding:5px"><table><tr class="datagrid-row"><td>cell</td></tr></table></div>').appendTo("body")).find("tr").outerHeight(),e.remove(),a.rowHeight=t),a.rowHeight},updateRow:function(t,e){return t.each(function(){var t;$(this).datagrid("options").finder.getRow(this,e.index)?$(this).datagrid("baseUpdateRow",e):(t=$(this).datagrid("getData").firstRows||[],e.index<t.length&&$.extend(t[e.index],e.row))})},getRowIndex:function(t,e){var a=t.datagrid("options");if("scrollview"!==a.view.type)return t.datagrid("baseGetRowIndex",e);var i=t.datagrid("getData"),d=0;return 0<=(d="object"==typeof e?$.easyui.indexOfArray(i.firstRows,e):$.easyui.indexOfArray(i.firstRows,a.idField,e))?d:-1===(d=t.datagrid("baseGetRowIndex",e))?-1:d+a.view.index},getRow:function(t,e){return t.datagrid("options").finder.getRow(t[0],e)},gotoPage:function(t,r){return t.each(function(){var e,a,i=this,d=$(i).datagrid("options");"scrollview"===d.view.type?("object"==typeof r?(e=r.page,a=r.callback):e=r,d.view.getRows.call(d.view,i,e,function(t){this.page=e,this.index=(e-1)*d.pageSize,this.rows=t,this.r1=t,this.r2=[],this.populate.call(this,i),$(i).data("datagrid").dc.body2.scrollTop(this.index*d.rowHeight-d.deltaTopHeight),a&&a.call(i,e)})):$(i).datagrid("baseGotoPage",r)})},scrollTo:function(t,r){return t.each(function(){var t,e,a=this,i=$(a).datagrid("options");"object"==typeof r?(t=r.index,e=r.callback):t=r;var d=i.view;"scrollview"!==d.type||t>=d.index&&t<d.index+d.rows.length?($(a).datagrid("baseScrollTo",t),e&&e.call(a,t)):0<=t&&(i=Math.floor(t/i.pageSize)+1,$(a).datagrid("gotoPage",{page:i,callback:function(){setTimeout(function(){$(a).datagrid("baseScrollTo",t),e&&e.call(a,t)},0)}}))})},setSelectionState:function(t){return t.each(function(){var t;"scrollview"===$(this).datagrid("options").view.type?($(this).datagrid("baseSetSelectionState"),(t=$(this).data("datagrid")).data.firstRows.length!==t.checkedRows.length&&(t=t.dc).header1.add(t.header2).find("input[type=checkbox]")._propAttr("checked",!1)):$(this).datagrid("baseSetSelectionState")})},groups:function(t){return t.datagrid("options").view.groups},expandGroup:function(t,i){return t.each(function(){var t=$(this).datagrid("options"),e=$.data(this,"datagrid").dc.view.find(null!=i?'div.datagrid-group[group-index="'+i+'"]':"div.datagrid-group"),a=e.find("span.datagrid-row-expander");a.hasClass("datagrid-row-expand")&&(a.removeClass("datagrid-row-expand").removeClass(" icon-uniF078").addClass("datagrid-row-collapse").addClass(" icon-uniF077"),e.next("table").show()),t.onExpandGroup&&t.onExpandGroup.call(this,i)})},collapseGroup:function(t,i){return t.each(function(){var t=$(this).datagrid("options"),e=$.data(this,"datagrid").dc.view.find(null!=i?'div.datagrid-group[group-index="'+i+'"]':"div.datagrid-group"),a=e.find("span.datagrid-row-expander");a.hasClass("datagrid-row-collapse")&&(a.removeClass("datagrid-row-collapse").removeClass(" icon-uniF077").addClass("datagrid-row-expand").addClass(" icon-uniF078"),e.next("table").hide()),t.onCollapseGroup&&t.onCollapseGroup.call(this,i)})},scrollToGroup:function(t,r){return t.each(function(){var t,e,a,i=$.data(this,"datagrid").dc,d=i.body2.children('div.datagrid-group[group-index="'+r+'"]');d.length&&(t=d.outerHeight(),e=i.view2.children("div.datagrid-header")._outerHeight(),a=i.body2.outerHeight(!0)-i.body2.outerHeight(),(a=d.position().top-e-a)<0?i.body2.scrollTop(i.body2.scrollTop()+a):a+t>i.body2.height()-18&&i.body2.scrollTop(i.body2.scrollTop()+a+t-i.body2.height()+18))})}});